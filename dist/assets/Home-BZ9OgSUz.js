var Uo=Object.defineProperty;var Vo=(t,e,r)=>e in t?Uo(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r;var Y=(t,e,r)=>Vo(t,typeof e!="symbol"?e+"":e,r);import{c as qo,m as Re,a as Jo,e as Yo,s as zn,b as zo,d as Gn,u as Et,j as g,L as pr,f as Go,S as Ys,N as Wo,A as zs,g as Gs,h as Ho,w as Ws,i as Ko,r as H,k as Qo,l as Xo,C as $o,n as Zo,T as ec,o as tc,p as rc,q as nc,t as jn,v as ic,x as sc,B as Wn,F as ac,y as Hn,z as oc}from"./index-BP3NKfLk.js";/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cc=[["path",{d:"M6 2 3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4Z",key:"hou9p0"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}]],lc=qo("shopping-bag",cc);function Ot(t){return t===void 0&&(t=""),`.${t.trim().replace(/([\.:!+\/()[\]])/g,"\\$1").replace(/ /g,".")}`}function uc(t){let{swiper:e,extendParams:r,on:i,emit:o}=t;const n="swiper-pagination";r({pagination:{el:null,bulletElement:"span",clickable:!1,hideOnClick:!1,renderBullet:null,renderProgressbar:null,renderFraction:null,renderCustom:null,progressbarOpposite:!1,type:"bullets",dynamicBullets:!1,dynamicMainBullets:1,formatFractionCurrent:b=>b,formatFractionTotal:b=>b,bulletClass:`${n}-bullet`,bulletActiveClass:`${n}-bullet-active`,modifierClass:`${n}-`,currentClass:`${n}-current`,totalClass:`${n}-total`,hiddenClass:`${n}-hidden`,progressbarFillClass:`${n}-progressbar-fill`,progressbarOppositeClass:`${n}-progressbar-opposite`,clickableClass:`${n}-clickable`,lockClass:`${n}-lock`,horizontalClass:`${n}-horizontal`,verticalClass:`${n}-vertical`,paginationDisabledClass:`${n}-disabled`}}),e.pagination={el:null,bullets:[]};let s,c=0;function d(){return!e.params.pagination.el||!e.pagination.el||Array.isArray(e.pagination.el)&&e.pagination.el.length===0}function p(b,A){const{bulletActiveClass:w}=e.params.pagination;b&&(b=b[`${A==="prev"?"previous":"next"}ElementSibling`],b&&(b.classList.add(`${w}-${A}`),b=b[`${A==="prev"?"previous":"next"}ElementSibling`],b&&b.classList.add(`${w}-${A}-${A}`)))}function v(b,A,w){if(b=b%w,A=A%w,A===b+1)return"next";if(A===b-1)return"previous"}function E(b){const A=b.target.closest(Ot(e.params.pagination.bulletClass));if(!A)return;b.preventDefault();const w=Gn(A)*e.params.slidesPerGroup;if(e.params.loop){if(e.realIndex===w)return;const S=v(e.realIndex,w,e.slides.length);S==="next"?e.slideNext():S==="previous"?e.slidePrev():e.slideToLoop(w)}else e.slideTo(w)}function C(){const b=e.rtl,A=e.params.pagination;if(d())return;let w=e.pagination.el;w=Re(w);let S,T;const O=e.virtual&&e.params.virtual.enabled?e.virtual.slides.length:e.slides.length,D=e.params.loop?Math.ceil(O/e.params.slidesPerGroup):e.snapGrid.length;if(e.params.loop?(T=e.previousRealIndex||0,S=e.params.slidesPerGroup>1?Math.floor(e.realIndex/e.params.slidesPerGroup):e.realIndex):typeof e.snapIndex<"u"?(S=e.snapIndex,T=e.previousSnapIndex):(T=e.previousIndex||0,S=e.activeIndex||0),A.type==="bullets"&&e.pagination.bullets&&e.pagination.bullets.length>0){const L=e.pagination.bullets;let R,V,Z;if(A.dynamicBullets&&(s=zo(L[0],e.isHorizontal()?"width":"height"),w.forEach(N=>{N.style[e.isHorizontal()?"width":"height"]=`${s*(A.dynamicMainBullets+4)}px`}),A.dynamicMainBullets>1&&T!==void 0&&(c+=S-(T||0),c>A.dynamicMainBullets-1?c=A.dynamicMainBullets-1:c<0&&(c=0)),R=Math.max(S-c,0),V=R+(Math.min(L.length,A.dynamicMainBullets)-1),Z=(V+R)/2),L.forEach(N=>{const z=[...["","-next","-next-next","-prev","-prev-prev","-main"].map(W=>`${A.bulletActiveClass}${W}`)].map(W=>typeof W=="string"&&W.includes(" ")?W.split(" "):W).flat();N.classList.remove(...z)}),w.length>1)L.forEach(N=>{const z=Gn(N);z===S?N.classList.add(...A.bulletActiveClass.split(" ")):e.isElement&&N.setAttribute("part","bullet"),A.dynamicBullets&&(z>=R&&z<=V&&N.classList.add(...`${A.bulletActiveClass}-main`.split(" ")),z===R&&p(N,"prev"),z===V&&p(N,"next"))});else{const N=L[S];if(N&&N.classList.add(...A.bulletActiveClass.split(" ")),e.isElement&&L.forEach((z,W)=>{z.setAttribute("part",W===S?"bullet-active":"bullet")}),A.dynamicBullets){const z=L[R],W=L[V];for(let U=R;U<=V;U+=1)L[U]&&L[U].classList.add(...`${A.bulletActiveClass}-main`.split(" "));p(z,"prev"),p(W,"next")}}if(A.dynamicBullets){const N=Math.min(L.length,A.dynamicMainBullets+4),z=(s*N-s)/2-Z*s,W=b?"right":"left";L.forEach(U=>{U.style[e.isHorizontal()?W:"top"]=`${z}px`})}}w.forEach((L,R)=>{if(A.type==="fraction"&&(L.querySelectorAll(Ot(A.currentClass)).forEach(V=>{V.textContent=A.formatFractionCurrent(S+1)}),L.querySelectorAll(Ot(A.totalClass)).forEach(V=>{V.textContent=A.formatFractionTotal(D)})),A.type==="progressbar"){let V;A.progressbarOpposite?V=e.isHorizontal()?"vertical":"horizontal":V=e.isHorizontal()?"horizontal":"vertical";const Z=(S+1)/D;let N=1,z=1;V==="horizontal"?N=Z:z=Z,L.querySelectorAll(Ot(A.progressbarFillClass)).forEach(W=>{W.style.transform=`translate3d(0,0,0) scaleX(${N}) scaleY(${z})`,W.style.transitionDuration=`${e.params.speed}ms`})}A.type==="custom"&&A.renderCustom?(zn(L,A.renderCustom(e,S+1,D)),R===0&&o("paginationRender",L)):(R===0&&o("paginationRender",L),o("paginationUpdate",L)),e.params.watchOverflow&&e.enabled&&L.classList[e.isLocked?"add":"remove"](A.lockClass)})}function x(){const b=e.params.pagination;if(d())return;const A=e.virtual&&e.params.virtual.enabled?e.virtual.slides.length:e.grid&&e.params.grid.rows>1?e.slides.length/Math.ceil(e.params.grid.rows):e.slides.length;let w=e.pagination.el;w=Re(w);let S="";if(b.type==="bullets"){let T=e.params.loop?Math.ceil(A/e.params.slidesPerGroup):e.snapGrid.length;e.params.freeMode&&e.params.freeMode.enabled&&T>A&&(T=A);for(let O=0;O<T;O+=1)b.renderBullet?S+=b.renderBullet.call(e,O,b.bulletClass):S+=`<${b.bulletElement} ${e.isElement?'part="bullet"':""} class="${b.bulletClass}"></${b.bulletElement}>`}b.type==="fraction"&&(b.renderFraction?S=b.renderFraction.call(e,b.currentClass,b.totalClass):S=`<span class="${b.currentClass}"></span> / <span class="${b.totalClass}"></span>`),b.type==="progressbar"&&(b.renderProgressbar?S=b.renderProgressbar.call(e,b.progressbarFillClass):S=`<span class="${b.progressbarFillClass}"></span>`),e.pagination.bullets=[],w.forEach(T=>{b.type!=="custom"&&zn(T,S||""),b.type==="bullets"&&e.pagination.bullets.push(...T.querySelectorAll(Ot(b.bulletClass)))}),b.type!=="custom"&&o("paginationRender",w[0])}function h(){e.params.pagination=Jo(e,e.originalParams.pagination,e.params.pagination,{el:"swiper-pagination"});const b=e.params.pagination;if(!b.el)return;let A;typeof b.el=="string"&&e.isElement&&(A=e.el.querySelector(b.el)),!A&&typeof b.el=="string"&&(A=[...document.querySelectorAll(b.el)]),A||(A=b.el),!(!A||A.length===0)&&(e.params.uniqueNavElements&&typeof b.el=="string"&&Array.isArray(A)&&A.length>1&&(A=[...e.el.querySelectorAll(b.el)],A.length>1&&(A=A.find(w=>Yo(w,".swiper")[0]===e.el))),Array.isArray(A)&&A.length===1&&(A=A[0]),Object.assign(e.pagination,{el:A}),A=Re(A),A.forEach(w=>{b.type==="bullets"&&b.clickable&&w.classList.add(...(b.clickableClass||"").split(" ")),w.classList.add(b.modifierClass+b.type),w.classList.add(e.isHorizontal()?b.horizontalClass:b.verticalClass),b.type==="bullets"&&b.dynamicBullets&&(w.classList.add(`${b.modifierClass}${b.type}-dynamic`),c=0,b.dynamicMainBullets<1&&(b.dynamicMainBullets=1)),b.type==="progressbar"&&b.progressbarOpposite&&w.classList.add(b.progressbarOppositeClass),b.clickable&&w.addEventListener("click",E),e.enabled||w.classList.add(b.lockClass)}))}function m(){const b=e.params.pagination;if(d())return;let A=e.pagination.el;A&&(A=Re(A),A.forEach(w=>{w.classList.remove(b.hiddenClass),w.classList.remove(b.modifierClass+b.type),w.classList.remove(e.isHorizontal()?b.horizontalClass:b.verticalClass),b.clickable&&(w.classList.remove(...(b.clickableClass||"").split(" ")),w.removeEventListener("click",E))})),e.pagination.bullets&&e.pagination.bullets.forEach(w=>w.classList.remove(...b.bulletActiveClass.split(" ")))}i("changeDirection",()=>{if(!e.pagination||!e.pagination.el)return;const b=e.params.pagination;let{el:A}=e.pagination;A=Re(A),A.forEach(w=>{w.classList.remove(b.horizontalClass,b.verticalClass),w.classList.add(e.isHorizontal()?b.horizontalClass:b.verticalClass)})}),i("init",()=>{e.params.pagination.enabled===!1?_():(h(),x(),C())}),i("activeIndexChange",()=>{typeof e.snapIndex>"u"&&C()}),i("snapIndexChange",()=>{C()}),i("snapGridLengthChange",()=>{x(),C()}),i("destroy",()=>{m()}),i("enable disable",()=>{let{el:b}=e.pagination;b&&(b=Re(b),b.forEach(A=>A.classList[e.enabled?"remove":"add"](e.params.pagination.lockClass)))}),i("lock unlock",()=>{C()}),i("click",(b,A)=>{const w=A.target,S=Re(e.pagination.el);if(e.params.pagination.el&&e.params.pagination.hideOnClick&&S&&S.length>0&&!w.classList.contains(e.params.pagination.bulletClass)){if(e.navigation&&(e.navigation.nextEl&&w===e.navigation.nextEl||e.navigation.prevEl&&w===e.navigation.prevEl))return;const T=S[0].classList.contains(e.params.pagination.hiddenClass);o(T===!0?"paginationShow":"paginationHide"),S.forEach(O=>O.classList.toggle(e.params.pagination.hiddenClass))}});const k=()=>{e.el.classList.remove(e.params.pagination.paginationDisabledClass);let{el:b}=e.pagination;b&&(b=Re(b),b.forEach(A=>A.classList.remove(e.params.pagination.paginationDisabledClass))),h(),x(),C()},_=()=>{e.el.classList.add(e.params.pagination.paginationDisabledClass);let{el:b}=e.pagination;b&&(b=Re(b),b.forEach(A=>A.classList.add(e.params.pagination.paginationDisabledClass))),m()};Object.assign(e.pagination,{enable:k,disable:_,render:x,update:C,init:h,destroy:m})}const dc="/assets/building-Cbb3yISI.png",pc="/assets/rental-DeQaCled.png",hc="/assets/sale-BVeo_QC7.png",fc="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAALZSURBVHgBxVXdThNREJ45+1N+bLoVjOVCbW/UBGN4AS94CSNqYon3Ak8APAESE2OiRkhQghfGN+ACTbiDSLzVAhEuECntVpalu+OcXXbLtrsNQRImOd3ZM3vmO/N950wBLtKUudpPOZLiYs5sG5emtgumuzbyBED7SfHOzTwgwP5pAcT72jgSjQJiBogw17MADIDmnElxi/t6F7xnGCcoI8JM/fGlsTBn4GgfdqYUtCYUYRsKHqIiDiF3+Sv08ZA+z4Pgpz9sCuJXeYggrtoZFPaIPr873lKBrtaKvFlwHLdgDRVKci63dYt4iuyHPSKugtzWTVeuOTqOd8xv5xXVZk1o1AaYjABompmRfNTu3ykFc+muzZIbS45v3Z2b60KKcGzWUF/J+LQGHsXNFWhqFZj/SILXxt8CtLG32YOWuK6asihsAUipVYRzME2tcAGNVKGnz/8mx+mQ5XllEEn6G3F5XE++B3NeEpmQKIwpigX2UC9GKrh9fZbLq3jHEiWIXIAns2NIIfvEPpKX2A1xfRyAIycN346XhgCuq8OB3QPf7z37L6r6v7xwgWI0kNw1MXAm030tKQagevr87/YMoWkrknvnUXfkJPFGKaGCakT9dmYYv6aIlBtAYn2/pQIzkqRxkzUzMWH/0stFvtBltb4zXNevjNTry0UiUT48yA42A3hMxAL4Jyj23vZmVrhr1vNMSB5gY0B+5lBqbOnuqxK0AFTiAVRJUYIK2fTaYEqvLCI6A/LddTonP15bnYn7lkWWF6ZV5BRTlNR2PheWS8W9jkEFcFEgrnILmUj4NKAoRmSlEkFutpmsVeJH297kVeBttNHUGv8HulmWJ6C4ncvDGe0Br5UacJ5Q+4bIijnN4o0z+o/hPwZ4ZzmoyO8JnutP+u1Kakb+K/q3y+Jfi9uYmA3yRkR9utv9HAU9YdfwgryMmlp4pHwUeDLOXpkTTr/JJmt07vYPs2YhbubNjXgAAAAASUVORK5CYII=",mc="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAOfSURBVHgBtVXPbxtFFH6zM7O7TlzYqAJULh4fOICE6ogbIHV9ayqkpqBKhB7s9oRUoZa/IOU/qLgiERtBkThg91RuXo4gQZxLi+hh105/qT/kbb3ruE12pm82zdZNYiet1E+72tn3vnnfzJs3MwCvGWSid6nnGKZVIaBcZJZAKqEA8JEdAkaAjFpCqAencp2XEnCWfGdgv3FOKXIeKW8CNjRTk9UmRY32J0RdeLJw8Lt9Cdi/XhOGMdUCMIT2KiCeSmgdXd5w4VCgOfy3uyWaPCkRgxwnRM7jALQ5kDIpDxeKwVgBp7EslLJbGFWnAjuw09HJ9zyYAAcHpEzAAYEAA3wiVTn84oPOrgJvXf7bl0AKmI+VDUnL4YnZcNRPf4l9/U1OTRe3DcxhJGkBUSVcr2Bd8tmtvsYW6d0rrUXGYsFZ3NmQ/R3BNSz2UJj4brdr7obqlxmLAh3DNsNzW75UQFxpCGrEi4xGaOlh8PKO4Br53Crkp1bVbj7dhxnD0zqGyeLzotFwMgFKB67JIoKOy3fmTgQwBvlcFw7kVseW9o25OY+xNY+zyDHya9VMgJtrFZya4jRuwgTg6GEaRSbBov26ngXngyP6n6UCLNJVQyTj7YkCmKLnW2AcHuEMDNw4qpTNIF1cGsPVT87uIdBNRY79f6w6jvNf+dsAB0ywWEQmwPWUWAR7YXrqRjA91VWWde/Hz7sf+Se7H1Z342EslRbMyAy0Knx89WxhkkCj8FcxZ947cyB3s5PP3Srk7PtLlfvv+KOcT//95jAOmHAe+ZkAVlA7LS8ydGEPXDoU1H56+1bRYo/OWPxhwGj/BT8z+7OYHp2VdDdvLjKPPaXUPC5MFX/rsA/8MBPX8FPbbjfZ4Lg+mpLEqGczWLce11E1xFQd+ez6URdeEUevubhho/k0G3ToZQJesRmiwEWdO4MOluZ914GXhO5j2aqVpocPLvzxfjPQdvKcUHIMSpexzgtEqZUET8VmsR3uL7hwGDvYwtSU8A1+L/yTHYbZYaeDmUlcxhx2GB8ctq3B8pe3hdgrOHJc27KWMS0lRuPAlHF51E926SC4gUcvSLFpkU1CVVNS2f555u6KtnzVcwp0nWMgVgFl4HWqbyYVJKbpXprxOxMFtlB94CziVbiYkhS29N32jK7b2FSpnage3njfQyQv1orhjpROvPS/7tkiAeriwVLBMhZIxjNL6SrsUIA2fv/cAKtWmwn3tVavBU8B0/KAD/3e2KQAAAAASUVORK5CYII=",gc="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAOhSURBVHgBzVVdaBxVFD7nzJ3dRFsyKxUaVLr4JNa6KyiotHaXVHwQqf3BtvqQRu1bYddXHzqz4JOibkEERciqfahYTPLik5CpUUEUuqFpDFbbaotRI2Zq9qexM/d67jXd7iRNuikUemCY+3PO+b5z7rnnAtxkwU4VxcezOSSrXykMEMMPL7+QqnZi1xFA1yd/uCDB09pKGSvGkaV/9/SWbghgzWent6KUaZCIaFkZKbFoNiI8DKStVMHMSZUxisb5ry6j7V/ade8v1wW4Y+SkqzRb1bbLtJlyKdi1ydNTZ+iUiyriiNCgKaWZIKtL7+8dmdKyAOuHRtOh6D5Diq2AKsY3YAARjPy14xG/XXfd0Hc5ILldITqcMYdAPcs0wMIw//szW1q6ot3ISsgcYU1TGpl++skBWEEWAFuOej//osKs+pFgQ7teDIDsfzjFpFnPwioladX1kXEyI1wWIGk3M5x/BqAAVimWqAcWM+OjyLSv05XBfWPvuYLqRSHqKmE3hq/rcXA2TUdqZ+lI/Yye2lQftu06sH1R+4oBbPz2zYzApiesGtiiUZp64sXjK/nWxZByfhtde9uFDWu6LpiUTOUP+IIaJcGpEtR0Hxh7I6fXTYqS6tKAEqZiytVHX42V2caxd0e5SgIhZl6pPuady379enY+/HFIwc/pSIrqTNCTv6I7saXgZb95rYcPuogW9vOSbwAE1RxzS0kuYbuu50QaMdJf9qmpnYfnw8lDTMSRYffwnEoMnM6XY+dlJ5vsSCoCvNiKIGE3KxKkRixuHj8YfJV5pxVFau3JvLDmPSEaev8t/jCSXZVP7x5fUsaPnzjoAs4VdCpCJQb1WqukNo+/7FqkPLMYRnn/oYrfbvzSxe4CSizzsPRBquEtdp7/4cBWGUpfdwCFlvflpveX9qm+iefL2yb3qm2Te96GVUrfxL5y3yltuy9mG7sHdiKogrJ0XA6sUmx7zvm/N3HzWw6AqAGkmxZ1/ExcBRC1HjaEaFGdxG9ycv4syEj3rP07f32Yo1BcIRgw3sixe77323V3n8/mpBLbmY6JVqnmQrOjmN4SqrvPP+gRRYd0JbRrERfA0d5Jc3DPTd/PDxC6cR1u1gDesbsmSisCaNk7nU4TWDl90RVGGYSooLs9gTQPTiSJ5wa2rJRlci5BnTva+5O/2FdHyd4/s97jLukuEDXPJpP3Prrzzxt7Mq8JMnt7VgD28yV1JGFlMFU7DreC/AezsW7vPtzN5AAAAABJRU5ErkJggg==",vc="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAQTSURBVHgBlVVNbBtFFJ7fteOfehcKiAYUpxIIqRWxc+LnYgsEAlFitwIhgqjNiVvsO8K2BGeHM0h2pCoCCo0jDpE4UAcJCSFRuxUSckLaTWmqptTOmmbXhnh3OmOlrjf+ifuk1e7OvPd98755bwaCYZbbkYGDzmAGIwywAGBgAgIAGQBlCKEKTLZsfujJD4OAgyakxe0IY1KOf8ptR+7JODKDnKYd2B7gPExlrJXZm3083w8H9Rsc++Z6FpPWBUp0meBGEcFGEsHm5N6sAlvvKwiSvWmMG3FCDBVjw0/w/znX+b9TI2Vw5PsKd4TiqZsWyOjvPDMPhtiR8xsJgMwUY0zm2cz/e+a55ECCR5d+jzGIhCyaxUBYiwbLYASTf/hjCpl7Ra6jj5NEq28Hl+/P2SSitJniaTOKGplRwYVpp05epqSRoWgXEqjn5aWLck8G4ysrMQBwjm+huvXma5M2hNyOHxKSQxAGxIL55hbMVisJ4ora7Ta+8uNF/grxdce23nh1wZYBQc0ZgnVAoZ7pDpKXSn6Pu37J5ayFnI6q7HBUmdNRi7j5mJizKYAbhTYGuRsBByWiVPdTYgDqNGzSeMZuZ33eNcXnupqnpKZI5OZxn/uvvOytKG7nrZwtU1pbpoIAG4EeAq79lGBfD8/aCHzuSkTxVIBD3kjzfdG06Iuq5LqeVLwVIHvXp7p91XBcFYvEWPd3cDvkSO/bdIp3XeMdJR9lu/Vr+2N+eVVuQbfoOPmgv1gkbz/WQyCahgP5g5c+myhNf7L5IIO1MkRmCIJW9vTNl9LWf0ad10HKNAngpbzcDR747fMAtAzR75d7CCSiF/lREIMmi/LfTnN5PdtxgmolHhTjvzHmEguvcm2RppuuRDcBBXcDECOhhHp/rLMHEBurhOiAUGOmO+jrJ8uqR7odHJPuFBzSHTYmVetjUm0VS9vBC8f+3LQRUGOOkF1GkNHJrKN7qBSTLUyFzDIyWbgY/KoIHsJCVz6KWUCcAlD9+fkvJ3syKAbzGj/YvhBlhhy7uVApIj8MASaNlNhghOx9ZDsqfjpxLs2dVN4wfofbSo0K/vraqSyP433UUIsnF/MDCdorQUaU17LGSRJvbbwyBw4x4UNRM0GwAaDVDB+c71v7kWsv8+pgWX53iZKOL038utDP78zmC2dNhvIChHsmC5O/zI9EIOz05nQa8XNefCPIYt8+dcVG8u6NE2ctRvL7MOnvni5n+uEMJBD23tazaYCsT9skyMosPnG1DfLBreNzJsPz4g6FDGUWx9fSgzCGErTBto+l+H2cbl/IiBXFplkMhYQoDOLMucduZIbFH0ogLPbPI4l9uWQGBRPUgAWTuaPawmGxIxEI+3jH6W8BNGUBqFiAFvKKpo0Sdw/FTZd1JYxTggAAAABJRU5ErkJggg==",yc=[gc,mc,vc,fc],bc=()=>{const{t}=Et("home"),e=t("hero.features",{returnObjects:!0});return g.jsxs("section",{className:"relative w-full overflow-hidden flex items-center justify-center text-white py-20 md:py-28 xl:py-36",children:[g.jsx("div",{className:"absolute inset-0 bg-black/30 z-[1]"}),g.jsx("video",{autoPlay:!0,loop:!0,muted:!0,playsInline:!0,className:"absolute inset-0 w-full h-full object-cover z-0",children:g.jsx("source",{src:"https://xotostaging.s3.me-central-1.amazonaws.com/properties/1768043300370-mortgage2.mp4",type:"video/mp4"})}),g.jsx("div",{className:"relative z-[2] w-full max-w-7xl mx-auto px-4 lg:px-12 flex flex-col items-center lg:items-start text-center lg:text-left gap-10",children:g.jsxs("div",{className:"max-w-3xl space-y-6",children:[g.jsxs("h1",{className:"heading-light",children:[t("hero.title1"),g.jsxs("span",{children:[g.jsx("br",{}),t("hero.title2")]})]}),g.jsx("p",{className:"paragraph-light-1 text-lg",children:t("hero.description")}),g.jsxs("div",{className:"flex flex-row gap-4 justify-center lg:justify-start pt-4",children:[g.jsx(pr,{to:"/aiPlanner",className:"bg-[var(--color-primary)] px-8 py-3 rounded-md shadow-lg",children:t("hero.buttons.design")}),g.jsx(pr,{to:"/marketplace",className:"border-2 border-white px-8 py-3 rounded-md hover:bg-white hover:text-black transition",children:t("hero.buttons.explore")})]}),g.jsx("div",{className:"mt-6 md:max-w-[460px] grid grid-cols-2 gap-6 ",children:e.map((r,i)=>g.jsxs("div",{className:"flex items-center gap-3  ",children:[g.jsx("div",{className:"w-10 h-10 bg-[var(--color-primary)] rounded-full flex items-center justify-center",children:g.jsx("img",{src:yc[i],className:"w-5 h-5",alt:""})}),g.jsxs("span",{className:"font-semibold text-lg",children:[r.line1,g.jsx("br",{}),r.line2]})]},i))})]})}),g.jsx("div",{className:"absolute bottom-0 left-0 w-70 h-10 bg-[var(--color-body)] z-[5] clip-left-shape border-none "}),g.jsx("div",{className:"absolute bottom-0 right-0 w-70 h-10  bg-[var(--color-body)] z-[5] clip-right-shape border-none"}),g.jsx("style",{children:`
        .clip-left-shape {
          clip-path: polygon(0 0, 55% 0, 100% 100%, 0% 100%);
        }
        .clip-right-shape {
          clip-path: polygon(47% 0, 100% 0, 100% 100%, 0% 100%);
        }
      `})]})},wc="/assets/logohome-rKPsq3MA.png",Ac="/assets/logoconnect-DQ6YE8D3.png",Sc="/assets/logoblitz-Cp7X5GO3.png",_c="/assets/logogrid-CA9dyDAc.png",Ec="/assets/logovault-BGjuqoK0.png",kc=()=>{const{t}=Et("home4"),e=[{logo:wc,key:"home"},{logo:Ac,key:"connect"},{logo:Sc,key:"blitz"},{logo:_c,key:"grid"},{logo:Ec,key:"vault"}];return g.jsxs("section",{className:"relative w-full bg-[var(--color-body)] py-10 sm:py-12 md:py-16 lg:py-20 overflow-hidden",children:[g.jsxs("div",{className:"absolute inset-0",children:[g.jsx("img",{src:Go,alt:"City",className:"w-full h-full object-cover"}),g.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/70 via-black/40 to-black/20"})]}),g.jsxs("div",{className:"relative z-10 max-w-8xl mx-auto",children:[g.jsx("h2",{className:"text-center text-white mb-10 drop-shadow-xl heading-light",children:t("title")}),g.jsx(Ys,{modules:[uc,Wo,zs],pagination:{clickable:!0,bulletActiveClass:"swiper-pagination-bullet-active !bg-white !opacity-100",bulletClass:"swiper-pagination-bullet !bg-white/50 !w-2 !h-2 md:!w-3 md:!h-3"},autoplay:{delay:4500,disableOnInteraction:!1},centeredSlides:!0,loop:!0,grabCursor:!0,breakpoints:{320:{slidesPerView:1.05,spaceBetween:10},480:{slidesPerView:1.1,spaceBetween:15},640:{slidesPerView:1.15,spaceBetween:20},768:{slidesPerView:1.25,spaceBetween:25},1024:{slidesPerView:1.35,spaceBetween:30},1280:{slidesPerView:1.45,spaceBetween:40},1536:{slidesPerView:1.5,spaceBetween:40}},className:"!pb-16",children:e.map((r,i)=>g.jsx(Gs,{children:({isActive:o})=>g.jsxs("div",{className:`
                    group relative flex flex-row items-center justify-start text-left
                    rounded-[2rem] sm:rounded-[3rem] md:rounded-[4rem]
                    min-h-[180px] sm:min-h-[220px] lg:min-h-[240px]
                    w-full mx-auto
                    max-w-[340px] xs:max-w-[400px] sm:max-w-[580px]
                    md:max-w-[720px] lg:max-w-[880px] xl:max-w-[950px]
                    px-4 py-4 sm:px-8 sm:py-8 md:px-10 md:py-10
                    transition-all duration-500 ease-out shadow-xl border border-white/10
                    ${o?"scale-100 bg-gradient-to-br from-[#500286] via-black to-[#500286] text-white":"scale-95 bg-gradient-to-br from-[#500286] via-black to-[#500286] text-gray-300 opacity-80"}
                  `,children:[g.jsx("div",{className:"flex-shrink-0 flex items-center justify-center w-[100px] sm:w-[160px] md:w-[200px]",children:g.jsx("img",{src:r.logo,alt:"Logo",className:`
                        object-contain transition-all duration-300
                        w-[90px] h-[55px]
                        xs:w-[110px] xs:h-[65px]
                        sm:w-[150px] sm:h-[90px]
                        md:w-[185px] md:h-[110px]
                        lg:w-[205px] lg:h-[122px]
                        ${o?"scale-105":"scale-100"}
                      `})}),g.jsx("div",{className:"flex flex-col flex-1 pl-3 sm:pl-6 md:pl-8",children:g.jsx("p",{className:"leading-snug sm:leading-relaxed font-bold text-[12px] xs:text-[13px] sm:text-[15px] md:text-[16px] lg:text-[18px]",children:t(`descriptions.${r.key}`)})})]})},i))}),g.jsx("div",{className:"swiper-pagination !static !bottom-0 !mt-4"})]})]})},xc="/assets/houseimage1-BdiDsnia.png",Cc="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABoAAAAaCAYAAACpSkzOAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAEISURBVHgBzZSBDYMgEACfpgO0E9QRHMFNdARHcIPaSToCblA3cIS6AeWTN8UPr6CY9hIiAf4PPgLAv2KMybDBkVhBab6UcARMcoxMkKSVeSQvaulkguRCLY1Mkjjz+2VrkiSyUMkuWaxkk2zDSfCF0LS2DpJREEevSAa+1iNCbjh3ApmMgnNKep8k9qOneeJBX18FFN9lYVvr7GSgce2MPdlJkMrJ4c5hrgIWSsJFtZGpWPzASxYsovFmTZJE5JFVQrwoOkMgSikUdbY72n4PkQSLSNbBRk6QFvGCKz5gy/N2AjqIk+TUx/JeF1cLf1gsDYRg5hc3ltaXUy3IMpg/MyH0tmQj/JIPRANVoZTonqEAAAAASUVORK5CYII=",Tc="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABkAAAAZCAYAAADE6YVjAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAFGSURBVHgBxZSBUcMwDEVlLgNkA8wEDRMQNmCDdoQyAd2A6wSFCWCDlA26QbIB2cBIPemqurbjcNS8u39RLCmyLTsABTAOgStzAwUIFdmi7lEDzGOPekR9XnjciW/UGtWgWn5uXB6UZ1Xemr93BFQBCep4bId64qQU5F+i3vi94+9YKVTxgmrUB2r0FvoaGPPZcf6XGntBWR4/60kT+UhsfMpvxagCznee1QHVQj7U8IG11I4i96SC+Ud1NkYMOhHw94zGmIMUsO460Mn7n9/KHnXH2ip7Col7VvYgzosjjHt4dOJSR2VDiqkcvwj1ZsP2g7KTqLgF9Zft2g+SxneBRJjqropbKbuXxlcwj8F7t5BBaLtWbC/0zKgA7vfZIaDZejlttH+Z29UH8vrfbFftTjf/1mX+BVRco+xo41NEV5Kg3I0vwg+ObCALbVmU2QAAAABJRU5ErkJggg==",jc="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABcAAAAXCAYAAADgKtSgAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAFLSURBVHgBrZXRccIwDIbtXt+bEbxB2aDuBhmBEbJBswHtBHQDukG6AWzgbAAbCCmRDyHsJBf83+lsgaT7bCRjzIwAYItWmdLCol8wql0Y79FqNJcLcHFFC1z8PEVP36Ed4SbK2+igLX/ZCGo/R8/xWp0OCoKU9nv+/DfSExFBqLxDojikqEEdL3DhgV4AeJHbJnKPKeql6ibunGA2U9RL5NX1eNCtu4L6gT73S6+lTtLnOmStsvQv5nllh8syvTMrZa3tTUnB2Hqe996UFIwTO9w3r+GZ0+viqXGnwWlyCfT4VLynY7fK3/HazHRPowvvZFvhumf/T5FGP6iC3zBOZ5B1X3mNb2988aL/zr5j/03kXtB+0D54X+WupINl6gR54L18Ee/I9RD1aJ9oJ/ZPyqc7dwLKqdPEf7AhxuKmxvVgyuvfckfUprz6Kzt2ayCm/wRXAAAAAElFTkSuQmCC",Oc="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABkAAAAZCAYAAADE6YVjAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAEQSURBVHgB3ZXhDYIwEIWvxgEcoaM4gm7ACGygTmCcgLgBG8AGugFsABvUd6QxzYUjFig//JJH4Xq9a+lRjHOuISJL6Wh3uDyhmtJQQ4/hDqvJXBoyjr9XZnCGeornABW+/TKWpDXGlJjFIXSGrZU2QQ+fHj536bMjnRxqAjEnYQuVa4GmkqzGJkn2kf4l6eXer5WEsYq91RLFJuGNL5S+G3Qd6/ifjR8Qx0pDC+DxvxwrFp38Yc05Vobx0qBt/J1WxGDWF7QZpfmnvKGak7xIP/TWYO5rTwhWbX0lWkpFUOpZzLjtPsYp+G8IHaEC6vxKOv98oqWIwEwFXX3rRML4CvUr6HzAXAYJiqDyflaL9QFDvC/t/mGFGwAAAABJRU5ErkJggg==",Mc="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABkAAAAZCAYAAADE6YVjAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAE4SURBVHgBtZaBdYIwEIYvvA7ACIxAJyhu4Ah0AzcgnaB2grYT6AY4ghugE+gG552QZzyDEA++9/4nBpKPXKIAQCBiRTnhtPB4FXiCObGGjeRKYT7OSUCwpSwo75RPygF0pCCm9sut9JlSiu44RyVSUlAyvG0C24lqVJCIqTXQls+V8MPVFTQI6aprW1M2lLz73qACKeEyZeImvlGJuZoe2UG7q5Ywwfbuk0xKAtPAG4N/V//Bs6iH1zH3xvuTF2gld4I+kUYSFIREQ5LmFYEnqvniZwu/hdufpA8v8sIYs4dhjs4WYi3uqPTOLWEkrmQhie3pUHolzDSS1UCnKJGU8EKWMIIYkZRYiGCsyJfwLGqIZIwI28fF6Y2OfygVN0D8w+lAySg19d+Jc9xeUL6c0eI8712Wx78AlWG1aWaenGgAAAAASUVORK5CYII=",Ic="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABkAAAAZCAYAAADE6YVjAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAEpSURBVHgB5ZaBbcIwEEV/ogzgTlCPkA1KRmADOkHVCcoG7QbNBoxQRugGwASwQfgnLigK2DlbCCHxpFOs4+zznX1nCpCu62b8/CLOuiiKd2RQ6ddR/IRtjUzKhAU8MikTFnBMq0MGvZNXo71HBr0T6w49Mkg5k2wnlea5GelnlA/KfKTf4lbQ8YKywY0ocQcqZMAo/RX1gR3hgIRFgumi/rsL8wUrE05iXJ1zlzN5IifMc01ZyYHDgBS3Xo6//hZarvAK2k44aWewX+LULQR5CBtLulxgbLa3RNLojvom2kZspRhfdLymfAYtx3Ui/wG0DpZTdUJpdXx+ox62d7WR34bpCqNXdq8h/wx0qelysUhq3ZHImyjYXf85SR4wj8sHbhzJgjIfduQjUTcWBzd0PYUAAAAASUVORK5CYII=",Pc=()=>{const t=Ho(),{t:e}=Et("home1"),r=[{key:"exterior",icon:Tc,link:"/aiPlanner/exterior",position:"top-[16%] right-[18%] sm:top-[10%] sm:right-[12%] lg:top-[12%] lg:right-[18%]"},{key:"interior",icon:Cc,link:"/aiPlanner/interior",position:"top-[40%] right-[0%] sm:top-[38%] sm:right-[5%] lg:top-[36%] lg:right-[5%]"},{key:"furniture",icon:Ic,link:"/aiPlanner/furniture",position:"bottom-[34%] right-[2%] sm:bottom-[28%] sm:right-[8%] lg:bottom-[32%] lg:right-[12%]"},{key:"landscaping",icon:jc,link:"/aiPlanner/landscape",position:"bottom-[7%] left-1/2 -translate-x-1/2 sm:bottom-[8%] lg:bottom-[2%]"},{key:"image",icon:Mc,link:"/aiPlanner/image",position:"bottom-[30%] left-[-2%] sm:bottom-[30%] sm:left-[8%] lg:bottom-[28%] lg:left-[-2%]"},{key:"virtual",icon:Oc,link:"/aiPlanner/virtual",position:"top-[36%] left-[-1%] sm:top-[30%] sm:left-[8%] lg:top-[38%] lg:left-[6%]"}];return g.jsxs("section",{className:"relative  bg-[var(--color-body)]  overflow-hidden pt-12  lg:pt-12",children:[g.jsx("div",{className:`\r
      absolute\r
      left-0\r
      right-0\r
      -bottom-16\r
      z-0\r
      xl:block\r
    `,children:g.jsx("img",{src:Ws,alt:"wave-bg",className:`\r
        w-full\r
        object-cover\r
        pointer-events-none\r
        select-none\r
      `})}),g.jsx("div",{className:"max-w-[1540px] mx-auto px-4 sm:px-12 lg:px-6 relative z-10",children:g.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 items-center gap-12 lg:gap-10",children:[g.jsxs("div",{className:"flex flex-col items-center lg:items-start lg:ps-10 text-center lg:text-left space-y-6 lg:space-y-8 z-20",children:[g.jsxs("h2",{className:"heading-light text-black ",children:[e("homeDesign.title1")," ",g.jsx("br",{}),g.jsx("span",{children:e("homeDesign.title2")})]}),g.jsx("p",{className:"text-base sm:text-lg lg:text-xl text-gray-600 max-w-lg lg:max-w-xl leading-relaxed",children:e("homeDesign.description")}),g.jsx(pr,{to:"/schedule/estimate",className:"bg-[var(--color-primary)] text-white px-10 py-3 sm:px-14 sm:py-3.5 text-base sm:text-lg rounded-xl font-semibold shadow-lg hover:shadow-xl hover:-translate-y-1 transition-all duration-300",children:e("homeDesign.cta")})]}),g.jsx("div",{className:"relative flex justify-center items-center mt-4 pb-10  lg:mt-0",children:g.jsxs("div",{className:"relative w-full max-w-[450px] sm:max-w-[500px] lg:max-w-[850px] aspect-square flex items-center justify-center",children:[g.jsx("img",{src:xc,alt:"3D House Model",className:"w-full h-full object-contain drop-shadow-2xl z-10 relative scale-110 lg:scale-135 transition-transform duration-700 hover:scale-[1.15] lg:hover:scale-[1.4]"}),r.map((i,o)=>g.jsxs("button",{onClick:()=>t(i.link),className:`
                    absolute ${i.position}
                    z-20 flex items-center 
                    gap-2 lg:gap-3 
                    bg-white 
                    
                    /* Responsive Padding */
                    pr-2 pl-1 py-1 
                    sm:pr-3 sm:pl-1.5 sm:py-1.5
                    lg:pr-4 lg:pl-1.5 lg:py-1.5 
                    
                    rounded-full shadow-[0_4px_15px_rgb(0,0,0,0.1)] lg:shadow-[0_8px_30px_rgb(0,0,0,0.12)] 
                    border border-gray-100
                    
                    /* Scale down on mobile to fit screen */
                    transform transition-all duration-300 hover:scale-110 hover:shadow-xl
                    scale-[0.8] sm:scale-90 lg:scale-100
                    
                    group cursor-pointer animate-in fade-in zoom-in duration-500 fill-mode-both
                  `,style:{animationDelay:`${o*150}ms`},children:[g.jsx("div",{className:"w-7 h-7 sm:w-8 sm:h-8 lg:w-10 lg:h-10 rounded-full bg-gradient-to-br from-green-400 to-green-600 flex items-center justify-center shadow-sm shrink-0 group-hover:rotate-12 transition-transform",children:g.jsx("img",{src:i.icon,alt:i.key,className:"w-3.5 h-3.5 sm:w-4 sm:h-4 lg:w-5 lg:h-5 object-contain brightness-0 invert"})}),g.jsx("span",{className:"text-[10px] sm:text-xs lg:text-sm font-bold text-gray-800 whitespace-nowrap",children:e(`homeDesign.hotspots.${i.key}`,i.key.charAt(0).toUpperCase()+i.key.slice(1))})]},i.key))]})})]})})]})},Dc="/assets/xoto_logo1-DpqVxCuN.png",Lc="/assets/xoto_logo2-DON-ItVP.png",Nc="/assets/xoto_logo3-BsYQuS6p.png",Rc="/assets/xoto_logo4-BIf7Od4j.png",Fc="/assets/xoto_logo5-BsNqZPhh.png",Bc="/assets/xoto_logo6-Cl4nYYEg.png",Uc="/assets/xoto_logo7-BGXOaQHj.png",Vc="/assets/xoto_logo8-DERtW2GM.png",qc="/assets/xoto_logo9-Cxz7oM4e.png",Jc="/assets/xoto_logo10-B1uJhxyG.png",Yc="/assets/xoto_logo11-BspGKJXA.png";function zc(){const{t}=Et("home5"),e=[{icon:Dc},{icon:Lc},{icon:Nc},{icon:Rc},{icon:Fc},{icon:Bc},{icon:Uc},{icon:Vc},{icon:qc},{icon:Jc},{icon:Yc}];return g.jsxs("section",{className:"relative w-full py-16 md:py-20 lg:py-24 overflow-hidden bg-[var(--color-body)]",children:[g.jsx("div",{className:"absolute top-[-120px] sm:top-[-180px] md:top-[-260px] lg:top-[-420px] xl:top-[-550px] left-0 w-full z-0",children:g.jsx("img",{src:Ko,alt:"",className:"w-[180%] sm:w-[160%] md:w-[150%] lg:w-full mx-auto scale-[1.6] sm:scale-[1.4] md:scale-[1.2] lg:scale-100 pointer-events-none select-none"})}),g.jsx("div",{className:"absolute bottom-[-40px] sm:bottom-[-70px] md:bottom-[-100px] lg:bottom-[-100px] xl:bottom-[-100px] left-0 w-full z-0 overflow-hidden",children:g.jsx("img",{src:Ws,alt:"",className:"w-[180%] sm:w-[165%] md:w-[150%] lg:w-full mx-auto scale-[1.6] sm:scale-[1.4] md:scale-[1.2] lg:scale-100 pointer-events-none select-none"})}),g.jsx("h2",{className:"text-center text-3xl sm:text-4xl md:text-5xl mb-12 md:mb-16 relative z-20 heading-dark-1",style:{color:"var(--color-black)"},children:t("title")}),g.jsx("div",{className:"relative w-screen -mx-[calc((100vw-100%)/2)] mb-16 md:mb-20",children:g.jsx(Ys,{modules:[zs],slidesPerView:7,spaceBetween:40,loop:!0,speed:3e3,autoplay:{disableOnInteraction:!1,reverseDirection:!0},centeredSlides:!0,className:"!overflow-visible",children:e.concat(e).map((r,i)=>g.jsx(Gs,{className:"!w-auto flex justify-center transition-all duration-500 ease-out",children:g.jsxs("div",{className:`\r
                  relative group bg-[var(--color-body)] cursor-pointer\r
                  w-28 h-28 sm:w-36 sm:h-36 md:w-40 md:h-40 lg:w-48 lg:h-48\r
                  rounded-full border border-green-300\r
                  flex items-center justify-center\r
                  shadow-xl \r
                  transition-all duration-300 ease-out\r
                  hover:scale-125\r
                `,children:[g.jsx("img",{src:r.icon,alt:"Logo",className:"w-16 h-16 sm:w-20 sm:h-20 md:w-24 md:h-24 object-contain transition-all duration-300 group-hover:scale-110"}),g.jsx("div",{className:"absolute inset-0 rounded-full bg-purple-200/30 blur-2xl opacity-0 group-hover:opacity-100 transition"})]})},i))})}),g.jsxs("div",{className:"grid grid-cols-1 mt-20 md:grid-cols-3 gap-8 max-w-6xl mx-auto px-4 pt-20 relative z-10",children:[g.jsxs("a",{href:"/landscaping",className:`\r
            block cursor-pointer bg-white/90 backdrop-blur-sm rounded-3xl p-6 sm:p-8 lg:p-10\r
            shadow-xl shadow-purple-400 hover:shadow-2xl hover:shadow-purple-500\r
            transition-all duration-300 hover:-translate-y-3 border border-white/50\r
          `,children:[g.jsx("div",{className:"w-30 h-30  flex align-center justify-center mx-auto mb-4 ",children:g.jsx("img",{src:dc,alt:"",className:""})}),g.jsx("h3",{className:"text-xl sm:text-2xl font-semibold text-gray-900 text-center",children:t("cards.card1.title")}),g.jsx("p",{className:"text-sm sm:text-base text-gray-600 text-center",children:t("cards.card1.desc")})]}),g.jsxs("a",{href:"/marketplace",className:`\r
            block cursor-pointer bg-white/90 backdrop-blur-sm rounded-3xl p-6 sm:p-8 lg:p-10\r
            shadow-xl shadow-purple-400 hover:shadow-2xl hover:shadow-purple-500\r
            transition-all duration-300 hover:-translate-y-3 border border-white/50\r
          `,children:[g.jsx("div",{className:"w-30 h-30  flex align-center justify-center mx-auto mb-4",children:g.jsx("img",{src:hc,alt:""})}),g.jsx("h3",{className:"text-xl sm:text-2xl font-semibold text-gray-900 text-center",children:t("cards.card2.title")}),g.jsx("p",{className:"text-sm sm:text-base text-gray-600 text-center",children:t("cards.card2.desc")})]}),g.jsxs("a",{href:"/marketplace",className:`\r
            block cursor-pointer bg-white/90 backdrop-blur-sm rounded-3xl p-6 sm:p-8 lg:p-10\r
            shadow-xl shadow-purple-400 hover:shadow-2xl hover:shadow-purple-500\r
            transition-all duration-300 hover:-translate-y-3 border border-white/50\r
          `,children:[g.jsx("div",{className:"w-30 h-30  flex align-center justify-center mx-auto mb-4 ",children:g.jsx("img",{src:pc,alt:""})}),g.jsx("h3",{className:"text-xl sm:text-2xl font-semibold text-gray-900 text-center",children:t("cards.card3.title")}),g.jsx("p",{className:"text-sm sm:text-base text-gray-600 text-center",children:t("cards.card3.desc")})]})]})]})}const Gc="/assets/Pool-D24FVsb5.png",Wc="/assets/wavee-DSpqvIy4.png";function Hc(){const[t,e]=H.useState("both"),{t:r}=Et("home2");return g.jsxs("section",{className:"relative w-full min-h-screen overflow-hidden",children:[g.jsx("div",{className:"absolute inset-0 pointer-events-none",children:g.jsx("img",{src:Gc,alt:r("homeJourney.imageAlt.background"),className:"w-full h-full object-cover"})}),g.jsx("div",{className:"relative z-10 flex items-center min-h-screen px-6 py-20",children:g.jsxs("div",{className:"max-w-7xl mx-auto grid grid-cols-1 lg:grid-cols-2 gap-8 lg:gap-16 items-center w-full",children:[g.jsxs("div",{className:`text-white max-w-2xl transition-all duration-300
              ${t==="image"?"hidden":"block"}
              text-center lg:text-left mx-auto lg:mx-0
            `,children:[g.jsxs("h1",{className:"heading-light",style:{color:"var(--color-black)"},children:[r("homeJourney.title")," "]}),g.jsxs("p",{className:"button-text text-black mt-6 max-w-lg mx-auto lg:mx-0",children:[r("homeJourney.description")," "]})]}),g.jsx("div",{className:"relative w-full max-w-xl lg:max-w-3xl p-4 rounded-2xl",children:g.jsx("div",{className:"rounded-xl overflow-hidden flex justify-center",children:g.jsx("img",{src:Wc,alt:r("homeJourney.imageAlt.map"),className:"w-100 object-cover block"})})})]})})]})}const Kc="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAWFSURBVHgBzVdvaFtVFD/3vj9JXa2v6AR1s68yYYqjWRm6CWONoAwctJtUOmUs/aRfpB2IzE9NRfwgjHaCiggmFafCHGn94gfBZJP9wX1o6kAHE5PNwZTJ+pI0I03y7vHc+17atMts3Dr10pd377v3nvM7557zO7cA/3FjsNotlrH0oDXEBbeRCQfd6lR139oU/BsA7jp6qRcEiyOwe1i9bI7R6/3rR+FOArAS0zaimQRktpKKvgLmD1w37PRvSi3fp8MqNUMr9QArdyASBPnHGHogUBnJdBimV+q2AViJhNW2pmU/uhgSUjCHLDBMCTdvM+S+R1Ga7nfR/8I6GslrGoCdiFm8rXUEhRhGKCJZxJCESxert+6/5Rik9cLzwuJhOLcFwLQwyWAuhBpI19aESwsX40i5HaXtDJfN02DilgFsTI7ZujHXpRzJ2EUU2ni1yqdKEHSCBEoz2H6GbkRCqAtrhUMegQA++tP21+KNZDedBd1n3h6jfLIFlg+kt0Wzy+dDp97p49yNUdeSYzI8RWBnBPLJ9LY3UzeTu6o88NTZN4bJ6DGSihzFe6e3HBpeac+qM+H2mVeukdh2wuCc6PqofaX1HFa5mVrhU9PIoWEUrGd+faljpfX/nAeI64vBu/uYYDso0m2Z75yJyfmBew/LeSOQn2VeHiKvZWCzAKzYtFVts4bAFSE5JjdOFV7cEK/Ntx690FNBFjOhaNNOVGHucU6PfiRzvPhyZzqg50KKC+lzPsdz9fLNz//oA9AStD41v/e+sKejppy4nHKIcp3ZfqL7M5gWgGGNQy/ZFFdk489RN0vm30OdHCXb5p2hvVZVD2Z89k99tT4drgfQejRDmYQqMKs8aJdeePDiggeCRiFG9nTUew0lkTOQ+T9GyvoY44poXJcfrojWqLNn8xJ2478/kjSxrOyi3L+BeAK6M4Mq7BB0nLNLAB4A+5svbOSzPb5Sr4Ih1HwsWS+yyOkwemlXb9TzWsJqabH2V93K8avPP5c29SIBciXG8Ym1V+PLAegUmAsuR69YKAB6sGpzyHk65PEp+vQren0cMZa5EN4XrQ3bWnTqF4cMnTl2MtEJ2uBuo1KxP76/mIYGLWDkh8AXnb9eTi8CgD+zuq55dRR9Hvc5vV6AQO2tJRZpeYdxLoPBYgJG4u3OAfrcUPmG5JERpIrpSeRxZ/eAOj7FA+fDB7KGkU8FjBwzDYeQ0mM6IPumSTlNj3ybxrXsEkB6eZzO1QmYBTD0/PDj3384slyxnRyzHjvxwZihzUVNI08yC7NmcC664NRaZ+vpgzYEXLrRCFsdvHSDCgBOSLEdvFJrn+o+dLFewaaT70boFhBTolROwizj4jhli6MyCnmPd67+9QTYnnNPvz55A4Ba2/7jqxFatsMb8SmNz1vE7DGVfhwHU098El++Z8uZ0V7Gq+O0z14ywXxQXmDRrz549snokv0r1oKdPw/YAqoZZSBg6tuNx8KN1m2dPmhzMS+L0Q5gosvXWvtdhMTdyMmu9yeaBiDbrl+eTSrB8gbGRfTrzu9G/259z/QAMWUwc5NpB6rQmdocV0HYVC0wgrlh7goV3WROtP9yty1EZerYw+cmG60315SHQJQ9SgHvqlZ3R7SYARHqjcthU9Uwse6HGYriwYCZA/loPB8x9VKi//KjoYaAtYJl6nlGmYWGnqNMktFPWST7lAmaXrBra5sux1+uOx83odCp6/lU0APirNEKDS+apDwnlQf0gg8iDwqQrtIQglphgStu6UISmQ3aVD0cIp6GAAYyIUrp+Qz4/yT4tQ09hcwpzWP3ZOf5rDe+Q23flfURkHdEv3D6N2kHK3zws4d+uzkPrGaLXLFsboohIjOLynVWlMsT8QdKWfg/tb8A/eVmiydFEgMAAAAASUVORK5CYII=",Qc="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAYAAAA7MK6iAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAWsSURBVHgB1VfNa1xVFD/n3jtDKUImG1uk4AsISlx0JlpEtGRarOCqU6hS6kdaceGqMRuX7cyq1YVJ/wAxQaxu1HFjoZvMLASt2I4StIKQF6qm6CITF5k3nXnveM69901mkmkSl154k/fOPfd8/M7XDULfMtfWFoHUJAAhIv8CEhDJK7/zQvfdf2aTRpXuq6Nl2OMy/R8KohWl1QqlMoccsHtEdtdaBM4sSqjZhf/BwpEvflncYRu8j0Now/bc4uA0/jn1xAzssIxW7aIIkUBJUDGNaCoboPdOvRggYRrrNMZpTqRnd1msOOpzBe0x7Km0tvD3toQCb6fLuU0EcCcktit2SSKn1lnYDMSyA1OQJEWwvmAdYpwHLazJLPOMWPFEC4CqzjbkWPnsnlztKdZRzwu06ruQKCGwFiOQimpWYYhUkjBBW1cFYqKE+RJ+tbQ+2NXuio0odofkO8cHP3LHug5oZYNXZHGTSottbJjF1MI6xYznhOagZyn28B4Uc3J5jwU7bPJvVT4JkiKbHni+kBlq7pVKSgwEC3WdNYXWYKaDUy303fQK1C3R6nMKmh1oVTCboUzHzDEpcEZRoxN3y6Q6mIX9RWYesfwKq51k4ysD+wIkVXLd7j9kNaYBJgoM4DLFMaGKnTVkd0raQMmGFqyhFhOu11kWMEvUTgUIjXAvWW20h7pXrA5S1hiwgMDRgEOADZf9dNhB60uOYB0U5cBD4+m58W/ez//83LuNBylWxrRJqxZIdnOihUtHLxyTJ6OiusSf6WRMq2rpz184xjzr/CDvVRNsTywdnR5V2CmzA6HQDYeO/+Yzim5NfPveOw9SjE99V3F939WI+B1676VWR32dNDkMTV/vAf+Et565NLZVGMu6LTxxrGaUommWU2RyM8muFRqFueYA1LaBKK/XhSbwvbOfL+cfa5MCXICh8EU1TGjsh2ev1Pizlr9dzmXj9m3V3S+elwd4BWJRbh8TLd88chm/P3KFoWwtKNWSMBDDN3/z6csoD/OHSm3khinOqFagsd37bhTKTZZbR93Kb+WVcvLFZ39Hj/70tptW1M77TBHXiymdklbATeLwMMVG3Q8SldT7aax4RCGG23iNavspY2HMcTZPujbpZ4aH3z4I5MtuaLYyEqFKa79nTJRnWT9u4xWPbVYz1EpHa9yrj6OJi/xd5QeFbjCqG+gcA+oczzDU2rRLJ5ZeHoDvxNLZvNbtEoenOuCxiRpabQyBWjzGXlKj0lRMICE2P/DTUPoIwwWTfE9CHgk5LZ0LpUVCz3NSERtLjRvjX86ntBfunDqpMSpRTKe2KXYNJJ23KD33kkQc/SC2VAKJd16YVE8RXHzp1xcb1x+/US0tF3P3443pJFYD2Z7V7YKE5evx69XtHtvp1GtxTW6WM+wWO0xTSmHRN/x6nPA8ttDRB5CWFmKa3TnO5oDP1AaFR9N8vAJDFkO9QelMtIKV3BW1jFlILyUyeTXx7UAL3c5J25t5wzcFLkWNAsdAmSls5XhUrw1TjKfvTpB4hf46AzhwdUmHvuDt3tNhQBDG8UihOlazyk+vTJRB00U2Z6HTiSrVsTvh6buFRQ4TlxiVPz/UGAgDnvlj3APtm2Pa+9PbHEGaYX4HmxyKq1E3O1cdawy0wVd+f3KKr0bnmLHIaTjHzlyFWJcJkym2PeScrXx26M68lXL23lgCm/45j3repea59sKpPvPpwd/mYJd19t5jJ7ljs2KqfXIgPH9mNQgUGL6txGWeZOVrB8IKvvHXI5R2CdjMYvT/uKQ3KbFj/uOH/zwPe1yv/31wkm8KtYyh4MPR1RWhvbZ6qKhMsqjanQKeW80FWw/pfUBxtOkxZnHZTihJpv779tbVt+fNlm63Zmd26gfio9RVbyLsYb219tAl6JMnF0s70RKvRg2hbaFzU+I/XBEcWFTdxX8BdxOmNe4HbQUAAAAASUVORK5CYII=",Xc="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAcCAYAAAAAwr0iAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAUOSURBVHgBrVffaxx1EJ/5fnfvrhXpVixYbM3lQX0QzAVBKShJBEWRavJQsIh60Vfh4qMg5OqLviX5A+QuYltF4S76ECjUXolYQTCNFB/0IRuCRNPSu9P8WJPdHef7Y3OXqnh3cWBz+93vfmc+M/OZmQ3AAcS9UJ9yLtQrcABB6FEyF9eyfHpZLygcCc6erEEPIqBHkU7wlSMDUJeUuyWvtOhBD9ITAK/yY8GV2/1SboO6HCfIgpcqQA/SdQq8yrWsEOnvkeio0YAERMi/IMVubv30E0vd6HOgS0m50STAtsdGlXUyT4k9Ub7QNP8Z6UJddxG4f/5SnkiUtMV9Z5MlB0PQxNpzz850qrNjAF6l5B05fGwxBuhDIHZ9z3tsKeHEADVlKuz3R8YanejtOAWe5wFGgc+s9Tn8ivE5hk/KeYWAb3y+8zWkwFH7HQHoqQ88ePmjPJ8sKQKSzT9C/N5PI68XoUvpmoRKpLvJbgrrOhknBBD0ID0BcCEAksougkmDKcP/HYA8X8+3r6OdoAbjx33J3Q8EJsRHk4be5F8BqF6PYmtfyaGE8hbAuBB/qntS1aBDwExA8fem6p5fz8WYGQCKEOPQD189VuscQIZJTLGyb101vjIASKU2rc/YghdTMzl71+erBbZZJNj1EHbVK1pJ6tNffBBxeevMyXP/DYCriNy4/RFauoEQgeK9aQSaA7jyzWMzqgvCPdUbJaJmXk0ZU6OCFSF7E2V5wRcU05UbowxupDE22HA4zy9xPLluI2MFw5Xw7LGaikCEESlycbHZrmMQKA5gOzCAvLq5b35hkqJ63vZEvUUopgl25jCWV1iTZ3oG5Bi3+o4YcTKpZmWPxdoK+SFAPzCANEUG016ejUWXI6Cph6rzwtLlRz6+mp2/mCVZL2rPbauMY/nG6vMvlC3Qo32XvlxkRTm7Hj4xXxl2DqV/Q9zHYaJNmwLpRm2PTeknEeCkG2gIVQ0qFUyg2EkooVyv/fz0a+WHr5YKfJ/n09eBbufac0oQTzKAdV3HLJYspqBVCgRGd1SXWbpyE2KmgPIyClGP30y6OdAaSfrSHygYB3OOCAdRRvnW1LTBRhxwDnME9mZ6WzfJZJjU8S4k/X5PsxJOgYv6EEiMdc9Pu7c9MoREm7fc49+9OynCldlvT32Qz117vyhFsMgbR8Cyg1/1nMOZ9ZZrOgEWAPwKlJJk4e6LREpumQ8R/oMO9tkI+LHOryGUbY9FrrPik0tvFb8eeOfcqcVCmQ1PIFqaIjYUB+CfRKWAWDu1tfgkPgJ2QDgmYRTHg/xo1pH1JTY7ahirh/QKxWKW10MEQveIQ6lbnh0aSfNcUgBM2DAhRoKgAW4s9SO8Y2qmXB0B0xckDejXnd/LKMNJ5bkpXfC3NzemrwzWimr/9PIzQ+FuczTxRSuOcJY5sI7tKU4s6SpQKYgtL/XkTUgYMAkTwDT08tqJ4U+OV2svLj81jRgVVHL57eG0B/XR5VNjKHkZbVWlAg5JmYq56kMLZVUFe57puNhiN1UgErraQBiRbgCCkmaj4NEU/w5+0b/w9pnVR1FgWEgGBW9OqR4CshVibk5LOzvOuFpyI7rpo4j77KZ6y08igI7AFmIVA7FitAQNKdvGP5PvzVt3j3547x/Vz07+MPHK+gOLEsIiH+rjc1kbdJWbJoXOzEYgpqv9fgPgAP8ZdSL5m94wOlEfN1Q2L33YgOvl/sa+T7W/AK/aN4mm41fFAAAAAElFTkSuQmCC",$c="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB0AAAAgCAYAAADud3N8AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAUESURBVHgBnVe9b1xFEJ/Z3bPc+VwgGUikM0goBcJnBCXYJ0gRKQhHNECQsKloAPsvOLuidCwEDUWMEMENYEBRBELEEaBIFNiCgASF7RMfjmjyjAj37muHmd19H3e2z7ms/fT2vbczv5nffOwewqDjg7/LBShcJMAyAm21AGbg/GhtEBU4yOLhD/dKhPoHACoCsqi1yGN3uP7fZDQ3Ht2pHgUDjEIhLmsVj2rVAI11MLoJSjVKt4egNIgeM8hionZkVEumKP/Ef0IVFgBaA+gZiF4ZxU9+2uTbBAZZBl6Nzj0yN4iOgTz1o13RYGcYcoqQtm49+9gKDDjuyNOxy99VydoyJ03R+RYEe++cWas3z069d5y+Y0Hvv/LVVY7cFAc0YxR4jujRZZ6p46V26a8zp5fuGvTklc9mAfVFvxIdWPCMnBEeOKfD+0xkK3+ceWbjKL19Y6p1uyx5KUgOTnQSiV7M2UwBMO8Ay8HGUXr71qk2cVHrhtRiVIDmglExyLPWTXK1KnNVR3eZxqyRd3wZ0xzpp7e/p9ggMYtdiCzBvreQ+eRBWfY4ii1ATSnyYTgmU/qCGvYkZAvo8I4kWRweBe2eVtVpc/gLhC7J1N2DKqzvS29llF20FPGL3Sz3QihdrMmbgJ1aMGi/n1589Pqbi9ZpsGyft9BafmMUKSu08Vx4s+5LjjiVysia3nuP+ZSXNaAaVY3KlUASJsFwCaoyWrOU6w6mxFCHKCrwcqlMshaTpA+gRjVdTYeSdyxRykOoDwqdwH1HzDqRA0GmRPiV4bUnRiG59WEe3iKTqOLdXNWVHAwmKhM7U6NlHrGqdX6o8YoJhiwfIpe0L0zmLi+6eOIxvflqqY16JzPVLQlQzoOog7B4feKdAw3+ic3XZgntMk9db4akkSQoPL4tv40HIgUQg9IxcZkgFz0Xv2sE6DfsODLUquQBn/zxleVk/s3kW6uGmhWWiYxrGLG7mEXS4Tk/MtBhSdgGKgcWOg8DiiGo4qWNyXe3PCMzxad/eWGZlc8/9fP5zdM3XpSWB/KdZVZU6EqiQ/TpoC8/TIYZQ0e3e/crR06r3l5N1hWG1Qy/mdfWzIGhkc5Q61byzTb/vVAYLrzOwqP5JPKxPsxTBuW2l3joaPWWNq5tTK6nhy6FLe7HMRWG/hnRtP/p1w98XEu+yTqj6zXRwVWBvk/3pTdOKPFNW7uYgOkR+OLU5xe44a+g6szrIXv17HZlokshx1WMcrSiiy1JbA8FFXqTWMilvJWymxShZ1x+8MuFjm5UjACgnc9/Y4NGdBrLwBonZH6N6aJX23SrlBYVYlue2SkX18e3HMXP1R5/g4M0DXBb6rUMVqUZzetKnHST7iEcFjFMjgZVSRPPdSbphkhVni04anTrGnVgFDW9bFvm3Efj36+nXhY6VYQ46Vro+qID7h7p8/N7p0rs3LZLWgoNQdqgFWNFBS2u3fvbUrr+94en107e2MjkH6qy51WXsb7xhc3VH67W7vsVDwEtlTjAO6GZpKewbvPsKrU6K5dO/LmVvH5p78Q0/9RgJoTyg4MCzZfGdg+Czu6NlToGtx2t6E9dQSzXC9PtIpK2CHIkJW596DbUpJ87iXzzF33v33MzTdosplwyxqb0Y6+PuV8RMpcz0EjuJJhtGf4gA12nxJ6g5k8OEarWomzcrpBkH07uAdRiWmOYU4vpGtVjqtchB4Au2P8B+8hS0xF/gesAAAAASUVORK5CYII=",Zc="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACMAAAAjCAYAAAAe2bNZAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAasSURBVHgB3VdbbBzVGf7PnJnZsffi2aZKza0eq3FDeWGN2qiJWu04VaRSNco6iBa3RNlUqlRVqpy+t9q1eOENLHgCgb2CEG6KzU0hQmTHXATi5gUkghwnOyYOCSawa7yX8e7OOfxn7Jh4vbuYLBISvzS7c+b8l++c898OwI+KxnIGfbSQVo4UItAmSdAmaZoTV2jBpHJxH7RJMrRJoc5ZXNLKmhxoj64ajDgWBixSqi5EVXkJKrWgCUeKGWCKDQfU9+EqiHwn7rGcLmvyMGcwDBzCKM1XlXh6OI4IvnHgNg4tt+KOwKGwvVn1mwajPfFZgnPpMFrUORBOgMyhbWur/p7RqZ03S8511kLuljwhLIKIepAPmQiXCBtx/vqzkc3Y+FYw+tFTRk3WxlC3ucJOLNclI87QDZaY3z+3I4HgkrhJyWM9b3lGtaPnTInyg4jloACFe5VxXWfQGfqV3cpWS5/RJ6YNVJam3DEQRNZl9B+F2/usK3lCnWfJCsZvvq0CtQLHTo9TXhvH94hM4aQ2Mb07P9hvN7PXMrRlyZ2gUtmQadkmWmmgHoggn7w4odDipCYVUvVzhf19U0RyBoS8TEu9MnXHWtlrekzdL7yaAE6SeAQ2qUoDFwd32nCV1D3xhsEVN43HZRAOIxf3/j4JmwXTffy4IQPNooMKR909f+seq6GVx8pRytwkvpnIm5E4/2/tQLAh7/XPHTe5TE+ixcViudibHxzM1/M0PCaNOglKS4BPqhkQ7ei00SF/kfYpOVNVcoD/EcW3eNL/5EzDsjC/91YLj2pKlkq63skON+JpCIbSsomCoJJyCppQOPjVsO6fJaFAdtynXgqHOu1Rb+w/F28mo8iVpOwt0hneFJi+9APo+SVDlsvZ2T1DVhO90BWaiXT5Z0HvPJPCCMmHAzOZrsAsdPmzXc1kZnf/ZUoRziyXdWGnfn5DaGu0aDBChTd9AC2oC2uSSCGstqIi6D/tZV/yLZmLSoUpIJIBMrkZh5mNYI7kIhKo+4AxWFo+YYoVLxa3dUmPLCVEEWSVSqo+rYf8Z1fHriF+cYfQkthqthHBGOpXVa+qlyonekIIfLHwi7h0pOjJXtYvryg6fw9n1BTvotwochlXyM2g/3xUBBTp4P3o+rH1O5Od48RFrCwx9Ol2vcZmsF5RcGswVY8lGPoiIUE15sUud0GRSsKOGer4xBT1DHzUXAQY8DbVnI4bgcB8HJfFF4uGWamETc2Xt4KdWQsXSqpsy8SJ7U+sq8TxnK6XSt05v3ZxLT8UnWtg7pN9vW/uvNu+ktfTH5o/KHQtOb3RZdTvU3Mr+pGW3fAzL/3yqcyGE941/Z84FruHccNTr0fuOwQNaNsrj0Vry2qSMdU0ul+wt//8EWtu4U+RM/O3RVyuTlL6VerMwKHJRrK/y/x7AnXHMPkNvtp//zqeDQ6swlKGy5JYrdlI2Y63/5eosdkE+LzOIX/pyxsHX7m5lLnp9R2RoP/shERccZyx37zz//G3f33XhsVgeYmAhAW9Su36uYa+/4ePhr7EMw0TxTVf6ntqzQf+OLM3zpkyJjqWqhtMsspPRq3+e9cyqTn9LwOU5ahKC0kgtR6JuiMv9j271j7sOXV7lDFqoUPaL990tLfebsOqrSjlUYyspKhNOBy4/H1L6MODokSsDhNYKpJ/u2CsrMrrql5cH9uEH0bfGh0P5z3AmOziFKNT9EGN7DYEo8n50RqTD4se5s+nTfP5PssT7vB9jnmBm9CCuMg+K+0eugXkHwqXPCB7swNR7jpxcRa1Cm3YbDVNUbG5XaJqJ1DrHHA2MNn7pg1XSbFsxADSmUZ9Bpocmex9LQnfBYyg2871p4UjY86xq1UHAX1sb2AS9yZVvQc3f6T690CmfvqO7I1GlWppIrIukMzTN7zb38xey+YKk98h0RhJUrlH8/H0HRe2mfU8qlaJy1IxRvGpnxu6YEQB5RTZMbADsBktxVrZawnm8WtwJ4jo1Jz3EZRBpeX0gYXrxu680G1e5tEDNg8FzvIAPpe/Hch1R+9cuD5NJWYhiB4MZ4ugnmPXnpprZW/Tt4P451sxXFnCiyXvbsJt0VBdyt+iF51rTb/2qfVT/V0bnRdTPDFWxfJYFO8d37Lw/dwO1gHK6QaFqgBkomTP2n2pThHjkJcIHa0BAlkN6+8dzJX0z5yCN0rNKDlbh2tuAJuxgtWhnU9hqcw8GK5m4Ieg/dldyUF7J49lf5uENqnti38gMMMlLw4YhzapbTAd8uKkS1Szxt0U/Jjoa+OUuMaJ4LWnAAAAAElFTkSuQmCC",el=()=>{const{t}=Et("home3"),e=[{icon:Xo,titleKey:"customers.title",descKey:"customers.desc"},{icon:Qc,titleKey:"business.title",descKey:"business.desc"},{icon:Kc,titleKey:"execution.title",descKey:"execution.desc"},{icon:Xc,titleKey:"alliances.title",descKey:"alliances.desc"},{icon:Zc,titleKey:"developers.title",descKey:"developers.desc"},{icon:$c,titleKey:"finance.title",descKey:"finance.desc"}],[r,i]=H.useState(0),[o,n]=H.useState(!1),[s,c]=H.useState(2),[d,p]=H.useState(null);H.useEffect(()=>{const C=()=>{const x=window.innerWidth<1024;n(x),c(x?1:2)};return C(),window.addEventListener("resize",C),()=>window.removeEventListener("resize",C)},[]);const v=()=>{const C=e.length-s;i(x=>x<C?x+1:0)},E=()=>{const C=e.length-s;i(x=>x===0?C:x-1)};return H.useEffect(()=>{const C=setInterval(()=>{const x=e.length-s;i(h=>h>=x?0:h+1)},3e3);return()=>clearInterval(C)},[s]),g.jsxs("section",{className:"relative  overflow-hidden py-16 px-4 sm:px-6 lg:px-8 bg-[var(--color-body)]",children:[g.jsx("div",{className:"absolute bottom-[-20px] sm:bottom-[-50px] md:bottom-[-80px] lg:bottom-[-130px] xl:bottom-[-160px] left-0 w-full z-0  ",children:g.jsx("img",{src:Qo,alt:"",className:"w-[180%] sm:w-[165%] md:w-[150%] lg:w-full -ml-[20%] sm:-ml-[12%] md:-ml-[8%] lg:ml-0 scale-[1.6] sm:scale-[1.4] md:scale-[1.2] lg:scale-100"})}),g.jsxs("div",{className:"relative z-10 max-w-7xl mx-auto  ",children:[g.jsx("h2",{className:"text-center mb-6 lg:mb-16 heading-light",style:{color:"var(--color-black)"},children:t("title")}),g.jsxs("div",{className:"flex flex-col lg:flex-row items-center justify-between",children:[g.jsx("div",{className:"w-full lg:w-1/2 flex justify-start items-start mb-10 lg:mb-25",children:g.jsx("div",{className:"relative w-60 h-60 sm:w-100 sm:h-100 lg:w-110 lg:h-110 mx-auto",children:g.jsx("video",{src:"https://xotostaging.s3.me-central-1.amazonaws.com/properties/1768044487658-round231.mp4",autoPlay:!0,loop:!0,muted:!0,playsInline:!0,className:"w-full object-contain"})})}),g.jsxs("div",{className:"w-full lg:w-1/2 flex flex-col items-center lg:items-start",children:[g.jsx("div",{className:"relative w-full max-w-sm lg:max-w-2xl overflow-hidden rounded-xl",children:g.jsx("div",{className:"flex transition-transform duration-500 ease-in-out",style:{transform:`translateX(-${o?r*100:r*(100/s)}%)`},children:e.map((C,x)=>g.jsx("div",{className:"flex-shrink-0 w-full",style:{width:o?"100%":`${100/s}%`,padding:"0 4px"},children:g.jsxs("div",{className:`bg-white rounded-xl p-6 h-full transition-all duration-300 ${x===r?"shadow-xl opacity-100":"opacity-70"}`,children:[g.jsxs("div",{className:"flex justify-between items-start mb-4",children:[g.jsx("h3",{className:"text-xl font-bold text-gray-800 leading-tight",children:t(C.titleKey)}),g.jsx("div",{className:"bg-[var(--color-primary)] p-2 rounded-full shrink-0 ml-2",children:g.jsx("img",{src:C.icon,alt:"",className:"w-6 h-6"})})]}),g.jsx("p",{className:"text-sm text-gray-600 leading-relaxed",children:t(C.descKey)})]})},x))})}),g.jsxs("div",{className:"flex gap-3 mt-8",children:[g.jsx("button",{onClick:()=>{E(),p("left")},className:`p-3 rounded-sm border transition-all duration-300 ${d==="left"?"bg-[var(--color-primary)] text-white":"bg-white text-black hover:bg-gray-100"}`,children:g.jsx($o,{className:"w-5 h-5"})}),g.jsx("button",{onClick:()=>{v(),p("right")},className:`p-3 rounded-sm border transition-all duration-300 ${d==="right"?"bg-[var(--color-primary)] text-white":"bg-white text-black hover:bg-gray-100"}`,children:g.jsx(Zo,{className:"w-5 h-5"})})]})]})]})]})]})},tl=[{id:1,title:"Interior E-commerce",description:"Shop premium furniture, décor, and design accessories — all in one place.",icon:g.jsx(lc,{className:"w-10 h-10 text-purple-400"}),link:"/ecommerce/b2c",buttonText:"Start Shopping"},{id:2,title:"Landscaping Solutions",description:"Plan and execute beautiful outdoor spaces with expert design and AI-guided tools.",icon:g.jsx(ec,{className:"w-10 h-10 text-green-400"}),link:"/landscaping",buttonText:"Explore Landscaping"},{id:3,title:"AI Interior",description:"Redesign any room instantly using advanced AI visualization tools.",icon:g.jsx(tc,{className:"w-10 h-10 text-yellow-400"}),link:"/aiInterior",buttonText:"Try AI Design"}],rl=()=>g.jsx("div",{className:"flex flex-col sm:flex-row lg:flex-col xl:flex-row gap-4 sm:gap-6 justify-center items-center mt-4 lg:mt-0 px-4 py-2",children:tl.map(t=>g.jsxs("div",{className:`w-full sm:w-80 lg:w-full xl:w-64 \r
          h-[350px]  /* Increased Card Height */\r
          flex flex-col justify-between\r
          p-4 sm:p-6 rounded-2xl bg-white/10 backdrop-blur-md shadow-xl \r
          hover:bg-white/20 transition-all duration-300 text-white border border-white/20`,children:[g.jsxs("div",{children:[g.jsx("div",{className:"text-3xl sm:text-4xl mb-3",children:t.icon}),g.jsx("h3",{className:"text-xl sm:text-2xl font-semibold mb-2",children:t.title}),g.jsx("p",{className:"text-xs sm:text-sm opacity-90",children:t.description})]}),g.jsx(pr,{to:t.link,className:"mt-4 sm:mt-5 inline-block bg-white text-[var(--color-text-dark)] font-semibold px-4 py-2 sm:px-5 sm:py-2 rounded-md hover:bg-[var(--color-hoverbtn)] hover:text-white transition text-center text-sm sm:text-base",children:t.buttonText})]},t.id))}),ar="xoto_chat_session",nl=1800*1e3;function il(){return"xoto_guest_"+crypto.randomUUID()}function Mr(){const t={sessionId:il(),createdAt:Date.now(),expiresAt:Date.now()+nl};return localStorage.setItem(ar,JSON.stringify(t)),t.sessionId}function Kn(){const t=localStorage.getItem(ar);if(t)try{const e=JSON.parse(t);if(Date.now()>e.expiresAt)return localStorage.removeItem(ar),Mr();if(e.sessionId)return e.sessionId}catch{return localStorage.removeItem(ar),Mr()}return Mr()}var ft={};function Qn(t,e){if(t==null)return{};var r,i,o=(function(s,c){if(s==null)return{};var d={};for(var p in s)if({}.hasOwnProperty.call(s,p)){if(c.indexOf(p)!==-1)continue;d[p]=s[p]}return d})(t,e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);for(i=0;i<n.length;i++)r=n[i],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(o[r]=t[r])}return o}function be(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function $(t){return $=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$(t)}function Hs(t){var e=(function(r,i){if($(r)!="object"||!r)return r;var o=r[Symbol.toPrimitive];if(o!==void 0){var n=o.call(r,i);if($(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(r)})(t,"string");return $(e)=="symbol"?e:e+""}function Xn(t,e){for(var r=0;r<e.length;r++){var i=e[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,Hs(i.key),i)}}function we(t,e,r){return e&&Xn(t.prototype,e),r&&Xn(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function _r(t,e){if(e&&($(e)=="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return(function(r){if(r===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r})(t)}function Me(t){return Me=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Me(t)}function Ut(t,e){return Ut=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Ut(t,e)}function Er(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Ut(t,e)}function Le(t,e,r){return(e=Hs(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function $n(t,e,r,i,o,n,s){try{var c=t[n](s),d=c.value}catch(p){return void r(p)}c.done?e(d):Promise.resolve(d).then(i,o)}function q(t){return function(){var e=this,r=arguments;return new Promise((function(i,o){var n=t.apply(e,r);function s(d){$n(n,i,o,s,c,"next",d)}function c(d){$n(n,i,o,s,c,"throw",d)}s(void 0)}))}}function Zn(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,i=Array(e);r<e;r++)i[r]=t[r];return i}function de(t,e){return(function(r){if(Array.isArray(r))return r})(t)||(function(r,i){var o=r==null?null:typeof Symbol<"u"&&r[Symbol.iterator]||r["@@iterator"];if(o!=null){var n,s,c,d,p=[],v=!0,E=!1;try{if(c=(o=o.call(r)).next,i===0){if(Object(o)!==o)return;v=!1}else for(;!(v=(n=c.call(o)).done)&&(p.push(n.value),p.length!==i);v=!0);}catch(C){E=!0,s=C}finally{try{if(!v&&o.return!=null&&(d=o.return(),Object(d)!==d))return}finally{if(E)throw s}}return p}})(t,e)||(function(r,i){if(r){if(typeof r=="string")return Zn(r,i);var o={}.toString.call(r).slice(8,-1);return o==="Object"&&r.constructor&&(o=r.constructor.name),o==="Map"||o==="Set"?Array.from(r):o==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o)?Zn(r,i):void 0}})(t,e)||(function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)})()}function sl(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var ei,Gt={exports:{}},Xr=(function(){if(ei)return Gt.exports;ei=1;var t,e=typeof Reflect=="object"?Reflect:null,r=e&&typeof e.apply=="function"?e.apply:function(m,k,_){return Function.prototype.apply.call(m,k,_)};t=e&&typeof e.ownKeys=="function"?e.ownKeys:Object.getOwnPropertySymbols?function(m){return Object.getOwnPropertyNames(m).concat(Object.getOwnPropertySymbols(m))}:function(m){return Object.getOwnPropertyNames(m)};var i=Number.isNaN||function(m){return m!=m};function o(){o.init.call(this)}Gt.exports=o,Gt.exports.once=function(m,k){return new Promise((function(_,b){function A(S){m.removeListener(k,w),b(S)}function w(){typeof m.removeListener=="function"&&m.removeListener("error",A),_([].slice.call(arguments))}h(m,k,w,{once:!0}),k!=="error"&&(function(S,T,O){typeof S.on=="function"&&h(S,"error",T,O)})(m,A,{once:!0})}))},o.EventEmitter=o,o.prototype._events=void 0,o.prototype._eventsCount=0,o.prototype._maxListeners=void 0;var n=10;function s(m){if(typeof m!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof m)}function c(m){return m._maxListeners===void 0?o.defaultMaxListeners:m._maxListeners}function d(m,k,_,b){var A,w,S,T;if(s(_),(w=m._events)===void 0?(w=m._events=Object.create(null),m._eventsCount=0):(w.newListener!==void 0&&(m.emit("newListener",k,_.listener?_.listener:_),w=m._events),S=w[k]),S===void 0)S=w[k]=_,++m._eventsCount;else if(typeof S=="function"?S=w[k]=b?[_,S]:[S,_]:b?S.unshift(_):S.push(_),(A=c(m))>0&&S.length>A&&!S.warned){S.warned=!0;var O=new Error("Possible EventEmitter memory leak detected. "+S.length+" "+String(k)+" listeners added. Use emitter.setMaxListeners() to increase limit");O.name="MaxListenersExceededWarning",O.emitter=m,O.type=k,O.count=S.length,T=O,console&&console.warn&&console.warn(T)}return m}function p(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function v(m,k,_){var b={fired:!1,wrapFn:void 0,target:m,type:k,listener:_},A=p.bind(b);return A.listener=_,b.wrapFn=A,A}function E(m,k,_){var b=m._events;if(b===void 0)return[];var A=b[k];return A===void 0?[]:typeof A=="function"?_?[A.listener||A]:[A]:_?(function(w){for(var S=new Array(w.length),T=0;T<S.length;++T)S[T]=w[T].listener||w[T];return S})(A):x(A,A.length)}function C(m){var k=this._events;if(k!==void 0){var _=k[m];if(typeof _=="function")return 1;if(_!==void 0)return _.length}return 0}function x(m,k){for(var _=new Array(k),b=0;b<k;++b)_[b]=m[b];return _}function h(m,k,_,b){if(typeof m.on=="function")b.once?m.once(k,_):m.on(k,_);else{if(typeof m.addEventListener!="function")throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof m);m.addEventListener(k,(function A(w){b.once&&m.removeEventListener(k,A),_(w)}))}}return Object.defineProperty(o,"defaultMaxListeners",{enumerable:!0,get:function(){return n},set:function(m){if(typeof m!="number"||m<0||i(m))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+m+".");n=m}}),o.init=function(){this._events!==void 0&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},o.prototype.setMaxListeners=function(m){if(typeof m!="number"||m<0||i(m))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+m+".");return this._maxListeners=m,this},o.prototype.getMaxListeners=function(){return c(this)},o.prototype.emit=function(m){for(var k=[],_=1;_<arguments.length;_++)k.push(arguments[_]);var b=m==="error",A=this._events;if(A!==void 0)b=b&&A.error===void 0;else if(!b)return!1;if(b){var w;if(k.length>0&&(w=k[0]),w instanceof Error)throw w;var S=new Error("Unhandled error."+(w?" ("+w.message+")":""));throw S.context=w,S}var T=A[m];if(T===void 0)return!1;if(typeof T=="function")r(T,this,k);else{var O=T.length,D=x(T,O);for(_=0;_<O;++_)r(D[_],this,k)}return!0},o.prototype.addListener=function(m,k){return d(this,m,k,!1)},o.prototype.on=o.prototype.addListener,o.prototype.prependListener=function(m,k){return d(this,m,k,!0)},o.prototype.once=function(m,k){return s(k),this.on(m,v(this,m,k)),this},o.prototype.prependOnceListener=function(m,k){return s(k),this.prependListener(m,v(this,m,k)),this},o.prototype.removeListener=function(m,k){var _,b,A,w,S;if(s(k),(b=this._events)===void 0)return this;if((_=b[m])===void 0)return this;if(_===k||_.listener===k)--this._eventsCount==0?this._events=Object.create(null):(delete b[m],b.removeListener&&this.emit("removeListener",m,_.listener||k));else if(typeof _!="function"){for(A=-1,w=_.length-1;w>=0;w--)if(_[w]===k||_[w].listener===k){S=_[w].listener,A=w;break}if(A<0)return this;A===0?_.shift():(function(T,O){for(;O+1<T.length;O++)T[O]=T[O+1];T.pop()})(_,A),_.length===1&&(b[m]=_[0]),b.removeListener!==void 0&&this.emit("removeListener",m,S||k)}return this},o.prototype.off=o.prototype.removeListener,o.prototype.removeAllListeners=function(m){var k,_,b;if((_=this._events)===void 0)return this;if(_.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):_[m]!==void 0&&(--this._eventsCount==0?this._events=Object.create(null):delete _[m]),this;if(arguments.length===0){var A,w=Object.keys(_);for(b=0;b<w.length;++b)(A=w[b])!=="removeListener"&&this.removeAllListeners(A);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(typeof(k=_[m])=="function")this.removeListener(m,k);else if(k!==void 0)for(b=k.length-1;b>=0;b--)this.removeListener(m,k[b]);return this},o.prototype.listeners=function(m){return E(this,m,!0)},o.prototype.rawListeners=function(m){return E(this,m,!1)},o.listenerCount=function(m,k){return typeof m.listenerCount=="function"?m.listenerCount(k):C.call(m,k)},o.prototype.listenerCount=C,o.prototype.eventNames=function(){return this._eventsCount>0?t(this._events):[]},Gt.exports})(),Wt=sl(Xr),ti=Object.prototype.hasOwnProperty;function ri(t,e,r){for(r of t.keys())if(fe(r,e))return r}function fe(t,e){var r,i,o;if(t===e)return!0;if(t&&e&&(r=t.constructor)===e.constructor){if(r===Date)return t.getTime()===e.getTime();if(r===RegExp)return t.toString()===e.toString();if(r===Array){if((i=t.length)===e.length)for(;i--&&fe(t[i],e[i]););return i===-1}if(r===Set){if(t.size!==e.size)return!1;for(i of t)if((o=i)&&typeof o=="object"&&!(o=ri(e,o))||!e.has(o))return!1;return!0}if(r===Map){if(t.size!==e.size)return!1;for(i of t)if((o=i[0])&&typeof o=="object"&&!(o=ri(e,o))||!fe(i[1],e.get(o)))return!1;return!0}if(r===ArrayBuffer)t=new Uint8Array(t),e=new Uint8Array(e);else if(r===DataView){if((i=t.byteLength)===e.byteLength)for(;i--&&t.getInt8(i)===e.getInt8(i););return i===-1}if(ArrayBuffer.isView(t)){if((i=t.byteLength)===e.byteLength)for(;i--&&t[i]===e[i];);return i===-1}if(!r||typeof t=="object"){for(r in i=0,t)if(ti.call(t,r)&&++i&&!ti.call(e,r)||!(r in e)||!fe(t[r],e[r]))return!1;return Object.keys(e).length===i}}return t!=t&&e!=e}const al={"Amazon Silk":"amazon_silk","Android Browser":"android",Bada:"bada",BlackBerry:"blackberry",Chrome:"chrome",Chromium:"chromium",Electron:"electron",Epiphany:"epiphany",Firefox:"firefox",Focus:"focus",Generic:"generic","Google Search":"google_search",Googlebot:"googlebot","Internet Explorer":"ie","K-Meleon":"k_meleon",Maxthon:"maxthon","Microsoft Edge":"edge","MZ Browser":"mz","NAVER Whale Browser":"naver",Opera:"opera","Opera Coast":"opera_coast",PhantomJS:"phantomjs",Puffin:"puffin",QupZilla:"qupzilla",QQ:"qq",QQLite:"qqlite",Safari:"safari",Sailfish:"sailfish","Samsung Internet for Android":"samsung_internet",SeaMonkey:"seamonkey",Sleipnir:"sleipnir",Swing:"swing",Tizen:"tizen","UC Browser":"uc",Vivaldi:"vivaldi","WebOS Browser":"webos",WeChat:"wechat","Yandex Browser":"yandex",Roku:"roku"},Ks={amazon_silk:"Amazon Silk",android:"Android Browser",bada:"Bada",blackberry:"BlackBerry",chrome:"Chrome",chromium:"Chromium",electron:"Electron",epiphany:"Epiphany",firefox:"Firefox",focus:"Focus",generic:"Generic",googlebot:"Googlebot",google_search:"Google Search",ie:"Internet Explorer",k_meleon:"K-Meleon",maxthon:"Maxthon",edge:"Microsoft Edge",mz:"MZ Browser",naver:"NAVER Whale Browser",opera:"Opera",opera_coast:"Opera Coast",phantomjs:"PhantomJS",puffin:"Puffin",qupzilla:"QupZilla",qq:"QQ Browser",qqlite:"QQ Browser Lite",safari:"Safari",sailfish:"Sailfish",samsung_internet:"Samsung Internet for Android",seamonkey:"SeaMonkey",sleipnir:"Sleipnir",swing:"Swing",tizen:"Tizen",uc:"UC Browser",vivaldi:"Vivaldi",webos:"WebOS Browser",wechat:"WeChat",yandex:"Yandex Browser"},se={tablet:"tablet",mobile:"mobile",desktop:"desktop",tv:"tv"},he={WindowsPhone:"Windows Phone",Windows:"Windows",MacOS:"macOS",iOS:"iOS",Android:"Android",WebOS:"WebOS",BlackBerry:"BlackBerry",Bada:"Bada",Tizen:"Tizen",Linux:"Linux",ChromeOS:"Chrome OS",PlayStation4:"PlayStation 4",Roku:"Roku"},Ge={EdgeHTML:"EdgeHTML",Blink:"Blink",Trident:"Trident",Presto:"Presto",Gecko:"Gecko",WebKit:"WebKit"};class M{static getFirstMatch(e,r){const i=r.match(e);return i&&i.length>0&&i[1]||""}static getSecondMatch(e,r){const i=r.match(e);return i&&i.length>1&&i[2]||""}static matchAndReturnConst(e,r,i){if(e.test(r))return i}static getWindowsVersionName(e){switch(e){case"NT":return"NT";case"XP":case"NT 5.1":return"XP";case"NT 5.0":return"2000";case"NT 5.2":return"2003";case"NT 6.0":return"Vista";case"NT 6.1":return"7";case"NT 6.2":return"8";case"NT 6.3":return"8.1";case"NT 10.0":return"10";default:return}}static getMacOSVersionName(e){const r=e.split(".").splice(0,2).map((i=>parseInt(i,10)||0));if(r.push(0),r[0]===10)switch(r[1]){case 5:return"Leopard";case 6:return"Snow Leopard";case 7:return"Lion";case 8:return"Mountain Lion";case 9:return"Mavericks";case 10:return"Yosemite";case 11:return"El Capitan";case 12:return"Sierra";case 13:return"High Sierra";case 14:return"Mojave";case 15:return"Catalina";default:return}}static getAndroidVersionName(e){const r=e.split(".").splice(0,2).map((i=>parseInt(i,10)||0));if(r.push(0),!(r[0]===1&&r[1]<5))return r[0]===1&&r[1]<6?"Cupcake":r[0]===1&&r[1]>=6?"Donut":r[0]===2&&r[1]<2?"Eclair":r[0]===2&&r[1]===2?"Froyo":r[0]===2&&r[1]>2?"Gingerbread":r[0]===3?"Honeycomb":r[0]===4&&r[1]<1?"Ice Cream Sandwich":r[0]===4&&r[1]<4?"Jelly Bean":r[0]===4&&r[1]>=4?"KitKat":r[0]===5?"Lollipop":r[0]===6?"Marshmallow":r[0]===7?"Nougat":r[0]===8?"Oreo":r[0]===9?"Pie":void 0}static getVersionPrecision(e){return e.split(".").length}static compareVersions(e,r,i=!1){const o=M.getVersionPrecision(e),n=M.getVersionPrecision(r);let s=Math.max(o,n),c=0;const d=M.map([e,r],(p=>{const v=s-M.getVersionPrecision(p),E=p+new Array(v+1).join(".0");return M.map(E.split("."),(C=>new Array(20-C.length).join("0")+C)).reverse()}));for(i&&(c=s-Math.min(o,n)),s-=1;s>=c;){if(d[0][s]>d[1][s])return 1;if(d[0][s]===d[1][s]){if(s===c)return 0;s-=1}else if(d[0][s]<d[1][s])return-1}}static map(e,r){const i=[];let o;if(Array.prototype.map)return Array.prototype.map.call(e,r);for(o=0;o<e.length;o+=1)i.push(r(e[o]));return i}static find(e,r){let i,o;if(Array.prototype.find)return Array.prototype.find.call(e,r);for(i=0,o=e.length;i<o;i+=1){const n=e[i];if(r(n,i))return n}}static assign(e,...r){const i=e;let o,n;if(Object.assign)return Object.assign(e,...r);for(o=0,n=r.length;o<n;o+=1){const s=r[o];typeof s=="object"&&s!==null&&Object.keys(s).forEach((c=>{i[c]=s[c]}))}return e}static getBrowserAlias(e){return al[e]}static getBrowserTypeByAlias(e){return Ks[e]||""}}const te=/version\/(\d+(\.?_?\d+)+)/i,ol=[{test:[/googlebot/i],describe(t){const e={name:"Googlebot"},r=M.getFirstMatch(/googlebot\/(\d+(\.\d+))/i,t)||M.getFirstMatch(te,t);return r&&(e.version=r),e}},{test:[/opera/i],describe(t){const e={name:"Opera"},r=M.getFirstMatch(te,t)||M.getFirstMatch(/(?:opera)[\s/](\d+(\.?_?\d+)+)/i,t);return r&&(e.version=r),e}},{test:[/opr\/|opios/i],describe(t){const e={name:"Opera"},r=M.getFirstMatch(/(?:opr|opios)[\s/](\S+)/i,t)||M.getFirstMatch(te,t);return r&&(e.version=r),e}},{test:[/SamsungBrowser/i],describe(t){const e={name:"Samsung Internet for Android"},r=M.getFirstMatch(te,t)||M.getFirstMatch(/(?:SamsungBrowser)[\s/](\d+(\.?_?\d+)+)/i,t);return r&&(e.version=r),e}},{test:[/Whale/i],describe(t){const e={name:"NAVER Whale Browser"},r=M.getFirstMatch(te,t)||M.getFirstMatch(/(?:whale)[\s/](\d+(?:\.\d+)+)/i,t);return r&&(e.version=r),e}},{test:[/MZBrowser/i],describe(t){const e={name:"MZ Browser"},r=M.getFirstMatch(/(?:MZBrowser)[\s/](\d+(?:\.\d+)+)/i,t)||M.getFirstMatch(te,t);return r&&(e.version=r),e}},{test:[/focus/i],describe(t){const e={name:"Focus"},r=M.getFirstMatch(/(?:focus)[\s/](\d+(?:\.\d+)+)/i,t)||M.getFirstMatch(te,t);return r&&(e.version=r),e}},{test:[/swing/i],describe(t){const e={name:"Swing"},r=M.getFirstMatch(/(?:swing)[\s/](\d+(?:\.\d+)+)/i,t)||M.getFirstMatch(te,t);return r&&(e.version=r),e}},{test:[/coast/i],describe(t){const e={name:"Opera Coast"},r=M.getFirstMatch(te,t)||M.getFirstMatch(/(?:coast)[\s/](\d+(\.?_?\d+)+)/i,t);return r&&(e.version=r),e}},{test:[/opt\/\d+(?:.?_?\d+)+/i],describe(t){const e={name:"Opera Touch"},r=M.getFirstMatch(/(?:opt)[\s/](\d+(\.?_?\d+)+)/i,t)||M.getFirstMatch(te,t);return r&&(e.version=r),e}},{test:[/yabrowser/i],describe(t){const e={name:"Yandex Browser"},r=M.getFirstMatch(/(?:yabrowser)[\s/](\d+(\.?_?\d+)+)/i,t)||M.getFirstMatch(te,t);return r&&(e.version=r),e}},{test:[/ucbrowser/i],describe(t){const e={name:"UC Browser"},r=M.getFirstMatch(te,t)||M.getFirstMatch(/(?:ucbrowser)[\s/](\d+(\.?_?\d+)+)/i,t);return r&&(e.version=r),e}},{test:[/Maxthon|mxios/i],describe(t){const e={name:"Maxthon"},r=M.getFirstMatch(te,t)||M.getFirstMatch(/(?:Maxthon|mxios)[\s/](\d+(\.?_?\d+)+)/i,t);return r&&(e.version=r),e}},{test:[/epiphany/i],describe(t){const e={name:"Epiphany"},r=M.getFirstMatch(te,t)||M.getFirstMatch(/(?:epiphany)[\s/](\d+(\.?_?\d+)+)/i,t);return r&&(e.version=r),e}},{test:[/puffin/i],describe(t){const e={name:"Puffin"},r=M.getFirstMatch(te,t)||M.getFirstMatch(/(?:puffin)[\s/](\d+(\.?_?\d+)+)/i,t);return r&&(e.version=r),e}},{test:[/sleipnir/i],describe(t){const e={name:"Sleipnir"},r=M.getFirstMatch(te,t)||M.getFirstMatch(/(?:sleipnir)[\s/](\d+(\.?_?\d+)+)/i,t);return r&&(e.version=r),e}},{test:[/k-meleon/i],describe(t){const e={name:"K-Meleon"},r=M.getFirstMatch(te,t)||M.getFirstMatch(/(?:k-meleon)[\s/](\d+(\.?_?\d+)+)/i,t);return r&&(e.version=r),e}},{test:[/micromessenger/i],describe(t){const e={name:"WeChat"},r=M.getFirstMatch(/(?:micromessenger)[\s/](\d+(\.?_?\d+)+)/i,t)||M.getFirstMatch(te,t);return r&&(e.version=r),e}},{test:[/qqbrowser/i],describe(t){const e={name:/qqbrowserlite/i.test(t)?"QQ Browser Lite":"QQ Browser"},r=M.getFirstMatch(/(?:qqbrowserlite|qqbrowser)[/](\d+(\.?_?\d+)+)/i,t)||M.getFirstMatch(te,t);return r&&(e.version=r),e}},{test:[/msie|trident/i],describe(t){const e={name:"Internet Explorer"},r=M.getFirstMatch(/(?:msie |rv:)(\d+(\.?_?\d+)+)/i,t);return r&&(e.version=r),e}},{test:[/\sedg\//i],describe(t){const e={name:"Microsoft Edge"},r=M.getFirstMatch(/\sedg\/(\d+(\.?_?\d+)+)/i,t);return r&&(e.version=r),e}},{test:[/edg([ea]|ios)/i],describe(t){const e={name:"Microsoft Edge"},r=M.getSecondMatch(/edg([ea]|ios)\/(\d+(\.?_?\d+)+)/i,t);return r&&(e.version=r),e}},{test:[/vivaldi/i],describe(t){const e={name:"Vivaldi"},r=M.getFirstMatch(/vivaldi\/(\d+(\.?_?\d+)+)/i,t);return r&&(e.version=r),e}},{test:[/seamonkey/i],describe(t){const e={name:"SeaMonkey"},r=M.getFirstMatch(/seamonkey\/(\d+(\.?_?\d+)+)/i,t);return r&&(e.version=r),e}},{test:[/sailfish/i],describe(t){const e={name:"Sailfish"},r=M.getFirstMatch(/sailfish\s?browser\/(\d+(\.\d+)?)/i,t);return r&&(e.version=r),e}},{test:[/silk/i],describe(t){const e={name:"Amazon Silk"},r=M.getFirstMatch(/silk\/(\d+(\.?_?\d+)+)/i,t);return r&&(e.version=r),e}},{test:[/phantom/i],describe(t){const e={name:"PhantomJS"},r=M.getFirstMatch(/phantomjs\/(\d+(\.?_?\d+)+)/i,t);return r&&(e.version=r),e}},{test:[/slimerjs/i],describe(t){const e={name:"SlimerJS"},r=M.getFirstMatch(/slimerjs\/(\d+(\.?_?\d+)+)/i,t);return r&&(e.version=r),e}},{test:[/blackberry|\bbb\d+/i,/rim\stablet/i],describe(t){const e={name:"BlackBerry"},r=M.getFirstMatch(te,t)||M.getFirstMatch(/blackberry[\d]+\/(\d+(\.?_?\d+)+)/i,t);return r&&(e.version=r),e}},{test:[/(web|hpw)[o0]s/i],describe(t){const e={name:"WebOS Browser"},r=M.getFirstMatch(te,t)||M.getFirstMatch(/w(?:eb)?[o0]sbrowser\/(\d+(\.?_?\d+)+)/i,t);return r&&(e.version=r),e}},{test:[/bada/i],describe(t){const e={name:"Bada"},r=M.getFirstMatch(/dolfin\/(\d+(\.?_?\d+)+)/i,t);return r&&(e.version=r),e}},{test:[/tizen/i],describe(t){const e={name:"Tizen"},r=M.getFirstMatch(/(?:tizen\s?)?browser\/(\d+(\.?_?\d+)+)/i,t)||M.getFirstMatch(te,t);return r&&(e.version=r),e}},{test:[/qupzilla/i],describe(t){const e={name:"QupZilla"},r=M.getFirstMatch(/(?:qupzilla)[\s/](\d+(\.?_?\d+)+)/i,t)||M.getFirstMatch(te,t);return r&&(e.version=r),e}},{test:[/firefox|iceweasel|fxios/i],describe(t){const e={name:"Firefox"},r=M.getFirstMatch(/(?:firefox|iceweasel|fxios)[\s/](\d+(\.?_?\d+)+)/i,t);return r&&(e.version=r),e}},{test:[/electron/i],describe(t){const e={name:"Electron"},r=M.getFirstMatch(/(?:electron)\/(\d+(\.?_?\d+)+)/i,t);return r&&(e.version=r),e}},{test:[/MiuiBrowser/i],describe(t){const e={name:"Miui"},r=M.getFirstMatch(/(?:MiuiBrowser)[\s/](\d+(\.?_?\d+)+)/i,t);return r&&(e.version=r),e}},{test:[/chromium/i],describe(t){const e={name:"Chromium"},r=M.getFirstMatch(/(?:chromium)[\s/](\d+(\.?_?\d+)+)/i,t)||M.getFirstMatch(te,t);return r&&(e.version=r),e}},{test:[/chrome|crios|crmo/i],describe(t){const e={name:"Chrome"},r=M.getFirstMatch(/(?:chrome|crios|crmo)\/(\d+(\.?_?\d+)+)/i,t);return r&&(e.version=r),e}},{test:[/GSA/i],describe(t){const e={name:"Google Search"},r=M.getFirstMatch(/(?:GSA)\/(\d+(\.?_?\d+)+)/i,t);return r&&(e.version=r),e}},{test(t){const e=!t.test(/like android/i),r=t.test(/android/i);return e&&r},describe(t){const e={name:"Android Browser"},r=M.getFirstMatch(te,t);return r&&(e.version=r),e}},{test:[/playstation 4/i],describe(t){const e={name:"PlayStation 4"},r=M.getFirstMatch(te,t);return r&&(e.version=r),e}},{test:[/safari|applewebkit/i],describe(t){const e={name:"Safari"},r=M.getFirstMatch(te,t);return r&&(e.version=r),e}},{test:[/.*/i],describe(t){const e=t.search("\\(")!==-1?/^(.*)\/(.*)[ \t]\((.*)/:/^(.*)\/(.*) /;return{name:M.getFirstMatch(e,t),version:M.getSecondMatch(e,t)}}}];var cl=[{test:[/Roku\/DVP/],describe(t){const e=M.getFirstMatch(/Roku\/DVP-(\d+\.\d+)/i,t);return{name:he.Roku,version:e}}},{test:[/windows phone/i],describe(t){const e=M.getFirstMatch(/windows phone (?:os)?\s?(\d+(\.\d+)*)/i,t);return{name:he.WindowsPhone,version:e}}},{test:[/windows /i],describe(t){const e=M.getFirstMatch(/Windows ((NT|XP)( \d\d?.\d)?)/i,t),r=M.getWindowsVersionName(e);return{name:he.Windows,version:e,versionName:r}}},{test:[/Macintosh(.*?) FxiOS(.*?)\//],describe(t){const e={name:he.iOS},r=M.getSecondMatch(/(Version\/)(\d[\d.]+)/,t);return r&&(e.version=r),e}},{test:[/macintosh/i],describe(t){const e=M.getFirstMatch(/mac os x (\d+(\.?_?\d+)+)/i,t).replace(/[_\s]/g,"."),r=M.getMacOSVersionName(e),i={name:he.MacOS,version:e};return r&&(i.versionName=r),i}},{test:[/(ipod|iphone|ipad)/i],describe(t){const e=M.getFirstMatch(/os (\d+([_\s]\d+)*) like mac os x/i,t).replace(/[_\s]/g,".");return{name:he.iOS,version:e}}},{test(t){const e=!t.test(/like android/i),r=t.test(/android/i);return e&&r},describe(t){const e=M.getFirstMatch(/android[\s/-](\d+(\.\d+)*)/i,t),r=M.getAndroidVersionName(e),i={name:he.Android,version:e};return r&&(i.versionName=r),i}},{test:[/(web|hpw)[o0]s/i],describe(t){const e=M.getFirstMatch(/(?:web|hpw)[o0]s\/(\d+(\.\d+)*)/i,t),r={name:he.WebOS};return e&&e.length&&(r.version=e),r}},{test:[/blackberry|\bbb\d+/i,/rim\stablet/i],describe(t){const e=M.getFirstMatch(/rim\stablet\sos\s(\d+(\.\d+)*)/i,t)||M.getFirstMatch(/blackberry\d+\/(\d+([_\s]\d+)*)/i,t)||M.getFirstMatch(/\bbb(\d+)/i,t);return{name:he.BlackBerry,version:e}}},{test:[/bada/i],describe(t){const e=M.getFirstMatch(/bada\/(\d+(\.\d+)*)/i,t);return{name:he.Bada,version:e}}},{test:[/tizen/i],describe(t){const e=M.getFirstMatch(/tizen[/\s](\d+(\.\d+)*)/i,t);return{name:he.Tizen,version:e}}},{test:[/linux/i],describe:()=>({name:he.Linux})},{test:[/CrOS/],describe:()=>({name:he.ChromeOS})},{test:[/PlayStation 4/],describe(t){const e=M.getFirstMatch(/PlayStation 4[/\s](\d+(\.\d+)*)/i,t);return{name:he.PlayStation4,version:e}}}],ll=[{test:[/googlebot/i],describe:()=>({type:"bot",vendor:"Google"})},{test:[/huawei/i],describe(t){const e=M.getFirstMatch(/(can-l01)/i,t)&&"Nova",r={type:se.mobile,vendor:"Huawei"};return e&&(r.model=e),r}},{test:[/nexus\s*(?:7|8|9|10).*/i],describe:()=>({type:se.tablet,vendor:"Nexus"})},{test:[/ipad/i],describe:()=>({type:se.tablet,vendor:"Apple",model:"iPad"})},{test:[/Macintosh(.*?) FxiOS(.*?)\//],describe:()=>({type:se.tablet,vendor:"Apple",model:"iPad"})},{test:[/kftt build/i],describe:()=>({type:se.tablet,vendor:"Amazon",model:"Kindle Fire HD 7"})},{test:[/silk/i],describe:()=>({type:se.tablet,vendor:"Amazon"})},{test:[/tablet(?! pc)/i],describe:()=>({type:se.tablet})},{test(t){const e=t.test(/ipod|iphone/i),r=t.test(/like (ipod|iphone)/i);return e&&!r},describe(t){const e=M.getFirstMatch(/(ipod|iphone)/i,t);return{type:se.mobile,vendor:"Apple",model:e}}},{test:[/nexus\s*[0-6].*/i,/galaxy nexus/i],describe:()=>({type:se.mobile,vendor:"Nexus"})},{test:[/[^-]mobi/i],describe:()=>({type:se.mobile})},{test:t=>t.getBrowserName(!0)==="blackberry",describe:()=>({type:se.mobile,vendor:"BlackBerry"})},{test:t=>t.getBrowserName(!0)==="bada",describe:()=>({type:se.mobile})},{test:t=>t.getBrowserName()==="windows phone",describe:()=>({type:se.mobile,vendor:"Microsoft"})},{test(t){const e=Number(String(t.getOSVersion()).split(".")[0]);return t.getOSName(!0)==="android"&&e>=3},describe:()=>({type:se.tablet})},{test:t=>t.getOSName(!0)==="android",describe:()=>({type:se.mobile})},{test:t=>t.getOSName(!0)==="macos",describe:()=>({type:se.desktop,vendor:"Apple"})},{test:t=>t.getOSName(!0)==="windows",describe:()=>({type:se.desktop})},{test:t=>t.getOSName(!0)==="linux",describe:()=>({type:se.desktop})},{test:t=>t.getOSName(!0)==="playstation 4",describe:()=>({type:se.tv})},{test:t=>t.getOSName(!0)==="roku",describe:()=>({type:se.tv})}],ul=[{test:t=>t.getBrowserName(!0)==="microsoft edge",describe(t){if(/\sedg\//i.test(t))return{name:Ge.Blink};const e=M.getFirstMatch(/edge\/(\d+(\.?_?\d+)+)/i,t);return{name:Ge.EdgeHTML,version:e}}},{test:[/trident/i],describe(t){const e={name:Ge.Trident},r=M.getFirstMatch(/trident\/(\d+(\.?_?\d+)+)/i,t);return r&&(e.version=r),e}},{test:t=>t.test(/presto/i),describe(t){const e={name:Ge.Presto},r=M.getFirstMatch(/presto\/(\d+(\.?_?\d+)+)/i,t);return r&&(e.version=r),e}},{test(t){const e=t.test(/gecko/i),r=t.test(/like gecko/i);return e&&!r},describe(t){const e={name:Ge.Gecko},r=M.getFirstMatch(/gecko\/(\d+(\.?_?\d+)+)/i,t);return r&&(e.version=r),e}},{test:[/(apple)?webkit\/537\.36/i],describe:()=>({name:Ge.Blink})},{test:[/(apple)?webkit/i],describe(t){const e={name:Ge.WebKit},r=M.getFirstMatch(/webkit\/(\d+(\.?_?\d+)+)/i,t);return r&&(e.version=r),e}}];class ni{constructor(e,r=!1){if(e==null||e==="")throw new Error("UserAgent parameter can't be empty");this._ua=e,this.parsedResult={},r!==!0&&this.parse()}getUA(){return this._ua}test(e){return e.test(this._ua)}parseBrowser(){this.parsedResult.browser={};const e=M.find(ol,(r=>{if(typeof r.test=="function")return r.test(this);if(r.test instanceof Array)return r.test.some((i=>this.test(i)));throw new Error("Browser's test function is not valid")}));return e&&(this.parsedResult.browser=e.describe(this.getUA())),this.parsedResult.browser}getBrowser(){return this.parsedResult.browser?this.parsedResult.browser:this.parseBrowser()}getBrowserName(e){return e?String(this.getBrowser().name).toLowerCase()||"":this.getBrowser().name||""}getBrowserVersion(){return this.getBrowser().version}getOS(){return this.parsedResult.os?this.parsedResult.os:this.parseOS()}parseOS(){this.parsedResult.os={};const e=M.find(cl,(r=>{if(typeof r.test=="function")return r.test(this);if(r.test instanceof Array)return r.test.some((i=>this.test(i)));throw new Error("Browser's test function is not valid")}));return e&&(this.parsedResult.os=e.describe(this.getUA())),this.parsedResult.os}getOSName(e){const{name:r}=this.getOS();return e?String(r).toLowerCase()||"":r||""}getOSVersion(){return this.getOS().version}getPlatform(){return this.parsedResult.platform?this.parsedResult.platform:this.parsePlatform()}getPlatformType(e=!1){const{type:r}=this.getPlatform();return e?String(r).toLowerCase()||"":r||""}parsePlatform(){this.parsedResult.platform={};const e=M.find(ll,(r=>{if(typeof r.test=="function")return r.test(this);if(r.test instanceof Array)return r.test.some((i=>this.test(i)));throw new Error("Browser's test function is not valid")}));return e&&(this.parsedResult.platform=e.describe(this.getUA())),this.parsedResult.platform}getEngine(){return this.parsedResult.engine?this.parsedResult.engine:this.parseEngine()}getEngineName(e){return e?String(this.getEngine().name).toLowerCase()||"":this.getEngine().name||""}parseEngine(){this.parsedResult.engine={};const e=M.find(ul,(r=>{if(typeof r.test=="function")return r.test(this);if(r.test instanceof Array)return r.test.some((i=>this.test(i)));throw new Error("Browser's test function is not valid")}));return e&&(this.parsedResult.engine=e.describe(this.getUA())),this.parsedResult.engine}parse(){return this.parseBrowser(),this.parseOS(),this.parsePlatform(),this.parseEngine(),this}getResult(){return M.assign({},this.parsedResult)}satisfies(e){const r={};let i=0;const o={};let n=0;if(Object.keys(e).forEach((s=>{const c=e[s];typeof c=="string"?(o[s]=c,n+=1):typeof c=="object"&&(r[s]=c,i+=1)})),i>0){const s=Object.keys(r),c=M.find(s,(p=>this.isOS(p)));if(c){const p=this.satisfies(r[c]);if(p!==void 0)return p}const d=M.find(s,(p=>this.isPlatform(p)));if(d){const p=this.satisfies(r[d]);if(p!==void 0)return p}}if(n>0){const s=Object.keys(o),c=M.find(s,(d=>this.isBrowser(d,!0)));if(c!==void 0)return this.compareVersion(o[c])}}isBrowser(e,r=!1){const i=this.getBrowserName().toLowerCase();let o=e.toLowerCase();const n=M.getBrowserTypeByAlias(o);return r&&n&&(o=n.toLowerCase()),o===i}compareVersion(e){let r=[0],i=e,o=!1;const n=this.getBrowserVersion();if(typeof n=="string")return e[0]===">"||e[0]==="<"?(i=e.substr(1),e[1]==="="?(o=!0,i=e.substr(2)):r=[],e[0]===">"?r.push(1):r.push(-1)):e[0]==="="?i=e.substr(1):e[0]==="~"&&(o=!0,i=e.substr(1)),r.indexOf(M.compareVersions(n,i,o))>-1}isOS(e){return this.getOSName(!0)===String(e).toLowerCase()}isPlatform(e){return this.getPlatformType(!0)===String(e).toLowerCase()}isEngine(e){return this.getEngineName(!0)===String(e).toLowerCase()}is(e,r=!1){return this.isBrowser(e,r)||this.isOS(e)||this.isPlatform(e)}some(e=[]){return e.some((r=>this.is(r)))}}/*!
 * Bowser - a browser detector
 * https://github.com/lancedikson/bowser
 * MIT License | (c) Dustin Diaz 2012-2015
 * MIT License | (c) Denis Demchenko 2015-2019
 */class dl{static getParser(e,r=!1){if(typeof e!="string")throw new Error("UserAgent should be a string");return new ni(e,r)}static parse(e){return new ni(e).getResult()}static get BROWSER_MAP(){return Ks}static get ENGINE_MAP(){return Ge}static get OS_MAP(){return he}static get PLATFORMS_MAP(){return se}}function kr(){return Date.now()+Math.random().toString()}function Mt(){throw new Error("Method must be implemented in subclass")}function Qs(t,e){return e!=null&&e.proxyUrl?e.proxyUrl+(e.proxyUrl.slice(-1)==="/"?"":"/")+t.substring(8):t}function hr(t){return t!=null&&t.callObjectBundleUrlOverride?t.callObjectBundleUrlOverride:Qs("https://c.daily.co/call-machine/versioned/".concat("0.85.0","/static/call-machine-object-bundle.js"),t)}function fr(t){try{new URL(t)}catch{return!1}return!0}const ne=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__,st="8.55.0",ee=globalThis;function mr(t,e,r){const i=ee,o=i.__SENTRY__=i.__SENTRY__||{},n=o[st]=o[st]||{};return n[t]||(n[t]=e())}const pt=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__,$r=["debug","info","warn","error","log","assert","trace"],gr={};function qt(t){if(!("console"in ee))return t();const e=ee.console,r={},i=Object.keys(gr);i.forEach((o=>{const n=gr[o];r[o]=e[o],e[o]=n}));try{return t()}finally{i.forEach((o=>{e[o]=r[o]}))}}const J=mr("logger",(function(){let t=!1;const e={enable:()=>{t=!0},disable:()=>{t=!1},isEnabled:()=>t};return pt?$r.forEach((r=>{e[r]=(...i)=>{t&&qt((()=>{ee.console[r](`Sentry Logger [${r}]:`,...i)}))}})):$r.forEach((r=>{e[r]=()=>{}})),e})),it="?",ii=/\(error: (.*)\)/,si=/captureMessage|captureException/;function Ht(t){return t[t.length-1]||{}}const ai="<anonymous>";function Qe(t){try{return t&&typeof t=="function"&&t.name||ai}catch{return ai}}function oi(t){const e=t.exception;if(e){const r=[];try{return e.values.forEach((i=>{i.stacktrace.frames&&r.push(...i.stacktrace.frames)})),r}catch{return}}}const or={},ci={};function at(t,e){or[t]=or[t]||[],or[t].push(e)}function ot(t,e){if(!ci[t]){ci[t]=!0;try{e()}catch(r){pt&&J.error(`Error while instrumenting ${t}`,r)}}}function Oe(t,e){const r=t&&or[t];if(r)for(const i of r)try{i(e)}catch(o){pt&&J.error(`Error while triggering instrumentation handler.
Type: ${t}
Name: ${Qe(i)}
Error:`,o)}}let Ir=null;function pl(){Ir=ee.onerror,ee.onerror=function(t,e,r,i,o){return Oe("error",{column:i,error:o,line:r,msg:t,url:e}),!!Ir&&Ir.apply(this,arguments)},ee.onerror.__SENTRY_INSTRUMENTED__=!0}let Pr=null;function hl(){Pr=ee.onunhandledrejection,ee.onunhandledrejection=function(t){return Oe("unhandledrejection",t),!Pr||Pr.apply(this,arguments)},ee.onunhandledrejection.__SENTRY_INSTRUMENTED__=!0}function xr(){return On(ee),ee}function On(t){const e=t.__SENTRY__=t.__SENTRY__||{};return e.version=e.version||st,e[st]=e[st]||{}}const Xs=Object.prototype.toString;function Mn(t){switch(Xs.call(t)){case"[object Error]":case"[object Exception]":case"[object DOMException]":case"[object WebAssembly.Exception]":return!0;default:return ct(t,Error)}}function kt(t,e){return Xs.call(t)===`[object ${e}]`}function $s(t){return kt(t,"ErrorEvent")}function li(t){return kt(t,"DOMError")}function qe(t){return kt(t,"String")}function In(t){return typeof t=="object"&&t!==null&&"__sentry_template_string__"in t&&"__sentry_template_values__"in t}function Zr(t){return t===null||In(t)||typeof t!="object"&&typeof t!="function"}function bt(t){return kt(t,"Object")}function Cr(t){return typeof Event<"u"&&ct(t,Event)}function Tr(t){return!!(t&&t.then&&typeof t.then=="function")}function ct(t,e){try{return t instanceof e}catch{return!1}}function Zs(t){return!(typeof t!="object"||t===null||!t.__isVue&&!t._isVue)}const Pn=ee;function ea(t,e={}){if(!t)return"<unknown>";try{let r=t;const i=5,o=[];let n=0,s=0;const c=" > ",d=c.length;let p;const v=Array.isArray(e)?e:e.keyAttrs,E=!Array.isArray(e)&&e.maxStringLength||80;for(;r&&n++<i&&(p=fl(r,v),!(p==="html"||n>1&&s+o.length*d+p.length>=E));)o.push(p),s+=p.length,r=r.parentNode;return o.reverse().join(c)}catch{return"<unknown>"}}function fl(t,e){const r=t,i=[];if(!r||!r.tagName)return"";if(Pn.HTMLElement&&r instanceof HTMLElement&&r.dataset){if(r.dataset.sentryComponent)return r.dataset.sentryComponent;if(r.dataset.sentryElement)return r.dataset.sentryElement}i.push(r.tagName.toLowerCase());const o=e&&e.length?e.filter((s=>r.getAttribute(s))).map((s=>[s,r.getAttribute(s)])):null;if(o&&o.length)o.forEach((s=>{i.push(`[${s[0]}="${s[1]}"]`)}));else{r.id&&i.push(`#${r.id}`);const s=r.className;if(s&&qe(s)){const c=s.split(/\s+/);for(const d of c)i.push(`.${d}`)}}const n=["aria-label","type","name","title","alt"];for(const s of n){const c=r.getAttribute(s);c&&i.push(`[${s}="${c}"]`)}return i.join("")}function vt(t,e=0){return typeof t!="string"||e===0||t.length<=e?t:`${t.slice(0,e)}...`}function ui(t,e){if(!Array.isArray(t))return"";const r=[];for(let i=0;i<t.length;i++){const o=t[i];try{Zs(o)?r.push("[VueViewModel]"):r.push(String(o))}catch{r.push("[value cannot be serialized]")}}return r.join(e)}function ml(t,e,r=!1){return!!qe(t)&&(kt(e,"RegExp")?e.test(t):!!qe(e)&&(r?t===e:t.includes(e)))}function Kt(t,e=[],r=!1){return e.some((i=>ml(t,i,r)))}function ye(t,e,r){if(!(e in t))return;const i=t[e],o=r(i);typeof o=="function"&&ta(o,i);try{t[e]=o}catch{pt&&J.log(`Failed to replace method "${e}" in object`,t)}}function lt(t,e,r){try{Object.defineProperty(t,e,{value:r,writable:!0,configurable:!0})}catch{pt&&J.log(`Failed to add non-enumerable property "${e}" to object`,t)}}function ta(t,e){try{const r=e.prototype||{};t.prototype=e.prototype=r,lt(t,"__sentry_original__",e)}catch{}}function Dn(t){return t.__sentry_original__}function ra(t){if(Mn(t))return{message:t.message,name:t.name,stack:t.stack,...pi(t)};if(Cr(t)){const e={type:t.type,target:di(t.target),currentTarget:di(t.currentTarget),...pi(t)};return typeof CustomEvent<"u"&&ct(t,CustomEvent)&&(e.detail=t.detail),e}return t}function di(t){try{return e=t,typeof Element<"u"&&ct(e,Element)?ea(t):Object.prototype.toString.call(t)}catch{return"<unknown>"}var e}function pi(t){if(typeof t=="object"&&t!==null){const e={};for(const r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}return{}}function ke(t){return en(t,new Map)}function en(t,e){if((function(r){if(!bt(r))return!1;try{const i=Object.getPrototypeOf(r).constructor.name;return!i||i==="Object"}catch{return!0}})(t)){const r=e.get(t);if(r!==void 0)return r;const i={};e.set(t,i);for(const o of Object.getOwnPropertyNames(t))t[o]!==void 0&&(i[o]=en(t[o],e));return i}if(Array.isArray(t)){const r=e.get(t);if(r!==void 0)return r;const i=[];return e.set(t,i),t.forEach((o=>{i.push(en(o,e))})),i}return t}function Jt(){return Date.now()/1e3}const Ye=(function(){const{performance:t}=ee;if(!t||!t.now)return Jt;const e=Date.now()-t.now(),r=t.timeOrigin==null?e:t.timeOrigin;return()=>(r+t.now())/1e3})();function xe(){const t=ee,e=t.crypto||t.msCrypto;let r=()=>16*Math.random();try{if(e&&e.randomUUID)return e.randomUUID().replace(/-/g,"");e&&e.getRandomValues&&(r=()=>{const i=new Uint8Array(1);return e.getRandomValues(i),i[0]})}catch{}return("10000000100040008000"+1e11).replace(/[018]/g,(i=>(i^(15&r())>>i/4).toString(16)))}function na(t){return t.exception&&t.exception.values?t.exception.values[0]:void 0}function He(t){const{message:e,event_id:r}=t;if(e)return e;const i=na(t);return i?i.type&&i.value?`${i.type}: ${i.value}`:i.type||i.value||r||"<unknown>":r||"<unknown>"}function tn(t,e,r){const i=t.exception=t.exception||{},o=i.values=i.values||[],n=o[0]=o[0]||{};n.value||(n.value=e||""),n.type||(n.type="Error")}function wt(t,e){const r=na(t);if(!r)return;const i=r.mechanism;if(r.mechanism={type:"generic",handled:!0,...i,...e},e&&"data"in e){const o={...i&&i.data,...e.data};r.mechanism.data=o}}function hi(t){if((function(e){try{return e.__sentry_captured__}catch{}})(t))return!0;try{lt(t,"__sentry_captured__",!0)}catch{}return!1}var Ue;function ut(t){return new Ee((e=>{e(t)}))}function vr(t){return new Ee(((e,r)=>{r(t)}))}(()=>{const{performance:t}=ee;!t||!t.now||(t.now(),t.timing&&t.timing.navigationStart)})(),(function(t){t[t.PENDING=0]="PENDING",t[t.RESOLVED=1]="RESOLVED",t[t.REJECTED=2]="REJECTED"})(Ue||(Ue={}));class Ee{constructor(e){Ee.prototype.__init.call(this),Ee.prototype.__init2.call(this),Ee.prototype.__init3.call(this),Ee.prototype.__init4.call(this),this._state=Ue.PENDING,this._handlers=[];try{e(this._resolve,this._reject)}catch(r){this._reject(r)}}then(e,r){return new Ee(((i,o)=>{this._handlers.push([!1,n=>{if(e)try{i(e(n))}catch(s){o(s)}else i(n)},n=>{if(r)try{i(r(n))}catch(s){o(s)}else o(n)}]),this._executeHandlers()}))}catch(e){return this.then((r=>r),e)}finally(e){return new Ee(((r,i)=>{let o,n;return this.then((s=>{n=!1,o=s,e&&e()}),(s=>{n=!0,o=s,e&&e()})).then((()=>{n?i(o):r(o)}))}))}__init(){this._resolve=e=>{this._setResult(Ue.RESOLVED,e)}}__init2(){this._reject=e=>{this._setResult(Ue.REJECTED,e)}}__init3(){this._setResult=(e,r)=>{this._state===Ue.PENDING&&(Tr(r)?r.then(this._resolve,this._reject):(this._state=e,this._value=r,this._executeHandlers()))}}__init4(){this._executeHandlers=()=>{if(this._state===Ue.PENDING)return;const e=this._handlers.slice();this._handlers=[],e.forEach((r=>{r[0]||(this._state===Ue.RESOLVED&&r[1](this._value),this._state===Ue.REJECTED&&r[2](this._value),r[0]=!0)}))}}}function gl(t){const e=Ye(),r={sid:xe(),init:!0,timestamp:e,started:e,duration:0,status:"ok",errors:0,ignoreDuration:!1,toJSON:()=>(function(i){return ke({sid:`${i.sid}`,init:i.init,started:new Date(1e3*i.started).toISOString(),timestamp:new Date(1e3*i.timestamp).toISOString(),status:i.status,errors:i.errors,did:typeof i.did=="number"||typeof i.did=="string"?`${i.did}`:void 0,duration:i.duration,abnormal_mechanism:i.abnormal_mechanism,attrs:{release:i.release,environment:i.environment,ip_address:i.ipAddress,user_agent:i.userAgent}})})(r)};return t&&At(r,t),r}function At(t,e={}){if(e.user&&(!t.ipAddress&&e.user.ip_address&&(t.ipAddress=e.user.ip_address),t.did||e.did||(t.did=e.user.id||e.user.email||e.user.username)),t.timestamp=e.timestamp||Ye(),e.abnormal_mechanism&&(t.abnormal_mechanism=e.abnormal_mechanism),e.ignoreDuration&&(t.ignoreDuration=e.ignoreDuration),e.sid&&(t.sid=e.sid.length===32?e.sid:xe()),e.init!==void 0&&(t.init=e.init),!t.did&&e.did&&(t.did=`${e.did}`),typeof e.started=="number"&&(t.started=e.started),t.ignoreDuration)t.duration=void 0;else if(typeof e.duration=="number")t.duration=e.duration;else{const r=t.timestamp-t.started;t.duration=r>=0?r:0}e.release&&(t.release=e.release),e.environment&&(t.environment=e.environment),!t.ipAddress&&e.ipAddress&&(t.ipAddress=e.ipAddress),!t.userAgent&&e.userAgent&&(t.userAgent=e.userAgent),typeof e.errors=="number"&&(t.errors=e.errors),e.status&&(t.status=e.status)}function fi(){return xe()}function rn(){return xe().substring(16)}function jr(t,e,r=2){if(!e||typeof e!="object"||r<=0)return e;if(t&&e&&Object.keys(e).length===0)return t;const i={...t};for(const o in e)Object.prototype.hasOwnProperty.call(e,o)&&(i[o]=jr(i[o],e[o],r-1));return i}const nn="_sentrySpan";function mi(t,e){e?lt(t,nn,e):delete t[nn]}function gi(t){return t[nn]}class Ln{constructor(){this._notifyingListeners=!1,this._scopeListeners=[],this._eventProcessors=[],this._breadcrumbs=[],this._attachments=[],this._user={},this._tags={},this._extra={},this._contexts={},this._sdkProcessingMetadata={},this._propagationContext={traceId:fi(),spanId:rn()}}clone(){const e=new Ln;return e._breadcrumbs=[...this._breadcrumbs],e._tags={...this._tags},e._extra={...this._extra},e._contexts={...this._contexts},this._contexts.flags&&(e._contexts.flags={values:[...this._contexts.flags.values]}),e._user=this._user,e._level=this._level,e._session=this._session,e._transactionName=this._transactionName,e._fingerprint=this._fingerprint,e._eventProcessors=[...this._eventProcessors],e._requestSession=this._requestSession,e._attachments=[...this._attachments],e._sdkProcessingMetadata={...this._sdkProcessingMetadata},e._propagationContext={...this._propagationContext},e._client=this._client,e._lastEventId=this._lastEventId,mi(e,gi(this)),e}setClient(e){this._client=e}setLastEventId(e){this._lastEventId=e}getClient(){return this._client}lastEventId(){return this._lastEventId}addScopeListener(e){this._scopeListeners.push(e)}addEventProcessor(e){return this._eventProcessors.push(e),this}setUser(e){return this._user=e||{email:void 0,id:void 0,ip_address:void 0,username:void 0},this._session&&At(this._session,{user:e}),this._notifyScopeListeners(),this}getUser(){return this._user}getRequestSession(){return this._requestSession}setRequestSession(e){return this._requestSession=e,this}setTags(e){return this._tags={...this._tags,...e},this._notifyScopeListeners(),this}setTag(e,r){return this._tags={...this._tags,[e]:r},this._notifyScopeListeners(),this}setExtras(e){return this._extra={...this._extra,...e},this._notifyScopeListeners(),this}setExtra(e,r){return this._extra={...this._extra,[e]:r},this._notifyScopeListeners(),this}setFingerprint(e){return this._fingerprint=e,this._notifyScopeListeners(),this}setLevel(e){return this._level=e,this._notifyScopeListeners(),this}setTransactionName(e){return this._transactionName=e,this._notifyScopeListeners(),this}setContext(e,r){return r===null?delete this._contexts[e]:this._contexts[e]=r,this._notifyScopeListeners(),this}setSession(e){return e?this._session=e:delete this._session,this._notifyScopeListeners(),this}getSession(){return this._session}update(e){if(!e)return this;const r=typeof e=="function"?e(this):e,[i,o]=r instanceof Xe?[r.getScopeData(),r.getRequestSession()]:bt(r)?[e,e.requestSession]:[],{tags:n,extra:s,user:c,contexts:d,level:p,fingerprint:v=[],propagationContext:E}=i||{};return this._tags={...this._tags,...n},this._extra={...this._extra,...s},this._contexts={...this._contexts,...d},c&&Object.keys(c).length&&(this._user=c),p&&(this._level=p),v.length&&(this._fingerprint=v),E&&(this._propagationContext=E),o&&(this._requestSession=o),this}clear(){return this._breadcrumbs=[],this._tags={},this._extra={},this._user={},this._contexts={},this._level=void 0,this._transactionName=void 0,this._fingerprint=void 0,this._requestSession=void 0,this._session=void 0,mi(this,void 0),this._attachments=[],this.setPropagationContext({traceId:fi()}),this._notifyScopeListeners(),this}addBreadcrumb(e,r){const i=typeof r=="number"?r:100;if(i<=0)return this;const o={timestamp:Jt(),...e};return this._breadcrumbs.push(o),this._breadcrumbs.length>i&&(this._breadcrumbs=this._breadcrumbs.slice(-i),this._client&&this._client.recordDroppedEvent("buffer_overflow","log_item")),this._notifyScopeListeners(),this}getLastBreadcrumb(){return this._breadcrumbs[this._breadcrumbs.length-1]}clearBreadcrumbs(){return this._breadcrumbs=[],this._notifyScopeListeners(),this}addAttachment(e){return this._attachments.push(e),this}clearAttachments(){return this._attachments=[],this}getScopeData(){return{breadcrumbs:this._breadcrumbs,attachments:this._attachments,contexts:this._contexts,tags:this._tags,extra:this._extra,user:this._user,level:this._level,fingerprint:this._fingerprint||[],eventProcessors:this._eventProcessors,propagationContext:this._propagationContext,sdkProcessingMetadata:this._sdkProcessingMetadata,transactionName:this._transactionName,span:gi(this)}}setSDKProcessingMetadata(e){return this._sdkProcessingMetadata=jr(this._sdkProcessingMetadata,e,2),this}setPropagationContext(e){return this._propagationContext={spanId:rn(),...e},this}getPropagationContext(){return this._propagationContext}captureException(e,r){const i=r&&r.event_id?r.event_id:xe();if(!this._client)return J.warn("No client configured on scope - will not capture exception!"),i;const o=new Error("Sentry syntheticException");return this._client.captureException(e,{originalException:e,syntheticException:o,...r,event_id:i},this),i}captureMessage(e,r,i){const o=i&&i.event_id?i.event_id:xe();if(!this._client)return J.warn("No client configured on scope - will not capture message!"),o;const n=new Error(e);return this._client.captureMessage(e,r,{originalException:e,syntheticException:n,...i,event_id:o},this),o}captureEvent(e,r){const i=r&&r.event_id?r.event_id:xe();return this._client?(this._client.captureEvent(e,{...r,event_id:i},this),i):(J.warn("No client configured on scope - will not capture event!"),i)}_notifyScopeListeners(){this._notifyingListeners||(this._notifyingListeners=!0,this._scopeListeners.forEach((e=>{e(this)})),this._notifyingListeners=!1)}}const Xe=Ln;class vl{constructor(e,r){let i,o;i=e||new Xe,o=r||new Xe,this._stack=[{scope:i}],this._isolationScope=o}withScope(e){const r=this._pushScope();let i;try{i=e(r)}catch(o){throw this._popScope(),o}return Tr(i)?i.then((o=>(this._popScope(),o)),(o=>{throw this._popScope(),o})):(this._popScope(),i)}getClient(){return this.getStackTop().client}getScope(){return this.getStackTop().scope}getIsolationScope(){return this._isolationScope}getStackTop(){return this._stack[this._stack.length-1]}_pushScope(){const e=this.getScope().clone();return this._stack.push({client:this.getClient(),scope:e}),e}_popScope(){return!(this._stack.length<=1)&&!!this._stack.pop()}}function St(){const t=On(xr());return t.stack=t.stack||new vl(mr("defaultCurrentScope",(()=>new Xe)),mr("defaultIsolationScope",(()=>new Xe)))}function yl(t){return St().withScope(t)}function bl(t,e){const r=St();return r.withScope((()=>(r.getStackTop().scope=t,e(t))))}function vi(t){return St().withScope((()=>t(St().getIsolationScope())))}function Nn(t){const e=On(t);return e.acs?e.acs:{withIsolationScope:vi,withScope:yl,withSetScope:bl,withSetIsolationScope:(r,i)=>vi(i),getCurrentScope:()=>St().getScope(),getIsolationScope:()=>St().getIsolationScope()}}function ht(){return Nn(xr()).getCurrentScope()}function Yt(){return Nn(xr()).getIsolationScope()}function ue(){return ht().getClient()}function wl(t){const e=t.getPropagationContext(),{traceId:r,spanId:i,parentSpanId:o}=e;return ke({trace_id:r,span_id:i,parent_span_id:o})}function Al(t){const e=t._sentryMetrics;if(!e)return;const r={};for(const[,[i,o]]of e)(r[i]||(r[i]=[])).push(ke(o));return r}const Sl=/^sentry-/;function _l(t){const e=(function(i){if(!(!i||!qe(i)&&!Array.isArray(i)))return Array.isArray(i)?i.reduce(((o,n)=>{const s=yi(n);return Object.entries(s).forEach((([c,d])=>{o[c]=d})),o}),{}):yi(i)})(t);if(!e)return;const r=Object.entries(e).reduce(((i,[o,n])=>(o.match(Sl)&&(i[o.slice(7)]=n),i)),{});return Object.keys(r).length>0?r:void 0}function yi(t){return t.split(",").map((e=>e.split("=").map((r=>decodeURIComponent(r.trim()))))).reduce(((e,[r,i])=>(r&&i&&(e[r]=i),e)),{})}let bi=!1;function El(t){const{spanId:e,traceId:r,isRemote:i}=t.spanContext();return ke({parent_span_id:i?e:Rn(t).parent_span_id,span_id:i?rn():e,trace_id:r})}function wi(t){return typeof t=="number"?Ai(t):Array.isArray(t)?t[0]+t[1]/1e9:t instanceof Date?Ai(t.getTime()):Ye()}function Ai(t){return t>9999999999?t/1e3:t}function Rn(t){if((function(e){return typeof e.getSpanJSON=="function"})(t))return t.getSpanJSON();try{const{spanId:e,traceId:r}=t.spanContext();if((function(i){const o=i;return!!(o.attributes&&o.startTime&&o.name&&o.endTime&&o.status)})(t)){const{attributes:i,startTime:o,name:n,endTime:s,parentSpanId:c,status:d}=t;return ke({span_id:e,trace_id:r,data:i,description:n,parent_span_id:c,start_timestamp:wi(o),timestamp:wi(s)||void 0,status:kl(d),op:i["sentry.op"],origin:i["sentry.origin"],_metrics_summary:Al(t)})}return{span_id:e,trace_id:r}}catch{return{}}}function kl(t){if(t&&t.code!==0)return t.code===1?"ok":t.message||"unknown_error"}function ia(t){return t._sentryRootSpan||t}function xl(){bi||(qt((()=>{console.warn("[Sentry] Deprecation warning: Returning null from `beforeSendSpan` will be disallowed from SDK version 9.0.0 onwards. The callback will only support mutating spans. To drop certain spans, configure the respective integrations directly.")})),bi=!0)}const Fn="production";function sa(t,e){const r=e.getOptions(),{publicKey:i}=e.getDsn()||{},o=ke({environment:r.environment||Fn,release:r.release,public_key:i,trace_id:t});return e.emit("createDsc",o),o}function Cl(t){const e=ue();if(!e)return{};const r=ia(t),i=r._frozenDsc;if(i)return i;const o=r.spanContext().traceState,n=o&&o.get("sentry.dsc"),s=n&&_l(n);if(s)return s;const c=sa(t.spanContext().traceId,e),d=Rn(r),p=d.data||{},v=p["sentry.sample_rate"];v!=null&&(c.sample_rate=`${v}`);const E=p["sentry.source"],C=d.description;return E!=="url"&&C&&(c.transaction=C),(function(x){if(typeof __SENTRY_TRACING__=="boolean"&&!__SENTRY_TRACING__)return!1;const h=ue(),m=h&&h.getOptions();return!!m&&(m.enableTracing||"tracesSampleRate"in m||"tracesSampler"in m)})()&&(c.sampled=String((function(x){const{traceFlags:h}=x.spanContext();return h===1})(r))),e.emit("createDsc",c,r),c}const Tl=/^(?:(\w+):)\/\/(?:(\w+)(?::(\w+)?)?@)([\w.-]+)(?::(\d+))?\/(.+)/;function yr(t,e=!1){const{host:r,path:i,pass:o,port:n,projectId:s,protocol:c,publicKey:d}=t;return`${c}://${d}${e&&o?`:${o}`:""}@${r}${n?`:${n}`:""}/${i&&`${i}/`}${s}`}function Si(t){return{protocol:t.protocol,publicKey:t.publicKey||"",pass:t.pass||"",host:t.host,port:t.port||"",path:t.path||"",projectId:t.projectId}}function jl(t){const e=typeof t=="string"?(function(r){const i=Tl.exec(r);if(!i)return void qt((()=>{console.error(`Invalid Sentry Dsn: ${r}`)}));const[o,n,s="",c="",d="",p=""]=i.slice(1);let v="",E=p;const C=E.split("/");if(C.length>1&&(v=C.slice(0,-1).join("/"),E=C.pop()),E){const x=E.match(/^\d+/);x&&(E=x[0])}return Si({host:c,pass:s,path:v,projectId:E,port:d,protocol:o,publicKey:n})})(t):Si(t);if(e&&(function(r){if(!pt)return!0;const{port:i,projectId:o,protocol:n}=r;return!(["protocol","publicKey","host","projectId"].find((s=>!r[s]&&(J.error(`Invalid Sentry Dsn: ${s} missing`),!0)))||(o.match(/^\d+$/)?(function(s){return s==="http"||s==="https"})(n)?i&&isNaN(parseInt(i,10))&&(J.error(`Invalid Sentry Dsn: Invalid port ${i}`),1):(J.error(`Invalid Sentry Dsn: Invalid protocol ${n}`),1):(J.error(`Invalid Sentry Dsn: Invalid projectId ${o}`),1)))})(e))return e}function Ve(t,e=100,r=1/0){try{return sn("",t,e,r)}catch(i){return{ERROR:`**non-serializable** (${i})`}}}function aa(t,e=3,r=102400){const i=Ve(t,e);return o=i,(function(n){return~-encodeURI(n).split(/%..|./).length})(JSON.stringify(o))>r?aa(t,e-1,r):i;var o}function sn(t,e,r=1/0,i=1/0,o=(function(){const n=typeof WeakSet=="function",s=n?new WeakSet:[];return[function(c){if(n)return!!s.has(c)||(s.add(c),!1);for(let d=0;d<s.length;d++)if(s[d]===c)return!0;return s.push(c),!1},function(c){if(n)s.delete(c);else for(let d=0;d<s.length;d++)if(s[d]===c){s.splice(d,1);break}}]})()){const[n,s]=o;if(e==null||["boolean","string"].includes(typeof e)||typeof e=="number"&&Number.isFinite(e))return e;const c=(function(x,h){try{if(x==="domain"&&h&&typeof h=="object"&&h._events)return"[Domain]";if(x==="domainEmitter")return"[DomainEmitter]";if(typeof global<"u"&&h===global)return"[Global]";if(typeof window<"u"&&h===window)return"[Window]";if(typeof document<"u"&&h===document)return"[Document]";if(Zs(h))return"[VueViewModel]";if(bt(m=h)&&"nativeEvent"in m&&"preventDefault"in m&&"stopPropagation"in m)return"[SyntheticEvent]";if(typeof h=="number"&&!Number.isFinite(h))return`[${h}]`;if(typeof h=="function")return`[Function: ${Qe(h)}]`;if(typeof h=="symbol")return`[${String(h)}]`;if(typeof h=="bigint")return`[BigInt: ${String(h)}]`;const k=(function(_){const b=Object.getPrototypeOf(_);return b?b.constructor.name:"null prototype"})(h);return/^HTML(\w*)Element$/.test(k)?`[HTMLElement: ${k}]`:`[object ${k}]`}catch(k){return`**non-serializable** (${k})`}var m})(t,e);if(!c.startsWith("[object "))return c;if(e.__sentry_skip_normalization__)return e;const d=typeof e.__sentry_override_normalization_depth__=="number"?e.__sentry_override_normalization_depth__:r;if(d===0)return c.replace("object ","");if(n(e))return"[Circular ~]";const p=e;if(p&&typeof p.toJSON=="function")try{return sn("",p.toJSON(),d-1,i,o)}catch{}const v=Array.isArray(e)?[]:{};let E=0;const C=ra(e);for(const x in C){if(!Object.prototype.hasOwnProperty.call(C,x))continue;if(E>=i){v[x]="[MaxProperties ~]";break}const h=C[x];v[x]=sn(x,h,d-1,i,o),E++}return s(e),v}function Vt(t,e=[]){return[t,e]}function Ol(t,e){const[r,i]=t;return[r,[...i,e]]}function _i(t,e){const r=t[1];for(const i of r)if(e(i,i[0].type))return!0;return!1}function an(t){return ee.__SENTRY__&&ee.__SENTRY__.encodePolyfill?ee.__SENTRY__.encodePolyfill(t):new TextEncoder().encode(t)}function Ml(t){const[e,r]=t;let i=JSON.stringify(e);function o(n){typeof i=="string"?i=typeof n=="string"?i+n:[an(i),n]:i.push(typeof n=="string"?an(n):n)}for(const n of r){const[s,c]=n;if(o(`
${JSON.stringify(s)}
`),typeof c=="string"||c instanceof Uint8Array)o(c);else{let d;try{d=JSON.stringify(c)}catch{d=JSON.stringify(Ve(c))}o(d)}}return typeof i=="string"?i:(function(n){const s=n.reduce(((p,v)=>p+v.length),0),c=new Uint8Array(s);let d=0;for(const p of n)c.set(p,d),d+=p.length;return c})(i)}function Il(t){const e=typeof t.data=="string"?an(t.data):t.data;return[ke({type:"attachment",length:e.length,filename:t.filename,content_type:t.contentType,attachment_type:t.attachmentType}),e]}const Pl={session:"session",sessions:"session",attachment:"attachment",transaction:"transaction",event:"error",client_report:"internal",user_report:"default",profile:"profile",profile_chunk:"profile",replay_event:"replay",replay_recording:"replay",check_in:"monitor",feedback:"feedback",span:"span",statsd:"metric_bucket",raw_security:"security"};function Ei(t){return Pl[t]}function oa(t){if(!t||!t.sdk)return;const{name:e,version:r}=t.sdk;return{name:e,version:r}}function Dl(t,e,r,i){const o=oa(r),n=t.type&&t.type!=="replay_event"?t.type:"event";(function(c,d){d&&(c.sdk=c.sdk||{},c.sdk.name=c.sdk.name||d.name,c.sdk.version=c.sdk.version||d.version,c.sdk.integrations=[...c.sdk.integrations||[],...d.integrations||[]],c.sdk.packages=[...c.sdk.packages||[],...d.packages||[]])})(t,r&&r.sdk);const s=(function(c,d,p,v){const E=c.sdkProcessingMetadata&&c.sdkProcessingMetadata.dynamicSamplingContext;return{event_id:c.event_id,sent_at:new Date().toISOString(),...d&&{sdk:d},...!!p&&v&&{dsn:yr(v)},...E&&{trace:ke({...E})}}})(t,o,i,e);return delete t.sdkProcessingMetadata,Vt(s,[[{type:n},t]])}function on(t,e,r,i=0){return new Ee(((o,n)=>{const s=t[i];if(e===null||typeof s!="function")o(e);else{const c=s({...e},r);ne&&s.id&&c===null&&J.log(`Event processor "${s.id}" dropped event`),Tr(c)?c.then((d=>on(t,d,r,i+1).then(o))).then(null,n):on(t,c,r,i+1).then(o).then(null,n)}}))}let Qt,ki,Dr;function Ll(t,e){const{fingerprint:r,span:i,breadcrumbs:o,sdkProcessingMetadata:n}=e;(function(s,c){const{extra:d,tags:p,user:v,contexts:E,level:C,transactionName:x}=c,h=ke(d);h&&Object.keys(h).length&&(s.extra={...h,...s.extra});const m=ke(p);m&&Object.keys(m).length&&(s.tags={...m,...s.tags});const k=ke(v);k&&Object.keys(k).length&&(s.user={...k,...s.user});const _=ke(E);_&&Object.keys(_).length&&(s.contexts={..._,...s.contexts}),C&&(s.level=C),x&&s.type!=="transaction"&&(s.transaction=x)})(t,e),i&&(function(s,c){s.contexts={trace:El(c),...s.contexts},s.sdkProcessingMetadata={dynamicSamplingContext:Cl(c),...s.sdkProcessingMetadata};const d=ia(c),p=Rn(d).description;p&&!s.transaction&&s.type==="transaction"&&(s.transaction=p)})(t,i),(function(s,c){s.fingerprint=s.fingerprint?Array.isArray(s.fingerprint)?s.fingerprint:[s.fingerprint]:[],c&&(s.fingerprint=s.fingerprint.concat(c)),s.fingerprint&&!s.fingerprint.length&&delete s.fingerprint})(t,r),(function(s,c){const d=[...s.breadcrumbs||[],...c];s.breadcrumbs=d.length?d:void 0})(t,o),(function(s,c){s.sdkProcessingMetadata={...s.sdkProcessingMetadata,...c}})(t,n)}function xi(t,e){const{extra:r,tags:i,user:o,contexts:n,level:s,sdkProcessingMetadata:c,breadcrumbs:d,fingerprint:p,eventProcessors:v,attachments:E,propagationContext:C,transactionName:x,span:h}=e;Xt(t,"extra",r),Xt(t,"tags",i),Xt(t,"user",o),Xt(t,"contexts",n),t.sdkProcessingMetadata=jr(t.sdkProcessingMetadata,c,2),s&&(t.level=s),x&&(t.transactionName=x),h&&(t.span=h),d.length&&(t.breadcrumbs=[...t.breadcrumbs,...d]),p.length&&(t.fingerprint=[...t.fingerprint,...p]),v.length&&(t.eventProcessors=[...t.eventProcessors,...v]),E.length&&(t.attachments=[...t.attachments,...E]),t.propagationContext={...t.propagationContext,...C}}function Xt(t,e,r){t[e]=jr(t[e],r,1)}function Nl(t,e,r,i,o,n){const{normalizeDepth:s=3,normalizeMaxBreadth:c=1e3}=t,d={...e,event_id:e.event_id||r.event_id||xe(),timestamp:e.timestamp||Jt()},p=r.integrations||t.integrations.map((h=>h.name));(function(h,m){const{environment:k,release:_,dist:b,maxValueLength:A=250}=m;h.environment=h.environment||k||Fn,!h.release&&_&&(h.release=_),!h.dist&&b&&(h.dist=b),h.message&&(h.message=vt(h.message,A));const w=h.exception&&h.exception.values&&h.exception.values[0];w&&w.value&&(w.value=vt(w.value,A));const S=h.request;S&&S.url&&(S.url=vt(S.url,A))})(d,t),(function(h,m){m.length>0&&(h.sdk=h.sdk||{},h.sdk.integrations=[...h.sdk.integrations||[],...m])})(d,p),o&&o.emit("applyFrameMetadata",e),e.type===void 0&&(function(h,m){const k=(function(_){const b=ee._sentryDebugIds;if(!b)return{};const A=Object.keys(b);return Dr&&A.length===ki||(ki=A.length,Dr=A.reduce(((w,S)=>{Qt||(Qt={});const T=Qt[S];if(T)w[T[0]]=T[1];else{const O=_(S);for(let D=O.length-1;D>=0;D--){const L=O[D],R=L&&L.filename,V=b[S];if(R&&V){w[R]=V,Qt[S]=[R,V];break}}}return w}),{})),Dr})(m);try{h.exception.values.forEach((_=>{_.stacktrace.frames.forEach((b=>{k&&b.filename&&(b.debug_id=k[b.filename])}))}))}catch{}})(d,t.stackParser);const v=(function(h,m){if(!m)return h;const k=h?h.clone():new Xe;return k.update(m),k})(i,r.captureContext);r.mechanism&&wt(d,r.mechanism);const E=o?o.getEventProcessors():[],C=mr("globalScope",(()=>new Xe)).getScopeData();n&&xi(C,n.getScopeData()),v&&xi(C,v.getScopeData());const x=[...r.attachments||[],...C.attachments];return x.length&&(r.attachments=x),Ll(d,C),on([...E,...C.eventProcessors],d,r).then((h=>(h&&(function(m){const k={};try{m.exception.values.forEach((b=>{b.stacktrace.frames.forEach((A=>{A.debug_id&&(A.abs_path?k[A.abs_path]=A.debug_id:A.filename&&(k[A.filename]=A.debug_id),delete A.debug_id)}))}))}catch{}if(Object.keys(k).length===0)return;m.debug_meta=m.debug_meta||{},m.debug_meta.images=m.debug_meta.images||[];const _=m.debug_meta.images;Object.entries(k).forEach((([b,A])=>{_.push({type:"sourcemap",code_file:b,debug_id:A})}))})(h),typeof s=="number"&&s>0?(function(m,k,_){if(!m)return null;const b={...m,...m.breadcrumbs&&{breadcrumbs:m.breadcrumbs.map((A=>({...A,...A.data&&{data:Ve(A.data,k,_)}})))},...m.user&&{user:Ve(m.user,k,_)},...m.contexts&&{contexts:Ve(m.contexts,k,_)},...m.extra&&{extra:Ve(m.extra,k,_)}};return m.contexts&&m.contexts.trace&&b.contexts&&(b.contexts.trace=m.contexts.trace,m.contexts.trace.data&&(b.contexts.trace.data=Ve(m.contexts.trace.data,k,_))),m.spans&&(b.spans=m.spans.map((A=>({...A,...A.data&&{data:Ve(A.data,k,_)}})))),m.contexts&&m.contexts.flags&&b.contexts&&(b.contexts.flags=Ve(m.contexts.flags,3,_)),b})(h,s,c):h)))}function Ci(t,e){return ht().captureEvent(t,e)}function Ti(t){const e=ue(),r=Yt(),i=ht(),{release:o,environment:n=Fn}=e&&e.getOptions()||{},{userAgent:s}=ee.navigator||{},c=gl({release:o,environment:n,user:i.getUser()||r.getUser(),...s&&{userAgent:s},...t}),d=r.getSession();return d&&d.status==="ok"&&At(d,{status:"exited"}),ca(),r.setSession(c),i.setSession(c),c}function ca(){const t=Yt(),e=ht(),r=e.getSession()||t.getSession();r&&(function(i,o){let n={};i.status==="ok"&&(n={status:"exited"}),At(i,n)})(r),la(),t.setSession(),e.setSession()}function la(){const t=Yt(),e=ht(),r=ue(),i=e.getSession()||t.getSession();i&&r&&r.captureSession(i)}function ji(t=!1){t?ca():la()}function Rl(t,e,r){return e||`${(function(i){return`${(function(o){const n=o.protocol?`${o.protocol}:`:"",s=o.port?`:${o.port}`:"";return`${n}//${o.host}${s}${o.path?`/${o.path}`:""}/api/`})(i)}${i.projectId}/envelope/`})(t)}?${(function(i,o){const n={sentry_version:"7"};return i.publicKey&&(n.sentry_key=i.publicKey),o&&(n.sentry_client=`${o.name}/${o.version}`),new URLSearchParams(n).toString()})(t,r)}`}const Oi=[];function Mi(t,e){for(const r of e)r&&r.afterAllSetup&&r.afterAllSetup(t)}function Ii(t,e,r){if(r[e.name])ne&&J.log(`Integration skipped because it was already installed: ${e.name}`);else{if(r[e.name]=e,Oi.indexOf(e.name)===-1&&typeof e.setupOnce=="function"&&(e.setupOnce(),Oi.push(e.name)),e.setup&&typeof e.setup=="function"&&e.setup(t),typeof e.preprocessEvent=="function"){const i=e.preprocessEvent.bind(e);t.on("preprocessEvent",((o,n)=>i(o,n,t)))}if(typeof e.processEvent=="function"){const i=e.processEvent.bind(e),o=Object.assign(((n,s)=>i(n,s,t)),{id:e.name});t.addEventProcessor(o)}ne&&J.log(`Integration installed: ${e.name}`)}}class je extends Error{constructor(e,r="warn"){super(e),this.message=e,this.logLevel=r}}const Pi="Not capturing exception because it's already been captured.";class Fl{constructor(e){if(this._options=e,this._integrations={},this._numProcessing=0,this._outcomes={},this._hooks={},this._eventProcessors=[],e.dsn?this._dsn=jl(e.dsn):ne&&J.warn("No DSN provided, client will not send events."),this._dsn){const i=Rl(this._dsn,e.tunnel,e._metadata?e._metadata.sdk:void 0);this._transport=e.transport({tunnel:this._options.tunnel,recordDroppedEvent:this.recordDroppedEvent.bind(this),...e.transportOptions,url:i})}const r=["enableTracing","tracesSampleRate","tracesSampler"].find((i=>i in e&&e[i]==null));r&&qt((()=>{console.warn(`[Sentry] Deprecation warning: \`${r}\` is set to undefined, which leads to tracing being enabled. In v9, a value of \`undefined\` will result in tracing being disabled.`)}))}captureException(e,r,i){const o=xe();if(hi(e))return ne&&J.log(Pi),o;const n={event_id:o,...r};return this._process(this.eventFromException(e,n).then((s=>this._captureEvent(s,n,i)))),n.event_id}captureMessage(e,r,i,o){const n={event_id:xe(),...i},s=In(e)?e:String(e),c=Zr(e)?this.eventFromMessage(s,r,n):this.eventFromException(e,n);return this._process(c.then((d=>this._captureEvent(d,n,o)))),n.event_id}captureEvent(e,r,i){const o=xe();if(r&&r.originalException&&hi(r.originalException))return ne&&J.log(Pi),o;const n={event_id:o,...r},s=(e.sdkProcessingMetadata||{}).capturedSpanScope;return this._process(this._captureEvent(e,n,s||i)),n.event_id}captureSession(e){typeof e.release!="string"?ne&&J.warn("Discarded session because of missing or non-string release"):(this.sendSession(e),At(e,{init:!1}))}getDsn(){return this._dsn}getOptions(){return this._options}getSdkMetadata(){return this._options._metadata}getTransport(){return this._transport}flush(e){const r=this._transport;return r?(this.emit("flush"),this._isClientDoneProcessing(e).then((i=>r.flush(e).then((o=>i&&o))))):ut(!0)}close(e){return this.flush(e).then((r=>(this.getOptions().enabled=!1,this.emit("close"),r)))}getEventProcessors(){return this._eventProcessors}addEventProcessor(e){this._eventProcessors.push(e)}init(){(this._isEnabled()||this._options.integrations.some((({name:e})=>e.startsWith("Spotlight"))))&&this._setupIntegrations()}getIntegrationByName(e){return this._integrations[e]}addIntegration(e){const r=this._integrations[e.name];Ii(this,e,this._integrations),r||Mi(this,[e])}sendEvent(e,r={}){this.emit("beforeSendEvent",e,r);let i=Dl(e,this._dsn,this._options._metadata,this._options.tunnel);for(const n of r.attachments||[])i=Ol(i,Il(n));const o=this.sendEnvelope(i);o&&o.then((n=>this.emit("afterSendEvent",e,n)),null)}sendSession(e){const r=(function(i,o,n,s){const c=oa(n);return Vt({sent_at:new Date().toISOString(),...c&&{sdk:c},...!!s&&o&&{dsn:yr(o)}},["aggregates"in i?[{type:"sessions"},i]:[{type:"session"},i.toJSON()]])})(e,this._dsn,this._options._metadata,this._options.tunnel);this.sendEnvelope(r)}recordDroppedEvent(e,r,i){if(this._options.sendClientReports){const o=typeof i=="number"?i:1,n=`${e}:${r}`;ne&&J.log(`Recording outcome: "${n}"${o>1?` (${o} times)`:""}`),this._outcomes[n]=(this._outcomes[n]||0)+o}}on(e,r){const i=this._hooks[e]=this._hooks[e]||[];return i.push(r),()=>{const o=i.indexOf(r);o>-1&&i.splice(o,1)}}emit(e,...r){const i=this._hooks[e];i&&i.forEach((o=>o(...r)))}sendEnvelope(e){return this.emit("beforeEnvelope",e),this._isEnabled()&&this._transport?this._transport.send(e).then(null,(r=>(ne&&J.error("Error while sending envelope:",r),r))):(ne&&J.error("Transport disabled"),ut({}))}_setupIntegrations(){const{integrations:e}=this._options;this._integrations=(function(r,i){const o={};return i.forEach((n=>{n&&Ii(r,n,o)})),o})(this,e),Mi(this,e)}_updateSessionFromEvent(e,r){let i=r.level==="fatal",o=!1;const n=r.exception&&r.exception.values;if(n){o=!0;for(const c of n){const d=c.mechanism;if(d&&d.handled===!1){i=!0;break}}}const s=e.status==="ok";(s&&e.errors===0||s&&i)&&(At(e,{...i&&{status:"crashed"},errors:e.errors||Number(o||i)}),this.captureSession(e))}_isClientDoneProcessing(e){return new Ee((r=>{let i=0;const o=setInterval((()=>{this._numProcessing==0?(clearInterval(o),r(!0)):(i+=1,e&&i>=e&&(clearInterval(o),r(!1)))}),1)}))}_isEnabled(){return this.getOptions().enabled!==!1&&this._transport!==void 0}_prepareEvent(e,r,i=ht(),o=Yt()){const n=this.getOptions(),s=Object.keys(this._integrations);return!r.integrations&&s.length>0&&(r.integrations=s),this.emit("preprocessEvent",e,r),e.type||o.setLastEventId(e.event_id||r.event_id),Nl(n,e,r,i,this,o).then((c=>{if(c===null)return c;c.contexts={trace:wl(i),...c.contexts};const d=(function(p,v){const E=v.getPropagationContext();return E.dsc||sa(E.traceId,p)})(this,i);return c.sdkProcessingMetadata={dynamicSamplingContext:d,...c.sdkProcessingMetadata},c}))}_captureEvent(e,r={},i){return this._processEvent(e,r,i).then((o=>o.event_id),(o=>{ne&&(o instanceof je&&o.logLevel==="log"?J.log(o.message):J.warn(o))}))}_processEvent(e,r,i){const o=this.getOptions(),{sampleRate:n}=o,s=Li(e),c=Di(e),d=e.type||"error",p=`before send for type \`${d}\``,v=n===void 0?void 0:(function(x){if(typeof x=="boolean")return Number(x);const h=typeof x=="string"?parseFloat(x):x;if(!(typeof h!="number"||isNaN(h)||h<0||h>1))return h;ne&&J.warn(`[Tracing] Given sample rate is invalid. Sample rate must be a boolean or a number between 0 and 1. Got ${JSON.stringify(x)} of type ${JSON.stringify(typeof x)}.`)})(n);if(c&&typeof v=="number"&&Math.random()>v)return this.recordDroppedEvent("sample_rate","error",e),vr(new je(`Discarding event because it's not included in the random sample (sampling rate = ${n})`,"log"));const E=d==="replay_event"?"replay":d,C=(e.sdkProcessingMetadata||{}).capturedSpanIsolationScope;return this._prepareEvent(e,r,i,C).then((x=>{if(x===null)throw this.recordDroppedEvent("event_processor",E,e),new je("An event processor returned `null`, will not send event.","log");if(r.data&&r.data.__sentry__===!0)return x;const h=(function(m,k,_,b){const{beforeSend:A,beforeSendTransaction:w,beforeSendSpan:S}=k;if(Di(_)&&A)return A(_,b);if(Li(_)){if(_.spans&&S){const T=[];for(const O of _.spans){const D=S(O);D?T.push(D):(xl(),m.recordDroppedEvent("before_send","span"))}_.spans=T}if(w){if(_.spans){const T=_.spans.length;_.sdkProcessingMetadata={..._.sdkProcessingMetadata,spanCountBeforeProcessing:T}}return w(_,b)}}return _})(this,o,x,r);return(function(m,k){const _=`${k} must return \`null\` or a valid event.`;if(Tr(m))return m.then((b=>{if(!bt(b)&&b!==null)throw new je(_);return b}),(b=>{throw new je(`${k} rejected with ${b}`)}));if(!bt(m)&&m!==null)throw new je(_);return m})(h,p)})).then((x=>{if(x===null){if(this.recordDroppedEvent("before_send",E,e),s){const k=1+(e.spans||[]).length;this.recordDroppedEvent("before_send","span",k)}throw new je(`${p} returned \`null\`, will not send event.`,"log")}const h=i&&i.getSession();if(!s&&h&&this._updateSessionFromEvent(h,x),s){const k=(x.sdkProcessingMetadata&&x.sdkProcessingMetadata.spanCountBeforeProcessing||0)-(x.spans?x.spans.length:0);k>0&&this.recordDroppedEvent("before_send","span",k)}const m=x.transaction_info;if(s&&m&&x.transaction!==e.transaction){const k="custom";x.transaction_info={...m,source:k}}return this.sendEvent(x,r),x})).then(null,(x=>{throw x instanceof je?x:(this.captureException(x,{data:{__sentry__:!0},originalException:x}),new je(`Event processing pipeline threw an error, original event will not be sent. Details have been sent as a new event.
Reason: ${x}`))}))}_process(e){this._numProcessing++,e.then((r=>(this._numProcessing--,r)),(r=>(this._numProcessing--,r)))}_clearOutcomes(){const e=this._outcomes;return this._outcomes={},Object.entries(e).map((([r,i])=>{const[o,n]=r.split(":");return{reason:o,category:n,quantity:i}}))}_flushOutcomes(){ne&&J.log("Flushing outcomes...");const e=this._clearOutcomes();if(e.length===0)return void(ne&&J.log("No outcomes to send"));if(!this._dsn)return void(ne&&J.log("No dsn provided, will not send outcomes"));ne&&J.log("Sending outcomes:",e);const r=(i=e,Vt((o=this._options.tunnel&&yr(this._dsn))?{dsn:o}:{},[[{type:"client_report"},{timestamp:n||Jt(),discarded_events:i}]]));var i,o,n;this.sendEnvelope(r)}}function Di(t){return t.type===void 0}function Li(t){return t.type==="transaction"}function Bl(t){const e=[];function r(i){return e.splice(e.indexOf(i),1)[0]||Promise.resolve(void 0)}return{$:e,add:function(i){if(!(t===void 0||e.length<t))return vr(new je("Not adding Promise because buffer limit was reached."));const o=i();return e.indexOf(o)===-1&&e.push(o),o.then((()=>r(o))).then(null,(()=>r(o).then(null,(()=>{})))),o},drain:function(i){return new Ee(((o,n)=>{let s=e.length;if(!s)return o(!0);const c=setTimeout((()=>{i&&i>0&&o(!1)}),i);e.forEach((d=>{ut(d).then((()=>{--s||(clearTimeout(c),o(!0))}),n)}))}))}}}function Ul(t,{statusCode:e,headers:r},i=Date.now()){const o={...t},n=r&&r["x-sentry-rate-limits"],s=r&&r["retry-after"];if(n)for(const c of n.trim().split(",")){const[d,p,,,v]=c.split(":",5),E=parseInt(d,10),C=1e3*(isNaN(E)?60:E);if(p)for(const x of p.split(";"))x==="metric_bucket"&&v&&!v.split(";").includes("custom")||(o[x]=i+C);else o.all=i+C}else s?o.all=i+(function(c,d=Date.now()){const p=parseInt(`${c}`,10);if(!isNaN(p))return 1e3*p;const v=Date.parse(`${c}`);return isNaN(v)?6e4:v-d})(s,i):e===429&&(o.all=i+6e4);return o}function Vl(t,e,r=Bl(t.bufferSize||64)){let i={};return{send:function(o){const n=[];if(_i(o,((d,p)=>{const v=Ei(p);if((function(E,C,x=Date.now()){return(function(h,m){return h[m]||h.all||0})(E,C)>x})(i,v)){const E=Ni(d,p);t.recordDroppedEvent("ratelimit_backoff",v,E)}else n.push(d)})),n.length===0)return ut({});const s=Vt(o[0],n),c=d=>{_i(s,((p,v)=>{const E=Ni(p,v);t.recordDroppedEvent(d,Ei(v),E)}))};return r.add((()=>e({body:Ml(s)}).then((d=>(d.statusCode!==void 0&&(d.statusCode<200||d.statusCode>=300)&&ne&&J.warn(`Sentry responded with status code ${d.statusCode} to sent event.`),i=Ul(i,d),d)),(d=>{throw c("network_error"),d})))).then((d=>d),(d=>{if(d instanceof je)return ne&&J.error("Skipped sending event because buffer is full."),c("queue_overflow"),ut({});throw d}))},flush:o=>r.drain(o)}}function Ni(t,e){if(e==="event"||e==="transaction")return Array.isArray(t)?t[1]:void 0}const ql=100;function et(t,e){const r=ue(),i=Yt();if(!r)return;const{beforeBreadcrumb:o=null,maxBreadcrumbs:n=ql}=r.getOptions();if(n<=0)return;const s={timestamp:Jt(),...t},c=o?qt((()=>o(s,e))):s;c!==null&&(r.emit&&r.emit("beforeAddBreadcrumb",c,e),i.addBreadcrumb(c,n))}let Ri;const Fi=new WeakMap,Jl=()=>({name:"FunctionToString",setupOnce(){Ri=Function.prototype.toString;try{Function.prototype.toString=function(...t){const e=Dn(this),r=Fi.has(ue())&&e!==void 0?e:this;return Ri.apply(r,t)}}catch{}},setup(t){Fi.set(t,!0)}}),Yl=[/^Script error\.?$/,/^Javascript error: Script error\.? on line 0$/,/^ResizeObserver loop completed with undelivered notifications.$/,/^Cannot redefine property: googletag$/,"undefined is not an object (evaluating 'a.L')",`can't redefine non-configurable property "solana"`,"vv().getRestrictions is not a function. (In 'vv().getRestrictions(1,a)', 'vv().getRestrictions' is undefined)","Can't find variable: _AutofillCallbackHandler",/^Non-Error promise rejection captured with value: Object Not Found Matching Id:\d+, MethodName:simulateEvent, ParamCount:\d+$/],zl=(t={})=>({name:"InboundFilters",processEvent(e,r,i){const o=i.getOptions(),n=(function(s={},c={}){return{allowUrls:[...s.allowUrls||[],...c.allowUrls||[]],denyUrls:[...s.denyUrls||[],...c.denyUrls||[]],ignoreErrors:[...s.ignoreErrors||[],...c.ignoreErrors||[],...s.disableErrorDefaults?[]:Yl],ignoreTransactions:[...s.ignoreTransactions||[],...c.ignoreTransactions||[]],ignoreInternal:s.ignoreInternal===void 0||s.ignoreInternal}})(t,o);return(function(s,c){return c.ignoreInternal&&(function(d){try{return d.exception.values[0].type==="SentryError"}catch{}return!1})(s)?(ne&&J.warn(`Event dropped due to being internal Sentry Error.
Event: ${He(s)}`),!0):(function(d,p){return d.type||!p||!p.length?!1:(function(v){const E=[];v.message&&E.push(v.message);let C;try{C=v.exception.values[v.exception.values.length-1]}catch{}return C&&C.value&&(E.push(C.value),C.type&&E.push(`${C.type}: ${C.value}`)),E})(d).some((v=>Kt(v,p)))})(s,c.ignoreErrors)?(ne&&J.warn(`Event dropped due to being matched by \`ignoreErrors\` option.
Event: ${He(s)}`),!0):(function(d){return d.type||!d.exception||!d.exception.values||d.exception.values.length===0?!1:!d.message&&!d.exception.values.some((p=>p.stacktrace||p.type&&p.type!=="Error"||p.value))})(s)?(ne&&J.warn(`Event dropped due to not having an error message, error type or stacktrace.
Event: ${He(s)}`),!0):(function(d,p){if(d.type!=="transaction"||!p||!p.length)return!1;const v=d.transaction;return!!v&&Kt(v,p)})(s,c.ignoreTransactions)?(ne&&J.warn(`Event dropped due to being matched by \`ignoreTransactions\` option.
Event: ${He(s)}`),!0):(function(d,p){if(!p||!p.length)return!1;const v=$t(d);return!!v&&Kt(v,p)})(s,c.denyUrls)?(ne&&J.warn(`Event dropped due to being matched by \`denyUrls\` option.
Event: ${He(s)}.
Url: ${$t(s)}`),!0):(function(d,p){if(!p||!p.length)return!0;const v=$t(d);return!v||Kt(v,p)})(s,c.allowUrls)?!1:(ne&&J.warn(`Event dropped due to not being matched by \`allowUrls\` option.
Event: ${He(s)}.
Url: ${$t(s)}`),!0)})(e,n)?null:e}});function $t(t){try{let e;try{e=t.exception.values[0].stacktrace.frames}catch{}return e?(function(r=[]){for(let i=r.length-1;i>=0;i--){const o=r[i];if(o&&o.filename!=="<anonymous>"&&o.filename!=="[native code]")return o.filename||null}return null})(e):null}catch{return ne&&J.error(`Cannot extract url for event ${He(t)}`),null}}function Gl(t,e,r=250,i,o,n,s){if(!(n.exception&&n.exception.values&&s&&ct(s.originalException,Error)))return;const c=n.exception.values.length>0?n.exception.values[n.exception.values.length-1]:void 0;var d,p;c&&(n.exception.values=(d=cn(t,e,o,s.originalException,i,n.exception.values,c,0),p=r,d.map((v=>(v.value&&(v.value=vt(v.value,p)),v)))))}function cn(t,e,r,i,o,n,s,c){if(n.length>=r+1)return n;let d=[...n];if(ct(i[o],Error)){Bi(s,c);const p=t(e,i[o]),v=d.length;Ui(p,o,v,c),d=cn(t,e,r,i[o],o,[p,...d],p,v)}return Array.isArray(i.errors)&&i.errors.forEach(((p,v)=>{if(ct(p,Error)){Bi(s,c);const E=t(e,p),C=d.length;Ui(E,`errors[${v}]`,C,c),d=cn(t,e,r,p,o,[E,...d],E,C)}})),d}function Bi(t,e){t.mechanism=t.mechanism||{type:"generic",handled:!0},t.mechanism={...t.mechanism,...t.type==="AggregateError"&&{is_exception_group:!0},exception_id:e}}function Ui(t,e,r,i){t.mechanism=t.mechanism||{type:"generic",handled:!0},t.mechanism={...t.mechanism,type:"chained",source:e,exception_id:r,parent_id:i}}function Lr(t){if(!t)return{};const e=t.match(/^(([^:/?#]+):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?$/);if(!e)return{};const r=e[6]||"",i=e[8]||"";return{host:e[4],path:e[5],protocol:e[2],search:r,hash:i,relative:e[5]+r+i}}function Wl(){"console"in ee&&$r.forEach((function(t){t in ee.console&&ye(ee.console,t,(function(e){return gr[t]=e,function(...r){Oe("console",{args:r,level:t});const i=gr[t];i&&i.apply(ee.console,r)}}))}))}function Hl(t){return t==="warn"?"warning":["fatal","error","warning","log","info","debug"].includes(t)?t:"log"}const Kl=()=>{let t;return{name:"Dedupe",processEvent(e){if(e.type)return e;try{if((function(r,i){return i?!!((function(o,n){const s=o.message,c=n.message;return!(!s&&!c||s&&!c||!s&&c||s!==c||!qi(o,n)||!Vi(o,n))})(r,i)||(function(o,n){const s=Ji(n),c=Ji(o);return!(!s||!c||s.type!==c.type||s.value!==c.value||!qi(o,n)||!Vi(o,n))})(r,i)):!1})(e,t))return ne&&J.warn("Event dropped due to being a duplicate of previously captured event."),null}catch{}return t=e}}};function Vi(t,e){let r=oi(t),i=oi(e);if(!r&&!i)return!0;if(r&&!i||!r&&i||i.length!==r.length)return!1;for(let o=0;o<i.length;o++){const n=i[o],s=r[o];if(n.filename!==s.filename||n.lineno!==s.lineno||n.colno!==s.colno||n.function!==s.function)return!1}return!0}function qi(t,e){let r=t.fingerprint,i=e.fingerprint;if(!r&&!i)return!0;if(r&&!i||!r&&i)return!1;try{return r.join("")===i.join("")}catch{return!1}}function Ji(t){return t.exception&&t.exception.values&&t.exception.values[0]}function Yi(t){return t===void 0?void 0:t>=400&&t<500?"warning":t>=500?"error":void 0}const Nr=ee;function ln(t){return t&&/^function\s+\w+\(\)\s+\{\s+\[native code\]\s+\}$/.test(t.toString())}function Ql(){if(typeof EdgeRuntime=="string")return!0;if(!(function(){if(!("fetch"in Nr))return!1;try{return new Headers,new Request("http://www.example.com"),new Response,!0}catch{return!1}})())return!1;if(ln(Nr.fetch))return!0;let t=!1;const e=Nr.document;if(e&&typeof e.createElement=="function")try{const r=e.createElement("iframe");r.hidden=!0,e.head.appendChild(r),r.contentWindow&&r.contentWindow.fetch&&(t=ln(r.contentWindow.fetch)),e.head.removeChild(r)}catch(r){pt&&J.warn("Could not create sandbox iframe for pure fetch check, bailing to window.fetch: ",r)}return t}function Xl(t,e){const r="fetch";at(r,t),ot(r,(()=>(function(i,o=!1){o&&!Ql()||ye(ee,"fetch",(function(n){return function(...s){const c=new Error,{method:d,url:p}=(function(E){if(E.length===0)return{method:"GET",url:""};if(E.length===2){const[x,h]=E;return{url:zi(x),method:un(h,"method")?String(h.method).toUpperCase():"GET"}}const C=E[0];return{url:zi(C),method:un(C,"method")?String(C.method).toUpperCase():"GET"}})(s),v={args:s,fetchData:{method:d,url:p},startTimestamp:1e3*Ye(),virtualError:c};return i||Oe("fetch",{...v}),n.apply(ee,s).then((async E=>(i?i(E):Oe("fetch",{...v,endTimestamp:1e3*Ye(),response:E}),E)),(E=>{throw Oe("fetch",{...v,endTimestamp:1e3*Ye(),error:E}),Mn(E)&&E.stack===void 0&&(E.stack=c.stack,lt(E,"framesToPop",1)),E}))}}))})(void 0,e)))}function un(t,e){return!!t&&typeof t=="object"&&!!t[e]}function zi(t){return typeof t=="string"?t:t?un(t,"url")?t.url:t.toString?t.toString():"":""}const Zt=ee,ce=ee;let dn=0;function Gi(){return dn>0}function _t(t,e={}){if(!(function(i){return typeof i=="function"})(t))return t;try{const i=t.__sentry_wrapped__;if(i)return typeof i=="function"?i:t;if(Dn(t))return t}catch{return t}const r=function(...i){try{const o=i.map((n=>_t(n,e)));return t.apply(this,o)}catch(o){throw dn++,setTimeout((()=>{dn--})),(function(...n){const s=Nn(xr());if(n.length===2){const[c,d]=n;return c?s.withSetScope(c,d):s.withScope(d)}s.withScope(n[0])})((n=>{var s;n.addEventProcessor((c=>(e.mechanism&&(tn(c,void 0),wt(c,e.mechanism)),c.extra={...c.extra,arguments:i},c))),s=o,ht().captureException(s,void 0)})),o}};try{for(const i in t)Object.prototype.hasOwnProperty.call(t,i)&&(r[i]=t[i])}catch{}ta(r,t),lt(t,"__sentry_wrapped__",r);try{Object.getOwnPropertyDescriptor(r,"name").configurable&&Object.defineProperty(r,"name",{get:()=>t.name})}catch{}return r}const Or=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__;function Bn(t,e){const r=Un(t,e),i={type:eu(e),value:tu(e)};return r.length&&(i.stacktrace={frames:r}),i.type===void 0&&i.value===""&&(i.value="Unrecoverable error caught"),i}function $l(t,e,r,i){const o=ue(),n=o&&o.getOptions().normalizeDepth,s=(function(p){for(const v in p)if(Object.prototype.hasOwnProperty.call(p,v)){const E=p[v];if(E instanceof Error)return E}})(e),c={__serialized__:aa(e,n)};if(s)return{exception:{values:[Bn(t,s)]},extra:c};const d={exception:{values:[{type:Cr(e)?e.constructor.name:i?"UnhandledRejection":"Error",value:ru(e,{isUnhandledRejection:i})}]},extra:c};if(r){const p=Un(t,r);p.length&&(d.exception.values[0].stacktrace={frames:p})}return d}function Rr(t,e){return{exception:{values:[Bn(t,e)]}}}function Un(t,e){const r=e.stacktrace||e.stack||"",i=(function(n){return n&&Zl.test(n.message)?1:0})(e),o=(function(n){return typeof n.framesToPop=="number"?n.framesToPop:0})(e);try{return t(r,i,o)}catch{}return[]}const Zl=/Minified React error #\d+;/i;function ua(t){return typeof WebAssembly<"u"&&WebAssembly.Exception!==void 0&&t instanceof WebAssembly.Exception}function eu(t){const e=t&&t.name;return!e&&ua(t)?t.message&&Array.isArray(t.message)&&t.message.length==2?t.message[0]:"WebAssembly.Exception":e}function tu(t){const e=t&&t.message;return e?e.error&&typeof e.error.message=="string"?e.error.message:ua(t)&&Array.isArray(t.message)&&t.message.length==2?t.message[1]:e:"No error message"}function pn(t,e,r,i,o){let n;if($s(e)&&e.error)return Rr(t,e.error);if(li(e)||kt(e,"DOMException")){const s=e;if("stack"in e)n=Rr(t,e);else{const c=s.name||(li(s)?"DOMError":"DOMException"),d=s.message?`${c}: ${s.message}`:c;n=hn(t,d,r,i),tn(n,d)}return"code"in s&&(n.tags={...n.tags,"DOMException.code":`${s.code}`}),n}return Mn(e)?Rr(t,e):bt(e)||Cr(e)?(n=$l(t,e,r,o),wt(n,{synthetic:!0}),n):(n=hn(t,e,r,i),tn(n,`${e}`),wt(n,{synthetic:!0}),n)}function hn(t,e,r,i){const o={};if(i&&r){const n=Un(t,r);n.length&&(o.exception={values:[{value:e,stacktrace:{frames:n}}]}),wt(o,{synthetic:!0})}if(In(e)){const{__sentry_template_string__:n,__sentry_template_values__:s}=e;return o.logentry={message:n,params:s},o}return o.message=e,o}function ru(t,{isUnhandledRejection:e}){const r=(function(o,n=40){const s=Object.keys(ra(o));s.sort();const c=s[0];if(!c)return"[object has no keys]";if(c.length>=n)return vt(c,n);for(let d=s.length;d>0;d--){const p=s.slice(0,d).join(", ");if(!(p.length>n))return d===s.length?p:vt(p,n)}return""})(t),i=e?"promise rejection":"exception";return $s(t)?`Event \`ErrorEvent\` captured as ${i} with message \`${t.message}\``:Cr(t)?`Event \`${(function(o){try{const n=Object.getPrototypeOf(o);return n?n.constructor.name:void 0}catch{}})(t)}\` (type=${t.type}) captured as ${i}`:`Object captured as ${i} with keys: ${r}`}class nu extends Fl{constructor(e){const r={parentSpanIsAlwaysRootSpan:!0,...e};(function(i,o,n=[o],s="npm"){const c=i._metadata||{};c.sdk||(c.sdk={name:`sentry.javascript.${o}`,packages:n.map((d=>({name:`${s}:@sentry/${d}`,version:st}))),version:st}),i._metadata=c})(r,"browser",["browser"],ce.SENTRY_SDK_SOURCE||"npm"),super(r),r.sendClientReports&&ce.document&&ce.document.addEventListener("visibilitychange",(()=>{ce.document.visibilityState==="hidden"&&this._flushOutcomes()}))}eventFromException(e,r){return(function(i,o,n,s){const c=pn(i,o,n&&n.syntheticException||void 0,s);return wt(c),c.level="error",n&&n.event_id&&(c.event_id=n.event_id),ut(c)})(this._options.stackParser,e,r,this._options.attachStacktrace)}eventFromMessage(e,r="info",i){return(function(o,n,s="info",c,d){const p=hn(o,n,c&&c.syntheticException||void 0,d);return p.level=s,c&&c.event_id&&(p.event_id=c.event_id),ut(p)})(this._options.stackParser,e,r,i,this._options.attachStacktrace)}captureUserFeedback(e){if(!this._isEnabled())return void(Or&&J.warn("SDK not enabled, will not capture user feedback."));const r=(function(i,{metadata:o,tunnel:n,dsn:s}){const c={event_id:i.event_id,sent_at:new Date().toISOString(),...o&&o.sdk&&{sdk:{name:o.sdk.name,version:o.sdk.version}},...!!n&&!!s&&{dsn:yr(s)}};return Vt(c,[(function(p){return[{type:"user_report"},p]})(i)])})(e,{metadata:this.getSdkMetadata(),dsn:this.getDsn(),tunnel:this.getOptions().tunnel});this.sendEnvelope(r)}_prepareEvent(e,r,i){return e.platform=e.platform||"javascript",super._prepareEvent(e,r,i)}}const iu=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__,me=ee;let Wi,Fr,Br,er;function su(){if(!me.document)return;const t=Oe.bind(null,"dom"),e=Hi(t,!0);me.document.addEventListener("click",e,!1),me.document.addEventListener("keypress",e,!1),["EventTarget","Node"].forEach((r=>{const i=me[r],o=i&&i.prototype;o&&o.hasOwnProperty&&o.hasOwnProperty("addEventListener")&&(ye(o,"addEventListener",(function(n){return function(s,c,d){if(s==="click"||s=="keypress")try{const p=this.__sentry_instrumentation_handlers__=this.__sentry_instrumentation_handlers__||{},v=p[s]=p[s]||{refCount:0};if(!v.handler){const E=Hi(t);v.handler=E,n.call(this,s,E,d)}v.refCount++}catch{}return n.call(this,s,c,d)}})),ye(o,"removeEventListener",(function(n){return function(s,c,d){if(s==="click"||s=="keypress")try{const p=this.__sentry_instrumentation_handlers__||{},v=p[s];v&&(v.refCount--,v.refCount<=0&&(n.call(this,s,v.handler,d),v.handler=void 0,delete p[s]),Object.keys(p).length===0&&delete this.__sentry_instrumentation_handlers__)}catch{}return n.call(this,s,c,d)}})))}))}function Hi(t,e=!1){return r=>{if(!r||r._sentryCaptured)return;const i=(function(n){try{return n.target}catch{return null}})(r);if((function(n,s){return n==="keypress"&&(!s||!s.tagName||s.tagName!=="INPUT"&&s.tagName!=="TEXTAREA"&&!s.isContentEditable)})(r.type,i))return;lt(r,"_sentryCaptured",!0),i&&!i._sentryId&&lt(i,"_sentryId",xe());const o=r.type==="keypress"?"input":r.type;(function(n){if(n.type!==Fr)return!1;try{if(!n.target||n.target._sentryId!==Br)return!1}catch{}return!0})(r)||(t({event:r,name:o,global:e}),Fr=r.type,Br=i?i._sentryId:void 0),clearTimeout(Wi),Wi=me.setTimeout((()=>{Br=void 0,Fr=void 0}),1e3)}}function da(t){const e="history";at(e,t),ot(e,au)}function au(){if(!(function(){const r=Zt.chrome,i=r&&r.app&&r.app.runtime,o="history"in Zt&&!!Zt.history.pushState&&!!Zt.history.replaceState;return!i&&o})())return;const t=me.onpopstate;function e(r){return function(...i){const o=i.length>2?i[2]:void 0;if(o){const n=er,s=String(o);er=s,Oe("history",{from:n,to:s})}return r.apply(this,i)}}me.onpopstate=function(...r){const i=me.location.href,o=er;if(er=i,Oe("history",{from:o,to:i}),t)try{return t.apply(this,r)}catch{}},ye(me.history,"pushState",e),ye(me.history,"replaceState",e)}const cr={};function Ki(t){cr[t]=void 0}const Dt="__sentry_xhr_v3__";function ou(){if(!me.XMLHttpRequest)return;const t=XMLHttpRequest.prototype;t.open=new Proxy(t.open,{apply(e,r,i){const o=new Error,n=1e3*Ye(),s=qe(i[0])?i[0].toUpperCase():void 0,c=(function(p){if(qe(p))return p;try{return p.toString()}catch{}})(i[1]);if(!s||!c)return e.apply(r,i);r[Dt]={method:s,url:c,request_headers:{}},s==="POST"&&c.match(/sentry_key/)&&(r.__sentry_own_request__=!0);const d=()=>{const p=r[Dt];if(p&&r.readyState===4){try{p.status_code=r.status}catch{}Oe("xhr",{endTimestamp:1e3*Ye(),startTimestamp:n,xhr:r,virtualError:o})}};return"onreadystatechange"in r&&typeof r.onreadystatechange=="function"?r.onreadystatechange=new Proxy(r.onreadystatechange,{apply:(p,v,E)=>(d(),p.apply(v,E))}):r.addEventListener("readystatechange",d),r.setRequestHeader=new Proxy(r.setRequestHeader,{apply(p,v,E){const[C,x]=E,h=v[Dt];return h&&qe(C)&&qe(x)&&(h.request_headers[C.toLowerCase()]=x),p.apply(v,E)}}),e.apply(r,i)}}),t.send=new Proxy(t.send,{apply(e,r,i){const o=r[Dt];return o?(i[0]!==void 0&&(o.body=i[0]),Oe("xhr",{startTimestamp:1e3*Ye(),xhr:r}),e.apply(r,i)):e.apply(r,i)}})}function cu(t,e=(function(r){const i=cr[r];if(i)return i;let o=me[r];if(ln(o))return cr[r]=o.bind(me);const n=me.document;if(n&&typeof n.createElement=="function")try{const s=n.createElement("iframe");s.hidden=!0,n.head.appendChild(s);const c=s.contentWindow;c&&c[r]&&(o=c[r]),n.head.removeChild(s)}catch(s){iu&&J.warn(`Could not create sandbox iframe for ${r} check, bailing to window.${r}: `,s)}return o&&(cr[r]=o.bind(me))})("fetch")){let r=0,i=0;return Vl(t,(function(o){const n=o.body.length;r+=n,i++;const s={body:o.body,method:"POST",referrerPolicy:"origin",headers:t.headers,keepalive:r<=6e4&&i<15,...t.fetchOptions};if(!e)return Ki("fetch"),vr("No fetch implementation available");try{return e(t.url,s).then((c=>(r-=n,i--,{statusCode:c.status,headers:{"x-sentry-rate-limits":c.headers.get("X-Sentry-Rate-Limits"),"retry-after":c.headers.get("Retry-After")}})))}catch(c){return Ki("fetch"),r-=n,i--,vr(c)}}))}function Ur(t,e,r,i){const o={filename:t,function:e==="<anonymous>"?it:e,in_app:!0};return r!==void 0&&(o.lineno=r),i!==void 0&&(o.colno=i),o}const lu=/^\s*at (\S+?)(?::(\d+))(?::(\d+))\s*$/i,uu=/^\s*at (?:(.+?\)(?: \[.+\])?|.*?) ?\((?:address at )?)?(?:async )?((?:<anonymous>|[-a-z]+:|.*bundle|\/)?.*?)(?::(\d+))?(?::(\d+))?\)?\s*$/i,du=/\((\S*)(?::(\d+))(?::(\d+))\)/,pu=/^\s*(.*?)(?:\((.*?)\))?(?:^|@)?((?:[-a-z]+)?:\/.*?|\[native code\]|[^@]*(?:bundle|\d+\.js)|\/[\w\-. /=]+)(?::(\d+))?(?::(\d+))?\s*$/i,hu=/(\S+) line (\d+)(?: > eval line \d+)* > eval/i,fu=(function(...t){const e=t.sort(((r,i)=>r[0]-i[0])).map((r=>r[1]));return(r,i=0,o=0)=>{const n=[],s=r.split(`
`);for(let c=i;c<s.length;c++){const d=s[c];if(d.length>1024)continue;const p=ii.test(d)?d.replace(ii,"$1"):d;if(!p.match(/\S*Error: /)){for(const v of e){const E=v(p);if(E){n.push(E);break}}if(n.length>=50+o)break}}return(function(c){if(!c.length)return[];const d=Array.from(c);return/sentryWrapped/.test(Ht(d).function||"")&&d.pop(),d.reverse(),si.test(Ht(d).function||"")&&(d.pop(),si.test(Ht(d).function||"")&&d.pop()),d.slice(0,50).map((p=>({...p,filename:p.filename||Ht(d).filename,function:p.function||it})))})(n.slice(o))}})([30,t=>{const e=lu.exec(t);if(e){const[,i,o,n]=e;return Ur(i,it,+o,+n)}const r=uu.exec(t);if(r){if(r[2]&&r[2].indexOf("eval")===0){const n=du.exec(r[2]);n&&(r[2]=n[1],r[3]=n[2],r[4]=n[3])}const[i,o]=Qi(r[1]||it,r[2]);return Ur(o,i,r[3]?+r[3]:void 0,r[4]?+r[4]:void 0)}}],[50,t=>{const e=pu.exec(t);if(e){if(e[3]&&e[3].indexOf(" > eval")>-1){const o=hu.exec(e[3]);o&&(e[1]=e[1]||"eval",e[3]=o[1],e[4]=o[2],e[5]="")}let r=e[3],i=e[1]||it;return[i,r]=Qi(i,r),Ur(r,i,e[4]?+e[4]:void 0,e[5]?+e[5]:void 0)}}]),Qi=(t,e)=>{const r=t.indexOf("safari-extension")!==-1,i=t.indexOf("safari-web-extension")!==-1;return r||i?[t.indexOf("@")!==-1?t.split("@")[0]:it,r?`safari-extension:${e}`:`safari-web-extension:${e}`]:[t,e]},Xi=1024,mu=(t={})=>{const e={console:!0,dom:!0,fetch:!0,history:!0,sentry:!0,xhr:!0,...t};return{name:"Breadcrumbs",setup(r){var i;e.console&&(function(o){const n="console";at(n,o),ot(n,Wl)})((function(o){return function(n){if(ue()!==o)return;const s={category:"console",data:{arguments:n.args,logger:"console"},level:Hl(n.level),message:ui(n.args," ")};if(n.level==="assert"){if(n.args[0]!==!1)return;s.message=`Assertion failed: ${ui(n.args.slice(1)," ")||"console.assert"}`,s.data.arguments=n.args.slice(1)}et(s,{input:n.args,level:n.level})}})(r)),e.dom&&(i=(function(o,n){return function(s){if(ue()!==o)return;let c,d,p=typeof n=="object"?n.serializeAttribute:void 0,v=typeof n=="object"&&typeof n.maxStringLength=="number"?n.maxStringLength:void 0;v&&v>Xi&&(Or&&J.warn(`\`dom.maxStringLength\` cannot exceed 1024, but a value of ${v} was configured. Sentry will use 1024 instead.`),v=Xi),typeof p=="string"&&(p=[p]);try{const C=s.event,x=(function(h){return!!h&&!!h.target})(C)?C.target:C;c=ea(x,{keyAttrs:p,maxStringLength:v}),d=(function(h){if(!Pn.HTMLElement)return null;let m=h;for(let k=0;k<5;k++){if(!m)return null;if(m instanceof HTMLElement){if(m.dataset.sentryComponent)return m.dataset.sentryComponent;if(m.dataset.sentryElement)return m.dataset.sentryElement}m=m.parentNode}return null})(x)}catch{c="<unknown>"}if(c.length===0)return;const E={category:`ui.${s.name}`,message:c};d&&(E.data={"ui.component_name":d}),et(E,{event:s.event,name:s.name,global:s.global})}})(r,e.dom),at("dom",i),ot("dom",su)),e.xhr&&(function(o){at("xhr",o),ot("xhr",ou)})((function(o){return function(n){if(ue()!==o)return;const{startTimestamp:s,endTimestamp:c}=n,d=n.xhr[Dt];if(!s||!c||!d)return;const{method:p,url:v,status_code:E,body:C}=d,x={method:p,url:v,status_code:E},h={xhr:n.xhr,input:C,startTimestamp:s,endTimestamp:c};et({category:"xhr",data:x,type:"http",level:Yi(E)},h)}})(r)),e.fetch&&Xl((function(o){return function(n){if(ue()!==o)return;const{startTimestamp:s,endTimestamp:c}=n;if(c&&(!n.fetchData.url.match(/sentry_key/)||n.fetchData.method!=="POST"))if(n.error)et({category:"fetch",data:n.fetchData,level:"error",type:"http"},{data:n.error,input:n.args,startTimestamp:s,endTimestamp:c});else{const d=n.response,p={...n.fetchData,status_code:d&&d.status},v={input:n.args,response:d,startTimestamp:s,endTimestamp:c};et({category:"fetch",data:p,type:"http",level:Yi(p.status_code)},v)}}})(r)),e.history&&da((function(o){return function(n){if(ue()!==o)return;let s=n.from,c=n.to;const d=Lr(ce.location.href);let p=s?Lr(s):void 0;const v=Lr(c);p&&p.path||(p=d),d.protocol===v.protocol&&d.host===v.host&&(c=v.relative),d.protocol===p.protocol&&d.host===p.host&&(s=p.relative),et({category:"navigation",data:{from:s,to:c}})}})(r)),e.sentry&&r.on("beforeSendEvent",(function(o){return function(n){ue()===o&&et({category:"sentry."+(n.type==="transaction"?"transaction":"event"),event_id:n.event_id,level:n.level,message:He(n)},{event:n})}})(r))}}},gu=["EventTarget","Window","Node","ApplicationCache","AudioTrackList","BroadcastChannel","ChannelMergerNode","CryptoOperation","EventSource","FileReader","HTMLUnknownElement","IDBDatabase","IDBRequest","IDBTransaction","KeyOperation","MediaController","MessagePort","ModalWindow","Notification","SVGElementInstance","Screen","SharedWorker","TextTrack","TextTrackCue","TextTrackList","WebSocket","WebSocketWorker","Worker","XMLHttpRequest","XMLHttpRequestEventTarget","XMLHttpRequestUpload"],vu=(t={})=>{const e={XMLHttpRequest:!0,eventTarget:!0,requestAnimationFrame:!0,setInterval:!0,setTimeout:!0,...t};return{name:"BrowserApiErrors",setupOnce(){e.setTimeout&&ye(ce,"setTimeout",$i),e.setInterval&&ye(ce,"setInterval",$i),e.requestAnimationFrame&&ye(ce,"requestAnimationFrame",yu),e.XMLHttpRequest&&"XMLHttpRequest"in ce&&ye(XMLHttpRequest.prototype,"send",bu);const r=e.eventTarget;r&&(Array.isArray(r)?r:gu).forEach(wu)}}};function $i(t){return function(...e){const r=e[0];return e[0]=_t(r,{mechanism:{data:{function:Qe(t)},handled:!1,type:"instrument"}}),t.apply(this,e)}}function yu(t){return function(e){return t.apply(this,[_t(e,{mechanism:{data:{function:"requestAnimationFrame",handler:Qe(t)},handled:!1,type:"instrument"}})])}}function bu(t){return function(...e){const r=this;return["onload","onerror","onprogress","onreadystatechange"].forEach((i=>{i in r&&typeof r[i]=="function"&&ye(r,i,(function(o){const n={mechanism:{data:{function:i,handler:Qe(o)},handled:!1,type:"instrument"}},s=Dn(o);return s&&(n.mechanism.data.handler=Qe(s)),_t(o,n)}))})),t.apply(this,e)}}function wu(t){const e=ce[t],r=e&&e.prototype;r&&r.hasOwnProperty&&r.hasOwnProperty("addEventListener")&&(ye(r,"addEventListener",(function(i){return function(o,n,s){try{typeof n.handleEvent=="function"&&(n.handleEvent=_t(n.handleEvent,{mechanism:{data:{function:"handleEvent",handler:Qe(n),target:t},handled:!1,type:"instrument"}}))}catch{}return i.apply(this,[o,_t(n,{mechanism:{data:{function:"addEventListener",handler:Qe(n),target:t},handled:!1,type:"instrument"}}),s])}})),ye(r,"removeEventListener",(function(i){return function(o,n,s){try{const c=n.__sentry_wrapped__;c&&i.call(this,o,c,s)}catch{}return i.call(this,o,n,s)}})))}const Au=()=>({name:"BrowserSession",setupOnce(){ce.document!==void 0?(Ti({ignoreDuration:!0}),ji(),da((({from:t,to:e})=>{t!==void 0&&t!==e&&(Ti({ignoreDuration:!0}),ji())}))):Or&&J.warn("Using the `browserSessionIntegration` in non-browser environments is not supported.")}}),Su=(t={})=>{const e={onerror:!0,onunhandledrejection:!0,...t};return{name:"GlobalHandlers",setupOnce(){Error.stackTraceLimit=50},setup(r){e.onerror&&((function(i){(function(o){const n="error";at(n,o),ot(n,pl)})((o=>{const{stackParser:n,attachStacktrace:s}=es();if(ue()!==i||Gi())return;const{msg:c,url:d,line:p,column:v,error:E}=o,C=(function(x,h,m,k){const _=x.exception=x.exception||{},b=_.values=_.values||[],A=b[0]=b[0]||{},w=A.stacktrace=A.stacktrace||{},S=w.frames=w.frames||[],T=k,O=m,D=qe(h)&&h.length>0?h:(function(){try{return Pn.document.location.href}catch{return""}})();return S.length===0&&S.push({colno:T,filename:D,function:it,in_app:!0,lineno:O}),x})(pn(n,E||c,void 0,s,!1),d,p,v);C.level="error",Ci(C,{originalException:E,mechanism:{handled:!1,type:"onerror"}})}))})(r),Zi("onerror")),e.onunhandledrejection&&((function(i){(function(o){const n="unhandledrejection";at(n,o),ot(n,hl)})((o=>{const{stackParser:n,attachStacktrace:s}=es();if(ue()!==i||Gi())return;const c=(function(p){if(Zr(p))return p;try{if("reason"in p)return p.reason;if("detail"in p&&"reason"in p.detail)return p.detail.reason}catch{}return p})(o),d=Zr(c)?{exception:{values:[{type:"UnhandledRejection",value:`Non-Error promise rejection captured with value: ${String(c)}`}]}}:pn(n,c,void 0,s,!0);d.level="error",Ci(d,{originalException:c,mechanism:{handled:!1,type:"onunhandledrejection"}})}))})(r),Zi("onunhandledrejection"))}}};function Zi(t){Or&&J.log(`Global Handler attached: ${t}`)}function es(){const t=ue();return t&&t.getOptions()||{stackParser:()=>[],attachStacktrace:!1}}const _u=()=>({name:"HttpContext",preprocessEvent(t){if(!ce.navigator&&!ce.location&&!ce.document)return;const e=t.request&&t.request.url||ce.location&&ce.location.href,{referrer:r}=ce.document||{},{userAgent:i}=ce.navigator||{},o={...t.request&&t.request.headers,...r&&{Referer:r},...i&&{"User-Agent":i}},n={...t.request,...e&&{url:e},headers:o};t.request=n}}),Eu=(t={})=>{const e=t.limit||5,r=t.key||"cause";return{name:"LinkedErrors",preprocessEvent(i,o,n){const s=n.getOptions();Gl(Bn,s.stackParser,s.maxValueLength,r,e,i,o)}}};var fn="new",ts="loading",rs="loaded",br="joining-meeting",Ke="joined-meeting",We="left-meeting",Be="error",ku="blocked",xu="off",Cu="sendable",Tu="loading",ju="interrupted",pa="playable",lr="unknown",ha="full",Ou="lobby",Mu="none",fa="base",Iu="*",Pu="ejected",Du="nbf-room",Lu="nbf-token",Nu="exp-room",Ru="exp-token",mn="no-room",Fu="meeting-full",ma="end-of-life",Bu="not-allowed",ga="connection-error",Uu="cam-in-use",Vu="mic-in-use",qu="cam-mic-in-use",Ju="permissions",Yu="undefined-mediadevices",zu="not-found",Gu="constraints",Wu="unknown",va="iframe-ready-for-launch-config",ya="iframe-launch-config",ba="theme-updated",wa="loading",Aa="load-attempt-failed",gn="loaded",Sa="started-camera",_a="camera-error",Ea="joining-meeting",ka="joined-meeting",xa="left-meeting",Ca="participant-joined",Ta="participant-updated",ja="participant-left",Oa="participant-counts-updated",Ma="access-state-updated",Ia="meeting-session-summary-updated",Pa="meeting-session-state-updated",Hu="meeting-session-data-error",Da="waiting-participant-added",La="waiting-participant-updated",Na="waiting-participant-removed",Ra="track-started",Fa="track-stopped",Ba="transcription-started",Ua="transcription-stopped",Va="transcription-error",vn="recording-started",yn="recording-stopped",qa="recording-stats",Ja="recording-error",Ya="recording-upload-completed",za="recording-data",Ga="app-message",Wa="transcription-message",Ha="remote-media-player-started",Ka="remote-media-player-updated",Qa="remote-media-player-stopped",Xa="local-screen-share-started",$a="local-screen-share-stopped",Za="local-screen-share-canceled",eo="active-speaker-change",to="active-speaker-mode-change",ro="network-quality-change",no="network-connection",io="cpu-load-change",so="face-counts-updated",Lt="fullscreen",Nt="exited-fullscreen",ao="live-streaming-started",oo="live-streaming-updated",co="live-streaming-stopped",lo="live-streaming-error",uo="lang-updated",po="receive-settings-updated",bn="input-settings-updated",wn="nonfatal-error",An="error",Vr=4096,ns=102400,qr="iframe-call-message",is="local-screen-start",ss="daily-method-update-live-streaming-endpoints",tr="transmit-log",Je="daily-custom-track",ur={NONE:"none",BGBLUR:"background-blur",BGIMAGE:"background-image",FACE_DETECTION:"face-detection"},ho={NONE:"none",NOISE_CANCELLATION:"noise-cancellation"},Sn={PLAY:"play",PAUSE:"pause"},Jr=["jpg","png","jpeg"],Ku="add-endpoints",Qu="remove-endpoints",as="sip-call-transfer";function Ce(){return!Q()&&typeof window<"u"&&window.navigator&&window.navigator.userAgent?window.navigator.userAgent:""}function Q(){return typeof navigator<"u"&&navigator.product&&navigator.product==="ReactNative"}function fo(){return navigator&&navigator.mediaDevices&&navigator.mediaDevices.getUserMedia}function Xu(){return!!(navigator&&navigator.mediaDevices&&navigator.mediaDevices.getDisplayMedia)&&((function(t,e){if(!t||!e)return!0;switch(t){case"Chrome":return e.major>=75;case"Safari":return RTCRtpTransceiver.prototype.hasOwnProperty("currentDirection")&&!(e.major===13&&e.minor===0&&e.point===0);case"Firefox":return e.major>=67}return!0})(dt(),wr())||Q())}function os(){if(Q()||!document)return!1;var t=document.createElement("iframe");return!!t.requestFullscreen||!!t.webkitRequestFullscreen}var _n="none",$u="software",Zu="hardware",ed=(function(){try{var t,e=document.createElement("canvas"),r=!1;(t=e.getContext("webgl2",{failIfMajorPerformanceCaveat:!0}))||(r=!0,t=e.getContext("webgl2"));var i=t!=null;return e.remove(),i?r?$u:Zu:_n}catch{return _n}})();function mo(){var t=arguments.length>0&&arguments[0]!==void 0&&arguments[0];return!Q()&&ed!==_n&&(t?(function(){return cs()?!1:["Chrome","Firefox"].includes(dt())})():(function(){if(cs())return!1;var e=dt();if(e==="Safari"){var r=qn();if(r.major<15||r.major===15&&r.minor<4)return!1}return e==="Chrome"?Vn().major>=77:e==="Firefox"?Jn().major>=97:["Chrome","Firefox","Safari"].includes(e)})())}function go(){if(Q()||vo()||typeof AudioWorkletNode>"u")return!1;switch(dt()){case"Chrome":case"Firefox":return!0;case"Safari":var t=wr();return t.major>17||t.major===17&&t.minor>=4}return!1}function Yr(){return fo()&&typeof MediaStreamTrack<"u"&&!(function(){var t,e=dt();if(!Ce())return!0;switch(e){case"Chrome":return(t=Vn()).major&&t.major>0&&t.major<75;case"Firefox":return(t=Jn()).major<91;case"Safari":return(t=qn()).major<13||t.major===13&&t.minor<1;default:return!0}})()}function vo(){return Ce().match(/Linux; Android/)}function cs(){var t,e=Ce(),r=e.match(/Mac/)&&(!Q()&&typeof window<"u"&&(t=window)!==null&&t!==void 0&&(t=t.navigator)!==null&&t!==void 0&&t.maxTouchPoints?window.navigator.maxTouchPoints:0)>=5;return!!(e.match(/Mobi/)||e.match(/Android/)||r)||!!Ce().match(/DailyAnd\//)||void 0}function dt(){if(typeof window<"u"){var t=Ce();return yo()?"Safari":t.indexOf("Edge")>-1?"Edge":t.match(/Chrome\//)?"Chrome":t.indexOf("Safari")>-1||bo()?"Safari":t.indexOf("Firefox")>-1?"Firefox":t.indexOf("MSIE")>-1||t.indexOf(".NET")>-1?"IE":"Unknown Browser"}}function wr(){switch(dt()){case"Chrome":return Vn();case"Safari":return qn();case"Firefox":return Jn();case"Edge":return(function(){var t=0,e=0;if(typeof window<"u"){var r=Ce().match(/Edge\/(\d+).(\d+)/);if(r)try{t=parseInt(r[1]),e=parseInt(r[2])}catch{}}return{major:t,minor:e}})()}}function Vn(){var t=0,e=0,r=0,i=0,o=!1;if(typeof window<"u"){var n=Ce(),s=n.match(/Chrome\/(\d+).(\d+).(\d+).(\d+)/);if(s)try{t=parseInt(s[1]),e=parseInt(s[2]),r=parseInt(s[3]),i=parseInt(s[4]),o=n.indexOf("OPR/")>-1}catch{}}return{major:t,minor:e,build:r,patch:i,opera:o}}function yo(){return!!Ce().match(/iPad|iPhone|iPod/i)&&fo()}function bo(){return Ce().indexOf("AppleWebKit/605.1.15")>-1}function qn(){var t=0,e=0,r=0;if(typeof window<"u"){var i=Ce().match(/Version\/(\d+).(\d+)(.(\d+))?/);if(i)try{t=parseInt(i[1]),e=parseInt(i[2]),r=parseInt(i[4])}catch{}else(yo()||bo())&&(t=14,e=0,r=3)}return{major:t,minor:e,point:r}}function Jn(){var t=0,e=0;if(typeof window<"u"){var r=Ce().match(/Firefox\/(\d+).(\d+)/);if(r)try{t=parseInt(r[1]),e=parseInt(r[2])}catch{}}return{major:t,minor:e}}var wo=(function(){return we((function t(){be(this,t)}),[{key:"addListenerForMessagesFromCallMachine",value:function(t,e,r){Mt()}},{key:"addListenerForMessagesFromDailyJs",value:function(t,e,r){Mt()}},{key:"sendMessageToCallMachine",value:function(t,e,r,i){Mt()}},{key:"sendMessageToDailyJs",value:function(t,e){Mt()}},{key:"removeListener",value:function(t){Mt()}}])})();function ls(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable}))),r.push.apply(r,i)}return r}function zr(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?ls(Object(r),!0).forEach((function(i){Le(t,i,r[i])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):ls(Object(r)).forEach((function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(r,i))}))}return t}function Ao(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch{}return(Ao=function(){return!!t})()}var td=(function(){function t(){var e,r,i,o;return be(this,t),r=this,i=Me(i=t),(e=_r(r,Ao()?Reflect.construct(i,[],Me(r).constructor):i.apply(r,o)))._wrappedListeners={},e._messageCallbacks={},e}return Er(t,wo),we(t,[{key:"addListenerForMessagesFromCallMachine",value:function(e,r,i){var o=this,n=function(s){if(s.data&&s.data.what==="iframe-call-message"&&(!s.data.callClientId||s.data.callClientId===r)&&(!s.data.from||s.data.from!=="module")){var c=zr({},s.data);if(delete c.from,c.callbackStamp&&o._messageCallbacks[c.callbackStamp]){var d=c.callbackStamp;o._messageCallbacks[d].call(i,c),delete o._messageCallbacks[d]}delete c.what,delete c.callbackStamp,e.call(i,c)}};this._wrappedListeners[e]=n,window.addEventListener("message",n)}},{key:"addListenerForMessagesFromDailyJs",value:function(e,r,i){var o=function(n){var s;if(!(!n.data||n.data.what!==qr||!n.data.action||n.data.from&&n.data.from!=="module"||n.data.callClientId&&r&&n.data.callClientId!==r||n!=null&&(s=n.data)!==null&&s!==void 0&&s.callFrameId)){var c=n.data;e.call(i,c)}};this._wrappedListeners[e]=o,window.addEventListener("message",o)}},{key:"sendMessageToCallMachine",value:function(e,r,i,o){if(!i)throw new Error("undefined callClientId. Are you trying to use a DailyCall instance previously destroyed?");var n=zr({},e);if(n.what=qr,n.from="module",n.callClientId=i,r){var s=kr();this._messageCallbacks[s]=r,n.callbackStamp=s}var c=o?o.contentWindow:window,d=this._callMachineTargetOrigin(o);d&&c.postMessage(n,d)}},{key:"sendMessageToDailyJs",value:function(e,r){e.what=qr,e.callClientId=r,e.from="embedded",window.postMessage(e,this._targetOriginFromWindowLocation())}},{key:"removeListener",value:function(e){var r=this._wrappedListeners[e];r&&(window.removeEventListener("message",r),delete this._wrappedListeners[e])}},{key:"forwardPackagedMessageToCallMachine",value:function(e,r,i){var o=zr({},e);o.callClientId=i;var n=r?r.contentWindow:window,s=this._callMachineTargetOrigin(r);s&&n.postMessage(o,s)}},{key:"addListenerForPackagedMessagesFromCallMachine",value:function(e,r){var i=function(o){if(o.data&&o.data.what==="iframe-call-message"&&(!o.data.callClientId||o.data.callClientId===r)&&(!o.data.from||o.data.from!=="module")){var n=o.data;e(n)}};return this._wrappedListeners[e]=i,window.addEventListener("message",i),e}},{key:"removeListenerForPackagedMessagesFromCallMachine",value:function(e){var r=this._wrappedListeners[e];r&&(window.removeEventListener("message",r),delete this._wrappedListeners[e])}},{key:"_callMachineTargetOrigin",value:function(e){return e?e.src?new URL(e.src).origin:void 0:this._targetOriginFromWindowLocation()}},{key:"_targetOriginFromWindowLocation",value:function(){return window.location.protocol==="file:"?"*":window.location.origin}}])})();function us(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable}))),r.push.apply(r,i)}return r}function So(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch{}return(So=function(){return!!t})()}var rd=(function(){function t(){var e,r,i,o;return be(this,t),r=this,i=Me(i=t),e=_r(r,So()?Reflect.construct(i,[],Me(r).constructor):i.apply(r,o)),global.callMachineToDailyJsEmitter=global.callMachineToDailyJsEmitter||new Xr.EventEmitter,global.dailyJsToCallMachineEmitter=global.dailyJsToCallMachineEmitter||new Xr.EventEmitter,e._wrappedListeners={},e._messageCallbacks={},e}return Er(t,wo),we(t,[{key:"addListenerForMessagesFromCallMachine",value:function(e,r,i){this._addListener(e,global.callMachineToDailyJsEmitter,r,i,"received call machine message")}},{key:"addListenerForMessagesFromDailyJs",value:function(e,r,i){this._addListener(e,global.dailyJsToCallMachineEmitter,r,i,"received daily-js message")}},{key:"sendMessageToCallMachine",value:function(e,r,i){this._sendMessage(e,global.dailyJsToCallMachineEmitter,i,r,"sending message to call machine")}},{key:"sendMessageToDailyJs",value:function(e,r){this._sendMessage(e,global.callMachineToDailyJsEmitter,r,null,"sending message to daily-js")}},{key:"removeListener",value:function(e){var r=this._wrappedListeners[e];r&&(global.callMachineToDailyJsEmitter.removeListener("message",r),global.dailyJsToCallMachineEmitter.removeListener("message",r),delete this._wrappedListeners[e])}},{key:"_addListener",value:function(e,r,i,o,n){var s=this,c=function(d){if(d.callClientId===i){if(d.callbackStamp&&s._messageCallbacks[d.callbackStamp]){var p=d.callbackStamp;s._messageCallbacks[p].call(o,d),delete s._messageCallbacks[p]}e.call(o,d)}};this._wrappedListeners[e]=c,r.addListener("message",c)}},{key:"_sendMessage",value:function(e,r,i,o,n){var s=(function(d){for(var p=1;p<arguments.length;p++){var v=arguments[p]!=null?arguments[p]:{};p%2?us(Object(v),!0).forEach((function(E){Le(d,E,v[E])})):Object.getOwnPropertyDescriptors?Object.defineProperties(d,Object.getOwnPropertyDescriptors(v)):us(Object(v)).forEach((function(E){Object.defineProperty(d,E,Object.getOwnPropertyDescriptor(v,E))}))}return d})({},e);if(s.callClientId=i,o){var c=kr();this._messageCallbacks[c]=o,s.callbackStamp=c}r.emit("message",s)}}])})(),En="replace",kn="shallow-merge",ds=[En,kn],nd=(function(){function t(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=e.data,i=e.mergeStrategy,o=i===void 0?En:i;be(this,t),t._validateMergeStrategy(o),t._validateData(r,o),this.mergeStrategy=o,this.data=r}return we(t,[{key:"isNoOp",value:function(){return t.isNoOpUpdate(this.data,this.mergeStrategy)}}],[{key:"isNoOpUpdate",value:function(e,r){return Object.keys(e).length===0&&r===kn}},{key:"_validateMergeStrategy",value:function(e){if(!ds.includes(e))throw Error("Unrecognized mergeStrategy provided. Options are: [".concat(ds,"]"))}},{key:"_validateData",value:function(e,r){if(!(function(c){if(c==null||$(c)!=="object")return!1;var d=Object.getPrototypeOf(c);return d==null||d===Object.prototype})(e))throw Error("Meeting session data must be a plain (map-like) object");var i;try{if(i=JSON.stringify(e),r===En){var o=JSON.parse(i);fe(o,e)||console.warn("The meeting session data provided will be modified when serialized.",o,e)}else if(r===kn){for(var n in e)if(Object.hasOwnProperty.call(e,n)&&e[n]!==void 0){var s=JSON.parse(JSON.stringify(e[n]));fe(e[n],s)||console.warn("At least one key in the meeting session data provided will be modified when serialized.",s,e[n])}}}catch(c){throw Error("Meeting session data must be serializable to JSON: ".concat(c))}if(i.length>ns)throw Error("Meeting session data is too large (".concat(i.length," characters). Maximum size suppported is ").concat(ns,"."))}}])})();function _o(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch{}return(_o=function(){return!!t})()}function xn(t){var e=typeof Map=="function"?new Map:void 0;return xn=function(r){if(r===null||!(function(o){try{return Function.toString.call(o).indexOf("[native code]")!==-1}catch{return typeof o=="function"}})(r))return r;if(typeof r!="function")throw new TypeError("Super expression must either be null or a function");if(e!==void 0){if(e.has(r))return e.get(r);e.set(r,i)}function i(){return(function(o,n,s){if(_o())return Reflect.construct.apply(null,arguments);var c=[null];c.push.apply(c,n);var d=new(o.bind.apply(o,c));return s&&Ut(d,s.prototype),d})(r,arguments,Me(this).constructor)}return i.prototype=Object.create(r.prototype,{constructor:{value:i,enumerable:!1,writable:!0,configurable:!0}}),Ut(i,r)},xn(t)}function Eo(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch{}return(Eo=function(){return!!t})()}function ps(t){var e,r=(e=window._daily)===null||e===void 0?void 0:e.pendings;if(r){var i=r.indexOf(t);i!==-1&&r.splice(i,1)}}var id=(function(){return we((function t(e){be(this,t),this._currentLoad=null,this._callClientId=e}),[{key:"load",value:function(){var t,e=this,r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},i=arguments.length>1?arguments[1]:void 0,o=arguments.length>2?arguments[2]:void 0;if(this.loaded)return window._daily.instances[this._callClientId].callMachine.reset(),void i(!0);t=this._callClientId,window._daily.pendings.push(t),this._currentLoad&&this._currentLoad.cancel(),this._currentLoad=new sd(r,(function(){i(!1)}),(function(n,s){s||ps(e._callClientId),o(n,s)})),this._currentLoad.start()}},{key:"cancel",value:function(){this._currentLoad&&this._currentLoad.cancel(),ps(this._callClientId)}},{key:"loaded",get:function(){return this._currentLoad&&this._currentLoad.succeeded}}])})(),sd=(function(){return we((function t(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=arguments.length>1?arguments[1]:void 0,i=arguments.length>2?arguments[2]:void 0;be(this,t),this._attemptsRemaining=3,this._currentAttempt=null,this._dailyConfig=e,this._successCallback=r,this._failureCallback=i}),[{key:"start",value:function(){var t=this;if(!this._currentAttempt){var e=function(r){t._currentAttempt.cancelled||(t._attemptsRemaining--,t._failureCallback(r,t._attemptsRemaining>0),t._attemptsRemaining<=0||setTimeout((function(){t._currentAttempt.cancelled||(t._currentAttempt=new hs(t._dailyConfig,t._successCallback,e),t._currentAttempt.start())}),3e3))};this._currentAttempt=new hs(this._dailyConfig,this._successCallback,e),this._currentAttempt.start()}}},{key:"cancel",value:function(){this._currentAttempt&&this._currentAttempt.cancel()}},{key:"cancelled",get:function(){return this._currentAttempt&&this._currentAttempt.cancelled}},{key:"succeeded",get:function(){return this._currentAttempt&&this._currentAttempt.succeeded}}])})(),Gr=(function(){function t(){return be(this,t),e=this,i=arguments,r=Me(r=t),_r(e,Eo()?Reflect.construct(r,i||[],Me(e).constructor):r.apply(e,i));var e,r,i}return Er(t,xn(Error)),we(t)})(),Ar=2e4,hs=(function(){return we((function e(r,i,o){be(this,e),this._loadAttemptImpl=Q()||!r.avoidEval?new ad(r,i,o):new od(r,i,o)}),[{key:"start",value:(t=q((function*(){return this._loadAttemptImpl.start()})),function(){return t.apply(this,arguments)})},{key:"cancel",value:function(){this._loadAttemptImpl.cancel()}},{key:"cancelled",get:function(){return this._loadAttemptImpl.cancelled}},{key:"succeeded",get:function(){return this._loadAttemptImpl.succeeded}}]);var t})(),ad=(function(){return we((function o(n,s,c){be(this,o),this.cancelled=!1,this.succeeded=!1,this._networkTimedOut=!1,this._networkTimeout=null,this._iosCache=typeof iOSCallObjectBundleCache<"u"&&iOSCallObjectBundleCache,this._refetchHeaders=null,this._dailyConfig=n,this._successCallback=s,this._failureCallback=c}),[{key:"start",value:(i=q((function*(){var o=hr(this._dailyConfig);!(yield this._tryLoadFromIOSCache(o))&&this._loadFromNetwork(o)})),function(){return i.apply(this,arguments)})},{key:"cancel",value:function(){clearTimeout(this._networkTimeout),this.cancelled=!0}},{key:"_tryLoadFromIOSCache",value:(r=q((function*(o){if(!this._iosCache)return!1;try{var n=yield this._iosCache.get(o);return!!this.cancelled||!!n&&(n.code?(Function('"use strict";'+n.code)(),this.succeeded=!0,this._successCallback(),!0):(this._refetchHeaders=n.refetchHeaders,!1))}catch{return!1}})),function(o){return r.apply(this,arguments)})},{key:"_loadFromNetwork",value:(e=q((function*(o){var n=this;this._networkTimeout=setTimeout((function(){n._networkTimedOut=!0,n._failureCallback({msg:"Timed out (>".concat(Ar," ms) when loading call object bundle ").concat(o),type:"timeout"})}),Ar);try{var s=this._refetchHeaders?{headers:this._refetchHeaders}:{},c=yield fetch(o,s);if(clearTimeout(this._networkTimeout),this.cancelled||this._networkTimedOut)throw new Gr;var d=yield this._getBundleCodeFromResponse(o,c);if(this.cancelled)throw new Gr;Function('"use strict";'+d)(),this._iosCache&&this._iosCache.set(o,d,c.headers),this.succeeded=!0,this._successCallback()}catch(p){if(clearTimeout(this._networkTimeout),p instanceof Gr||this.cancelled||this._networkTimedOut)return;this._failureCallback({msg:"Failed to load call object bundle ".concat(o,": ").concat(p),type:p.message})}})),function(o){return e.apply(this,arguments)})},{key:"_getBundleCodeFromResponse",value:(t=q((function*(o,n){if(n.ok)return yield n.text();if(this._iosCache&&n.status===304)return(yield this._iosCache.renew(o,n.headers)).code;throw new Error("Received ".concat(n.status," response"))})),function(o,n){return t.apply(this,arguments)})}]);var t,e,r,i})(),od=(function(){return we((function t(e,r,i){be(this,t),this.cancelled=!1,this.succeeded=!1,this._dailyConfig=e,this._successCallback=r,this._failureCallback=i,this._attemptId=kr(),this._networkTimeout=null,this._scriptElement=null}),[{key:"start",value:function(){window._dailyCallMachineLoadWaitlist||(window._dailyCallMachineLoadWaitlist=new Set);var t=hr(this._dailyConfig);(typeof document>"u"?"undefined":$(document))==="object"?this._startLoading(t):this._failureCallback({msg:"Call object bundle must be loaded in a DOM/web context",type:"missing context"})}},{key:"cancel",value:function(){this._stopLoading(),this.cancelled=!0}},{key:"_startLoading",value:function(t){var e=this;this._signUpForCallMachineLoadWaitlist(),this._networkTimeout=setTimeout((function(){e._stopLoading(),e._failureCallback({msg:"Timed out (>".concat(Ar," ms) when loading call object bundle ").concat(t),type:"timeout"})}),Ar);var r=document.getElementsByTagName("head")[0],i=document.createElement("script");this._scriptElement=i,i.onload=function(){e._stopLoading(),e.succeeded=!0,e._successCallback()},i.onerror=function(o){e._stopLoading(),e._failureCallback({msg:"Failed to load call object bundle ".concat(o.target.src),type:o.message})},i.src=t,r.appendChild(i)}},{key:"_stopLoading",value:function(){this._withdrawFromCallMachineLoadWaitlist(),clearTimeout(this._networkTimeout),this._scriptElement&&(this._scriptElement.onload=null,this._scriptElement.onerror=null)}},{key:"_signUpForCallMachineLoadWaitlist",value:function(){window._dailyCallMachineLoadWaitlist.add(this._attemptId)}},{key:"_withdrawFromCallMachineLoadWaitlist",value:function(){window._dailyCallMachineLoadWaitlist.delete(this._attemptId)}}])})(),rr=function(t,e,r){return ld(t.local,e,r)===!0},cd=function(t,e,r){return t.local.streams&&t.local.streams[e]&&t.local.streams[e].stream&&t.local.streams[e].stream["get".concat(r==="video"?"Video":"Audio","Tracks")]()[0]},gt=function(t,e,r,i){var o=ud(t,e,r,i);return o&&o.pendingTrack},ld=function(t,e,r){if(!t)return!1;var i=function(n){switch(n){case"avatar":return!0;case"staged":return n;default:return!!n}},o=t.public.subscribedTracks;return o&&o[e]?["cam-audio","cam-video","screen-video","screen-audio","rmpAudio","rmpVideo"].indexOf(r)===-1&&o[e].custom?[!0,"staged"].includes(o[e].custom)?i(o[e].custom):i(o[e].custom[r]):i(o[e][r]):!o||i(o.ALL)},ud=function(t,e,r,i){var o=Object.values(t.streams||{}).filter((function(n){return n.participantId===e&&n.type===r&&n.pendingTrack&&n.pendingTrack.kind===i})).sort((function(n,s){return new Date(s.starttime)-new Date(n.starttime)}));return o&&o[0]},dd=function(t,e){var r=t.local.public.customTracks;if(r&&r[e])return r[e].track};function fs(t,e){for(var r=e.getState(),i=0,o=["cam","screen"];i<o.length;i++)for(var n=o[i],s=0,c=["video","audio"];s<c.length;s++){var d=c[s],p=n==="cam"?d:"screen".concat(d.charAt(0).toUpperCase()+d.slice(1)),v=t.tracks[p];if(v){var E=t.local?cd(r,n,d):gt(r,t.session_id,n,d);v.state==="playable"&&(v.track=E),v.persistentTrack=E}}}function ms(t,e){try{var r=e.getState();for(var i in t.tracks)if(!pd(i)){var o=t.tracks[i].kind;if(o){var n=t.tracks[i];if(n){var s=t.local?dd(r,i):gt(r,t.session_id,i,o);n.state==="playable"&&(t.tracks[i].track=s),n.persistentTrack=s}}else console.error("unknown type for custom track")}}catch(c){console.error(c)}}function pd(t){return["video","audio","screenVideo","screenAudio"].includes(t)}function gs(t,e,r){var i=r.getState();if(t.local){if(t.audio)try{t.audioTrack=i.local.streams.cam.stream.getAudioTracks()[0],t.audioTrack||(t.audio=!1)}catch{}if(t.video)try{t.videoTrack=i.local.streams.cam.stream.getVideoTracks()[0],t.videoTrack||(t.video=!1)}catch{}if(t.screen)try{t.screenVideoTrack=i.local.streams.screen.stream.getVideoTracks()[0],t.screenAudioTrack=i.local.streams.screen.stream.getAudioTracks()[0],t.screenVideoTrack||t.screenAudioTrack||(t.screen=!1)}catch{}}else{var o=!0;try{var n=i.participants[t.session_id];n&&n.public&&n.public.rtcType&&n.public.rtcType.impl==="peer-to-peer"&&n.private&&!["connected","completed"].includes(n.private.peeringState)&&(o=!1)}catch(v){console.error(v)}if(!o)return t.audio=!1,t.audioTrack=!1,t.video=!1,t.videoTrack=!1,t.screen=!1,void(t.screenTrack=!1);try{if(i.streams,t.audio&&rr(i,t.session_id,"cam-audio")){var s=gt(i,t.session_id,"cam","audio");s&&(e&&e.audioTrack&&e.audioTrack.id===s.id?t.audioTrack=s:s.muted||(t.audioTrack=s)),t.audioTrack||(t.audio=!1)}if(t.video&&rr(i,t.session_id,"cam-video")){var c=gt(i,t.session_id,"cam","video");c&&(e&&e.videoTrack&&e.videoTrack.id===c.id?t.videoTrack=c:c.muted||(t.videoTrack=c)),t.videoTrack||(t.video=!1)}if(t.screen&&rr(i,t.session_id,"screen-audio")){var d=gt(i,t.session_id,"screen","audio");d&&(e&&e.screenAudioTrack&&e.screenAudioTrack.id===d.id?t.screenAudioTrack=d:d.muted||(t.screenAudioTrack=d))}if(t.screen&&rr(i,t.session_id,"screen-video")){var p=gt(i,t.session_id,"screen","video");p&&(e&&e.screenVideoTrack&&e.screenVideoTrack.id===p.id?t.screenVideoTrack=p:p.muted||(t.screenVideoTrack=p))}t.screenVideoTrack||t.screenAudioTrack||(t.screen=!1)}catch(v){console.error("unexpected error matching up tracks",v)}}}function hd(t,e){var r=typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=(function(d,p){if(d){if(typeof d=="string")return vs(d,p);var v={}.toString.call(d).slice(8,-1);return v==="Object"&&d.constructor&&(v=d.constructor.name),v==="Map"||v==="Set"?Array.from(d):v==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(v)?vs(d,p):void 0}})(t))||e){r&&(t=r);var i=0,o=function(){};return{s:o,n:function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}},e:function(d){throw d},f:o}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var n,s=!0,c=!1;return{s:function(){r=r.call(t)},n:function(){var d=r.next();return s=d.done,d},e:function(d){c=!0,n=d},f:function(){try{s||r.return==null||r.return()}finally{if(c)throw n}}}}function vs(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,i=Array(e);r<e;r++)i[r]=t[r];return i}var Pe=new Map,yt=null;function fd(t,e){var r=typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=(function(d,p){if(d){if(typeof d=="string")return ys(d,p);var v={}.toString.call(d).slice(8,-1);return v==="Object"&&d.constructor&&(v=d.constructor.name),v==="Map"||v==="Set"?Array.from(d):v==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(v)?ys(d,p):void 0}})(t))||e){r&&(t=r);var i=0,o=function(){};return{s:o,n:function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}},e:function(d){throw d},f:o}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var n,s=!0,c=!1;return{s:function(){r=r.call(t)},n:function(){var d=r.next();return s=d.done,d},e:function(d){c=!0,n=d},f:function(){try{s||r.return==null||r.return()}finally{if(c)throw n}}}}function ys(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,i=Array(e);r<e;r++)i[r]=t[r];return i}var De=new Map,Ft=null;function md(t){ko()?(function(e){Pe.has(e)||(Pe.set(e,{}),navigator.mediaDevices.enumerateDevices().then((function(r){Pe.has(e)&&(Pe.get(e).lastDevicesString=JSON.stringify(r),yt||(yt=(function(){var i=q((function*(){var o,n=yield navigator.mediaDevices.enumerateDevices(),s=hd(Pe.keys());try{for(s.s();!(o=s.n()).done;){var c=o.value,d=JSON.stringify(n);d!==Pe.get(c).lastDevicesString&&(Pe.get(c).lastDevicesString=d,c(n))}}catch(p){s.e(p)}finally{s.f()}}));return function(){return i.apply(this,arguments)}})(),navigator.mediaDevices.addEventListener("devicechange",yt)))})).catch((function(){})))})(t):(function(e){De.has(e)||(De.set(e,{}),navigator.mediaDevices.enumerateDevices().then((function(r){De.has(e)&&(De.get(e).lastDevicesString=JSON.stringify(r),Ft||(Ft=setInterval(q((function*(){var i,o=yield navigator.mediaDevices.enumerateDevices(),n=fd(De.keys());try{for(n.s();!(i=n.n()).done;){var s=i.value,c=JSON.stringify(o);c!==De.get(s).lastDevicesString&&(De.get(s).lastDevicesString=c,s(o))}}catch(d){n.e(d)}finally{n.f()}})),3e3)))})))})(t)}function gd(t){ko()?(function(e){Pe.has(e)&&(Pe.delete(e),Pe.size===0&&yt&&(navigator.mediaDevices.removeEventListener("devicechange",yt),yt=null))})(t):(function(e){De.has(e)&&(De.delete(e),De.size===0&&Ft&&(clearInterval(Ft),Ft=null))})(t)}function ko(){var t;return Q()||((t=navigator.mediaDevices)===null||t===void 0?void 0:t.ondevicechange)!==void 0}var vd=new Set;function yd(t,e){return t&&t.readyState==="live"&&!(function(r,i){return r.muted&&!vd.has(r.id)})(t)}function bs(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable}))),r.push.apply(r,i)}return r}function ze(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?bs(Object(r),!0).forEach((function(i){Le(t,i,r[i])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):bs(Object(r)).forEach((function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(r,i))}))}return t}var Rt=Object.freeze({VIDEO:"video",AUDIO:"audio",SCREEN_VIDEO:"screenVideo",SCREEN_AUDIO:"screenAudio",CUSTOM_VIDEO:"customVideo",CUSTOM_AUDIO:"customAudio"}),bd=Object.freeze({PARTICIPANTS:"participants",STREAMING:"streaming",TRANSCRIPTION:"transcription"}),Bt=Object.values(Rt),ws=["v","a","sv","sa","cv","ca"];Object.freeze(Bt.reduce((function(t,e,r){return t[e]=ws[r],t}),{})),Object.freeze(ws.reduce((function(t,e,r){return t[e]=Bt[r],t}),{}));var wd=[Rt.VIDEO,Rt.AUDIO,Rt.SCREEN_VIDEO,Rt.SCREEN_AUDIO],As=Object.values(bd),Ss=["p","s","t"];Object.freeze(As.reduce((function(t,e,r){return t[e]=Ss[r],t}),{})),Object.freeze(Ss.reduce((function(t,e,r){return t[e]=As[r],t}),{}));var xo=(function(){function t(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=e.base,i=e.byUserId,o=e.byParticipantId;be(this,t),this.base=r,this.byUserId=i,this.byParticipantId=o}return we(t,[{key:"clone",value:function(){var e=new t;if(this.base instanceof le?e.base=this.base.clone():e.base=this.base,this.byUserId!==void 0)for(var r in e.byUserId={},this.byUserId){var i=this.byUserId[r];e.byUserId[r]=i instanceof le?i.clone():i}if(this.byParticipantId!==void 0)for(var o in e.byParticipantId={},this.byParticipantId){var n=this.byParticipantId[o];e.byParticipantId[o]=n instanceof le?n.clone():n}return e}},{key:"toJSONObject",value:function(){var e={};if(typeof this.base=="boolean"?e.base=this.base:this.base instanceof le&&(e.base=this.base.toJSONObject()),this.byUserId!==void 0)for(var r in e.byUserId={},this.byUserId){var i=this.byUserId[r];e.byUserId[r]=i instanceof le?i.toJSONObject():i}if(this.byParticipantId!==void 0)for(var o in e.byParticipantId={},this.byParticipantId){var n=this.byParticipantId[o];e.byParticipantId[o]=n instanceof le?n.toJSONObject():n}return e}},{key:"toMinifiedJSONObject",value:function(){var e={};if(this.base!==void 0&&(typeof this.base=="boolean"?e.b=this.base:e.b=this.base.toMinifiedJSONObject()),this.byUserId!==void 0)for(var r in e.u={},this.byUserId){var i=this.byUserId[r];e.u[r]=typeof i=="boolean"?i:i.toMinifiedJSONObject()}if(this.byParticipantId!==void 0)for(var o in e.p={},this.byParticipantId){var n=this.byParticipantId[o];e.p[o]=typeof n=="boolean"?n:n.toMinifiedJSONObject()}return e}},{key:"normalize",value:function(){return this.base instanceof le&&(this.base=this.base.normalize()),this.byUserId&&(this.byUserId=Object.fromEntries(Object.entries(this.byUserId).map((function(e){var r=de(e,2),i=r[0],o=r[1];return[i,o instanceof le?o.normalize():o]})))),this.byParticipantId&&(this.byParticipantId=Object.fromEntries(Object.entries(this.byParticipantId).map((function(e){var r=de(e,2),i=r[0],o=r[1];return[i,o instanceof le?o.normalize():o]})))),this}}],[{key:"fromJSONObject",value:function(e){var r,i,o;if(e.base!==void 0&&(r=typeof e.base=="boolean"?e.base:le.fromJSONObject(e.base)),e.byUserId!==void 0)for(var n in i={},e.byUserId){var s=e.byUserId[n];i[n]=typeof s=="boolean"?s:le.fromJSONObject(s)}if(e.byParticipantId!==void 0)for(var c in o={},e.byParticipantId){var d=e.byParticipantId[c];o[c]=typeof d=="boolean"?d:le.fromJSONObject(d)}return new t({base:r,byUserId:i,byParticipantId:o})}},{key:"fromMinifiedJSONObject",value:function(e){var r,i,o;if(e.b!==void 0&&(r=typeof e.b=="boolean"?e.b:le.fromMinifiedJSONObject(e.b)),e.u!==void 0)for(var n in i={},e.u){var s=e.u[n];i[n]=typeof s=="boolean"?s:le.fromMinifiedJSONObject(s)}if(e.p!==void 0)for(var c in o={},e.p){var d=e.p[c];o[c]=typeof d=="boolean"?d:le.fromMinifiedJSONObject(d)}return new t({base:r,byUserId:i,byParticipantId:o})}},{key:"validateJSONObject",value:function(e){if($(e)!=="object")return[!1,"canReceive must be an object"];for(var r=["base","byUserId","byParticipantId"],i=0,o=Object.keys(e);i<o.length;i++){var n=o[i];if(!r.includes(n))return[!1,"canReceive can only contain keys (".concat(r.join(", "),")")];if(n==="base"){var s=de(le.validateJSONObject(e.base,!0),2),c=s[0],d=s[1];if(!c)return[!1,d]}else{if($(e[n])!=="object")return[!1,"invalid (non-object) value for field '".concat(n,"' in canReceive")];for(var p=0,v=Object.values(e[n]);p<v.length;p++){var E=v[p],C=de(le.validateJSONObject(E),2),x=C[0],h=C[1];if(!x)return[!1,h]}}}return[!0]}}])})(),le=(function(){function t(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=e.video,i=e.audio,o=e.screenVideo,n=e.screenAudio,s=e.customVideo,c=e.customAudio;be(this,t),this.video=r,this.audio=i,this.screenVideo=o,this.screenAudio=n,this.customVideo=s,this.customAudio=c}return we(t,[{key:"clone",value:function(){var e=new t;return this.video!==void 0&&(e.video=this.video),this.audio!==void 0&&(e.audio=this.audio),this.screenVideo!==void 0&&(e.screenVideo=this.screenVideo),this.screenAudio!==void 0&&(e.screenAudio=this.screenAudio),this.customVideo!==void 0&&(e.customVideo=ze({},this.customVideo)),this.customAudio!==void 0&&(e.customAudio=ze({},this.customAudio)),e}},{key:"toJSONObject",value:function(){var e={};return this.video!==void 0&&(e.video=this.video),this.audio!==void 0&&(e.audio=this.audio),this.screenVideo!==void 0&&(e.screenVideo=this.screenVideo),this.screenAudio!==void 0&&(e.screenAudio=this.screenAudio),this.customVideo!==void 0&&(e.customVideo=ze({},this.customVideo)),this.customAudio!==void 0&&(e.customAudio=ze({},this.customAudio)),e}},{key:"toMinifiedJSONObject",value:function(){var e={};return this.video!==void 0&&(e.v=this.video),this.audio!==void 0&&(e.a=this.audio),this.screenVideo!==void 0&&(e.sv=this.screenVideo),this.screenAudio!==void 0&&(e.sa=this.screenAudio),this.customVideo!==void 0&&(e.cv=ze({},this.customVideo)),this.customAudio!==void 0&&(e.ca=ze({},this.customAudio)),e}},{key:"normalize",value:function(){function e(r,i){return r&&Object.keys(r).length===1&&r["*"]===i}return!(this.video!==!0||this.audio!==!0||this.screenVideo!==!0||this.screenAudio!==!0||!e(this.customVideo,!0)||!e(this.customAudio,!0))||(this.video!==!1||this.audio!==!1||this.screenVideo!==!1||this.screenAudio!==!1||!e(this.customVideo,!1)||!e(this.customAudio,!1))&&this}}],[{key:"fromBoolean",value:function(e){return new t({video:e,audio:e,screenVideo:e,screenAudio:e,customVideo:{"*":e},customAudio:{"*":e}})}},{key:"fromJSONObject",value:function(e){return new t({video:e.video,audio:e.audio,screenVideo:e.screenVideo,screenAudio:e.screenAudio,customVideo:e.customVideo!==void 0?ze({},e.customVideo):void 0,customAudio:e.customAudio!==void 0?ze({},e.customAudio):void 0})}},{key:"fromMinifiedJSONObject",value:function(e){return new t({video:e.v,audio:e.a,screenVideo:e.sv,screenAudio:e.sa,customVideo:e.cv,customAudio:e.ca})}},{key:"validateJSONObject",value:function(e,r){if(typeof e=="boolean")return[!0];if($(e)!=="object")return[!1,"invalid (non-object, non-boolean) value in canReceive"];for(var i=Object.keys(e),o=0,n=i;o<n.length;o++){var s=n[o];if(!Bt.includes(s))return[!1,"invalid media type '".concat(s,"' in canReceive")];if(wd.includes(s)){if(typeof e[s]!="boolean")return[!1,"invalid (non-boolean) value for media type '".concat(s,"' in canReceive")]}else{if($(e[s])!=="object")return[!1,"invalid (non-object) value for media type '".concat(s,"' in canReceive")];for(var c=0,d=Object.values(e[s]);c<d.length;c++)if(typeof d[c]!="boolean")return[!1,"invalid (non-boolean) value for entry within '".concat(s,"' in canReceive")];if(r&&e[s]["*"]===void 0)return[!1,`canReceive "base" permission must specify "*" as an entry within '`.concat(s,"'")]}}return r&&i.length!==Bt.length?[!1,'canReceive "base" permission must specify all media types: '.concat(Bt.join(", ")," (or be set to a boolean shorthand)")]:[!0]}}])})(),Ad=["result"],Sd=["preserveIframe"];function _s(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable}))),r.push.apply(r,i)}return r}function B(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?_s(Object(r),!0).forEach((function(i){Le(t,i,r[i])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):_s(Object(r)).forEach((function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(r,i))}))}return t}function Co(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch{}return(Co=function(){return!!t})()}function Es(t,e){var r=typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=(function(d,p){if(d){if(typeof d=="string")return ks(d,p);var v={}.toString.call(d).slice(8,-1);return v==="Object"&&d.constructor&&(v=d.constructor.name),v==="Map"||v==="Set"?Array.from(d):v==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(v)?ks(d,p):void 0}})(t))||e){r&&(t=r);var i=0,o=function(){};return{s:o,n:function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}},e:function(d){throw d},f:o}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var n,s=!0,c=!1;return{s:function(){r=r.call(t)},n:function(){var d=r.next();return s=d.done,d},e:function(d){c=!0,n=d},f:function(){try{s||r.return==null||r.return()}finally{if(c)throw n}}}}function ks(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,i=Array(e);r<e;r++)i[r]=t[r];return i}var tt={},xs="video",_d="voice",Cs=Q()?{data:{}}:{data:{},topology:"none"},Ts={present:0,hidden:0},To={maxBitrate:{min:1e5,max:25e5},maxFramerate:{min:1,max:30},scaleResolutionDownBy:{min:1,max:8}},Wr=Object.keys(To),js=["state","volume","simulcastEncodings"],Os={androidInCallNotification:{title:"string",subtitle:"string",iconName:"string",disableForCustomOverride:"boolean"},disableAutoDeviceManagement:{audio:"boolean",video:"boolean"}},Sr={id:{iconPath:"string",iconPathDarkMode:"string",label:"string",tooltip:"string",visualState:"'default' | 'sidebar-open' | 'active'"}},Cn={id:{allow:"string",controlledBy:"'*' | 'owners' | string[]",csp:"string",iconURL:"string",label:"string",loading:"'eager' | 'lazy'",location:"'main' | 'sidebar'",name:"string",referrerPolicy:"string",sandbox:"string",src:"string",srcdoc:"string",shared:"string[] | 'owners' | boolean"}},rt={customIntegrations:{validate:No,help:Do()},customTrayButtons:{validate:Lo,help:"customTrayButtons should be a dictionary of the type ".concat(JSON.stringify(Sr))},url:{validate:function(t){return typeof t=="string"},help:"url should be a string"},baseUrl:{validate:function(t){return typeof t=="string"},help:"baseUrl should be a string"},token:{validate:function(t){return typeof t=="string"},help:"token should be a string",queryString:"t"},dailyConfig:{validate:function(t,e){try{return e.validateDailyConfig(t),!0}catch(r){console.error("Failed to validate dailyConfig",r)}return!1},help:"Unsupported dailyConfig. Check error logs for detailed info."},reactNativeConfig:{validate:function(t){return Ro(t,Os)},help:"reactNativeConfig should look like ".concat(JSON.stringify(Os),", all fields optional")},lang:{validate:function(t){return["da","de","en-us","en","es","fi","fr","it","jp","ka","nl","no","pl","pt","pt-BR","ru","sv","tr","user"].includes(t)},help:"language not supported. Options are: da, de, en-us, en, es, fi, fr, it, jp, ka, nl, no, pl, pt, pt-BR, ru, sv, tr, user"},userName:!0,userData:{validate:function(t){try{return jo(t),!0}catch(e){return console.error(e),!1}},help:"invalid userData type provided"},startVideoOff:!0,startAudioOff:!0,allowLocalVideo:!0,allowLocalAudio:!0,activeSpeakerMode:!0,showLeaveButton:!0,showLocalVideo:!0,showParticipantsBar:!0,showFullscreenButton:!0,showUserNameChangeUI:!0,iframeStyle:!0,customLayout:!0,cssFile:!0,cssText:!0,bodyClass:!0,videoSource:{validate:function(t,e){if(typeof t=="boolean")return e._preloadCache.allowLocalVideo=t,!0;var r;if(t instanceof MediaStreamTrack)e._sharedTracks.videoTrack=t,r={customTrack:Je};else{if(delete e._sharedTracks.videoTrack,typeof t!="string")return console.error("videoSource must be a MediaStreamTrack, boolean, or a string"),!1;r={deviceId:t}}return e._updatePreloadCacheInputSettings({video:{settings:r}},!1),!0}},audioSource:{validate:function(t,e){if(typeof t=="boolean")return e._preloadCache.allowLocalAudio=t,!0;var r;if(t instanceof MediaStreamTrack)e._sharedTracks.audioTrack=t,r={customTrack:Je};else{if(delete e._sharedTracks.audioTrack,typeof t!="string")return console.error("audioSource must be a MediaStreamTrack, boolean, or a string"),!1;r={deviceId:t}}return e._updatePreloadCacheInputSettings({audio:{settings:r}},!1),!0}},subscribeToTracksAutomatically:{validate:function(t,e){return e._preloadCache.subscribeToTracksAutomatically=t,!0}},theme:{validate:function(t){var e=["accent","accentText","background","backgroundAccent","baseText","border","mainAreaBg","mainAreaBgAccent","mainAreaText","supportiveText"],r=function(i){for(var o=0,n=Object.keys(i);o<n.length;o++){var s=n[o];if(!e.includes(s))return console.error('unsupported color "'.concat(s,'". Valid colors: ').concat(e.join(", "))),!1;if(!i[s].match(/^#[0-9a-f]{6}|#[0-9a-f]{3}$/i))return console.error("".concat(s,' theme color should be provided in valid hex color format. Received: "').concat(i[s],'"')),!1}return!0};return $(t)==="object"&&("light"in t&&"dark"in t||"colors"in t)?"light"in t&&"dark"in t?"colors"in t.light?"colors"in t.dark?r(t.light.colors)&&r(t.dark.colors):(console.error('Dark theme is missing "colors" property.',t),!1):(console.error('Light theme is missing "colors" property.',t),!1):r(t.colors):(console.error('Theme must contain either both "light" and "dark" properties, or "colors".',t),!1)},help:"unsupported theme configuration. Check error logs for detailed info."},layoutConfig:{validate:function(t){if("grid"in t){var e=t.grid;if("maxTilesPerPage"in e){if(!Number.isInteger(e.maxTilesPerPage))return console.error("grid.maxTilesPerPage should be an integer. You passed ".concat(e.maxTilesPerPage,".")),!1;if(e.maxTilesPerPage>49)return console.error("grid.maxTilesPerPage can't be larger than 49 without sacrificing browser performance. Please contact us at https://www.daily.co/contact to talk about your use case."),!1}if("minTilesPerPage"in e){if(!Number.isInteger(e.minTilesPerPage))return console.error("grid.minTilesPerPage should be an integer. You passed ".concat(e.minTilesPerPage,".")),!1;if(e.minTilesPerPage<1)return console.error("grid.minTilesPerPage can't be lower than 1."),!1;if("maxTilesPerPage"in e&&e.minTilesPerPage>e.maxTilesPerPage)return console.error("grid.minTilesPerPage can't be higher than grid.maxTilesPerPage."),!1}}return!0},help:"unsupported layoutConfig. Check error logs for detailed info."},receiveSettings:{validate:function(t){return Oo(t,{allowAllParticipantsKey:!1})},help:Po({allowAllParticipantsKey:!1})},sendSettings:{validate:function(t,e){return!!(function(r,i){try{return i.validateUpdateSendSettings(r),!0}catch(o){return console.error("Failed to validate send settings",o),!1}})(t,e)&&(e._preloadCache.sendSettings=t,!0)},help:"Invalid sendSettings provided. Check error logs for detailed info."},inputSettings:{validate:function(t,e){var r;return!!Mo(t)&&(e._inputSettings||(e._inputSettings={}),Io(t,(r=e.properties)===null||r===void 0?void 0:r.dailyConfig,e._sharedTracks),e._updatePreloadCacheInputSettings(t,!0),!0)},help:Tn()},layout:{validate:function(t){return t==="custom-v1"||t==="browser"||t==="none"},help:'layout may only be set to "custom-v1"',queryString:"layout"},emb:{queryString:"emb"},embHref:{queryString:"embHref"},dailyJsVersion:{queryString:"dailyJsVersion"},proxy:{queryString:"proxy"},strictMode:!0,allowMultipleCallInstances:!0},nr={styles:{validate:function(t){for(var e in t)if(e!=="cam"&&e!=="screen")return!1;if(t.cam){for(var r in t.cam)if(r!=="div"&&r!=="video")return!1}if(t.screen){for(var i in t.screen)if(i!=="div"&&i!=="video")return!1}return!0},help:"styles format should be a subset of: { cam: {div: {}, video: {}}, screen: {div: {}, video: {}} }"},setSubscribedTracks:{validate:function(t,e){if(e._preloadCache.subscribeToTracksAutomatically)return!1;var r=[!0,!1,"staged"];if(r.includes(t)||!Q()&&t==="avatar")return!0;var i=["audio","video","screenAudio","screenVideo","rmpAudio","rmpVideo"],o=function(n){var s=arguments.length>1&&arguments[1]!==void 0&&arguments[1];for(var c in n)if(c==="custom"){if(!r.includes(n[c])&&!o(n[c],!0))return!1}else{var d=!s&&!i.includes(c),p=!r.includes(n[c]);if(d||p)return!1}return!0};return o(t)},help:"setSubscribedTracks cannot be used when setSubscribeToTracksAutomatically is enabled, and should be of the form: "+"true".concat(Q()?"":" | 'avatar'"," | false | 'staged' | { [audio: true|false|'staged'], [video: true|false|'staged'], [screenAudio: true|false|'staged'], [screenVideo: true|false|'staged'] }")},setAudio:!0,setVideo:!0,setScreenShare:{validate:function(t){return t===!1},help:"setScreenShare must be false, as it's only meant for stopping remote participants' screen shares"},eject:!0,updatePermissions:{validate:function(t){for(var e=0,r=Object.entries(t);e<r.length;e++){var i=de(r[e],2),o=i[0],n=i[1];switch(o){case"hasPresence":if(typeof n!="boolean")return!1;break;case"canSend":if(n instanceof Set||n instanceof Array||Array.isArray(n)){var s,c=["video","audio","screenVideo","screenAudio","customVideo","customAudio"],d=Es(n);try{for(d.s();!(s=d.n()).done;){var p=s.value;if(!c.includes(p))return!1}}catch(_){d.e(_)}finally{d.f()}}else if(typeof n!="boolean")return!1;(n instanceof Array||Array.isArray(n))&&(t.canSend=new Set(n));break;case"canReceive":var v=de(xo.validateJSONObject(n),2),E=v[0],C=v[1];if(!E)return console.error(C),!1;break;case"canAdmin":if(n instanceof Set||n instanceof Array||Array.isArray(n)){var x,h=["participants","streaming","transcription"],m=Es(n);try{for(m.s();!(x=m.n()).done;){var k=x.value;if(!h.includes(k))return!1}}catch(_){m.e(_)}finally{m.f()}}else if(typeof n!="boolean")return!1;(n instanceof Array||Array.isArray(n))&&(t.canAdmin=new Set(n));break;default:return!1}}return!0},help:"updatePermissions can take hasPresence, canSend, canReceive, and canAdmin permissions. hasPresence must be a boolean. canSend can be a boolean or an Array or Set of media types (video, audio, screenVideo, screenAudio, customVideo, customAudio). canReceive must be an object specifying base, byUserId, and/or byParticipantId fields (see documentation for more details). canAdmin can be a boolean or an Array or Set of admin types (participants, streaming, transcription)."}};Promise.any||(Promise.any=(function(){var t=q((function*(e){return new Promise((function(r,i){var o=[];e.forEach((function(n){return Promise.resolve(n).then((function(s){r(s)})).catch((function(s){o.push(s),o.length===e.length&&i(o)}))}))}))}));return function(e){return t.apply(this,arguments)}})());var Ed=(function(){function t(a){var u,l,f,y,j,I,P=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(be(this,t),f=this,y=Me(y=t),Le(l=_r(f,Co()?Reflect.construct(y,[],Me(f).constructor):y.apply(f,j)),"startListeningForDeviceChanges",(function(){md(l.handleDeviceChange)})),Le(l,"stopListeningForDeviceChanges",(function(){gd(l.handleDeviceChange)})),Le(l,"handleDeviceChange",(function(G){G=G.map((function(X){return JSON.parse(JSON.stringify(X))})),l.emitDailyJSEvent({action:"available-devices-updated",availableDevices:G})})),Le(l,"handleNativeAppStateChange",(function(){var G=q((function*(X){if(X==="destroyed")return console.warn("App has been destroyed before leaving the meeting. Cleaning up all the resources!"),void(yield l.destroy());var Ie=X==="active";l.disableReactNativeAutoDeviceManagement("video")||(Ie?l.camUnmutedBeforeLosingNativeActiveState&&l.setLocalVideo(!0):(l.camUnmutedBeforeLosingNativeActiveState=l.localVideo(),l.camUnmutedBeforeLosingNativeActiveState&&l.setLocalVideo(!1)))}));return function(X){return G.apply(this,arguments)}})()),Le(l,"handleNativeAudioFocusChange",(function(G){l.disableReactNativeAutoDeviceManagement("audio")||(l._hasNativeAudioFocus=G,l.toggleParticipantAudioBasedOnNativeAudioFocus(),l._hasNativeAudioFocus?l.micUnmutedBeforeLosingNativeAudioFocus&&l.setLocalAudio(!0):(l.micUnmutedBeforeLosingNativeAudioFocus=l.localAudio(),l.setLocalAudio(!1)))})),Le(l,"handleNativeSystemScreenCaptureStop",(function(){l.stopScreenShare()})),!Yr()&&!Q())throw new Error("WebRTC not supported or suppressed");if(l.strictMode=P.strictMode===void 0||P.strictMode,l.allowMultipleCallInstances=(u=P.allowMultipleCallInstances)!==null&&u!==void 0&&u,Object.keys(tt).length&&(l._logDuplicateInstanceAttempt(),!l.allowMultipleCallInstances)){if(l.strictMode)throw new Error("Duplicate DailyIframe instances are not allowed");console.warn("Using strictMode: false to allow multiple call instances is now deprecated. Set `allowMultipleCallInstances: true`")}if(window._daily||(window._daily={pendings:[],instances:{}}),l.callClientId=kr(),tt[(I=l).callClientId]=I,window._daily.instances[l.callClientId]={},l._sharedTracks={},window._daily.instances[l.callClientId].tracks=l._sharedTracks,P.dailyJsVersion=t.version(),l._iframe=a,l._callObjectMode=P.layout==="none"&&!l._iframe,l._preloadCache={subscribeToTracksAutomatically:!0,outputDeviceId:null,inputSettings:null,sendSettings:null,videoTrackForNetworkConnectivityTest:null,videoTrackForConnectionQualityTest:null},P.showLocalVideo!==void 0?l._callObjectMode?console.error("showLocalVideo is not available in call object mode"):l._showLocalVideo=!!P.showLocalVideo:l._showLocalVideo=!0,P.showParticipantsBar!==void 0?l._callObjectMode?console.error("showParticipantsBar is not available in call object mode"):l._showParticipantsBar=!!P.showParticipantsBar:l._showParticipantsBar=!0,P.customIntegrations!==void 0?l._callObjectMode?console.error("customIntegrations is not available in call object mode"):l._customIntegrations=P.customIntegrations:l._customIntegrations={},P.customTrayButtons!==void 0?l._callObjectMode?console.error("customTrayButtons is not available in call object mode"):l._customTrayButtons=P.customTrayButtons:l._customTrayButtons={},P.activeSpeakerMode!==void 0?l._callObjectMode?console.error("activeSpeakerMode is not available in call object mode"):l._activeSpeakerMode=!!P.activeSpeakerMode:l._activeSpeakerMode=!1,P.receiveSettings?l._callObjectMode?l._receiveSettings=P.receiveSettings:console.error("receiveSettings is only available in call object mode"):l._receiveSettings={},l.validateProperties(P),l.properties=B({},P),l._inputSettings||(l._inputSettings={}),l._callObjectLoader=l._callObjectMode?new id(l.callClientId):null,l._callState=fn,l._isPreparingToJoin=!1,l._accessState={access:lr},l._meetingSessionSummary={},l._finalSummaryOfPrevSession={},l._meetingSessionState=Qr(Cs,l._callObjectMode),l._nativeInCallAudioMode=xs,l._participants={},l._isScreenSharing=!1,l._participantCounts=Ts,l._rmpPlayerState={},l._waitingParticipants={},l._network={threshold:"good",quality:100,networkState:"unknown",stats:{}},l._activeSpeaker={},l._localAudioLevel=0,l._isLocalAudioLevelObserverRunning=!1,l._remoteParticipantsAudioLevel={},l._isRemoteParticipantsAudioLevelObserverRunning=!1,l._maxAppMessageSize=Vr,l._messageChannel=Q()?new rd:new td,l._iframe&&(l._iframe.requestFullscreen?l._iframe.addEventListener("fullscreenchange",(function(){document.fullscreenElement===l._iframe?(l.emitDailyJSEvent({action:Lt}),l.sendMessageToCallMachine({action:Lt})):(l.emitDailyJSEvent({action:Nt}),l.sendMessageToCallMachine({action:Nt}))})):l._iframe.webkitRequestFullscreen&&l._iframe.addEventListener("webkitfullscreenchange",(function(){document.webkitFullscreenElement===l._iframe?(l.emitDailyJSEvent({action:Lt}),l.sendMessageToCallMachine({action:Lt})):(l.emitDailyJSEvent({action:Nt}),l.sendMessageToCallMachine({action:Nt}))}))),Q()){var F=l.nativeUtils();F.addAudioFocusChangeListener&&F.removeAudioFocusChangeListener&&F.addAppStateChangeListener&&F.removeAppStateChangeListener&&F.addSystemScreenCaptureStopListener&&F.removeSystemScreenCaptureStopListener||console.warn("expected (add|remove)(AudioFocusChange|AppActiveStateChange|SystemScreenCaptureStop)Listener to be available in React Native"),l._hasNativeAudioFocus=!0,F.addAudioFocusChangeListener(l.handleNativeAudioFocusChange),F.addAppStateChangeListener(l.handleNativeAppStateChange),F.addSystemScreenCaptureStopListener(l.handleNativeSystemScreenCaptureStop)}return l._callObjectMode&&l.startListeningForDeviceChanges(),l._messageChannel.addListenerForMessagesFromCallMachine(l.handleMessageFromCallMachine,l.callClientId,l),l}return Er(t,Wt),we(t,[{key:"destroy",value:(Ne=q((function*(){var a;try{yield this.leave()}catch{}var u=this._iframe;if(u){var l=u.parentElement;l&&l.removeChild(u)}if(this._messageChannel.removeListener(this.handleMessageFromCallMachine),Q()){var f=this.nativeUtils();f.removeAudioFocusChangeListener(this.handleNativeAudioFocusChange),f.removeAppStateChangeListener(this.handleNativeAppStateChange),f.removeSystemScreenCaptureStopListener(this.handleNativeSystemScreenCaptureStop)}this._callObjectMode&&this.stopListeningForDeviceChanges(),this.resetMeetingDependentVars(),this._destroyed=!0,this.emitDailyJSEvent({action:"call-instance-destroyed"}),delete tt[this.callClientId],!((a=window)===null||a===void 0||(a=a._daily)===null||a===void 0)&&a.instances&&delete window._daily.instances[this.callClientId],this.strictMode&&(this.callClientId=void 0)})),function(){return Ne.apply(this,arguments)})},{key:"isDestroyed",value:function(){return!!this._destroyed}},{key:"loadCss",value:function(a){var u=a.bodyClass,l=a.cssFile,f=a.cssText;return K(),this.sendMessageToCallMachine({action:"load-css",cssFile:this.absoluteUrl(l),bodyClass:u,cssText:f}),this}},{key:"iframe",value:function(){return K(),this._iframe}},{key:"meetingState",value:function(){return this._callState}},{key:"accessState",value:function(){return Te(this._callObjectMode,"accessState()"),this._accessState}},{key:"participants",value:function(){return this._participants}},{key:"participantCounts",value:function(){return this._participantCounts}},{key:"waitingParticipants",value:function(){return Te(this._callObjectMode,"waitingParticipants()"),this._waitingParticipants}},{key:"validateParticipantProperties",value:function(a,u){for(var l in u){if(!nr[l])throw new Error("unrecognized updateParticipant property ".concat(l));if(nr[l].validate&&!nr[l].validate(u[l],this,this._participants[a]))throw new Error(nr[l].help)}}},{key:"updateParticipant",value:function(a,u){return this._participants.local&&this._participants.local.session_id===a&&(a="local"),a&&u&&(this.validateParticipantProperties(a,u),this.sendMessageToCallMachine({action:"update-participant",id:a,properties:u})),this}},{key:"updateParticipants",value:function(a){var u=this._participants.local&&this._participants.local.session_id;for(var l in a)l===u&&(l="local"),l&&a[l]&&this.validateParticipantProperties(l,a[l]);return this.sendMessageToCallMachine({action:"update-participants",participants:a}),this}},{key:"updateWaitingParticipant",value:(ae=q((function*(){var a=this,u=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(Te(this._callObjectMode,"updateWaitingParticipant()"),re(this._callState,"updateWaitingParticipant()"),typeof u!="string"||$(l)!=="object")throw new Error("updateWaitingParticipant() must take an id string and a updates object");return new Promise((function(f,y){a.sendMessageToCallMachine({action:"daily-method-update-waiting-participant",id:u,updates:l},(function(j){j.error&&y(j.error),j.id||y(new Error("unknown error in updateWaitingParticipant()")),f({id:j.id})}))}))})),function(){return ae.apply(this,arguments)})},{key:"updateWaitingParticipants",value:(Ae=q((function*(){var a=this,u=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(Te(this._callObjectMode,"updateWaitingParticipants()"),re(this._callState,"updateWaitingParticipants()"),$(u)!=="object")throw new Error("updateWaitingParticipants() must take a mapping between ids and update objects");return new Promise((function(l,f){a.sendMessageToCallMachine({action:"daily-method-update-waiting-participants",updatesById:u},(function(y){y.error&&f(y.error),y.ids||f(new Error("unknown error in updateWaitingParticipants()")),l({ids:y.ids})}))}))})),function(){return Ae.apply(this,arguments)})},{key:"requestAccess",value:(ge=q((function*(){var a=this,u=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},l=u.access,f=l===void 0?{level:ha}:l,y=u.name,j=y===void 0?"":y;return Te(this._callObjectMode,"requestAccess()"),re(this._callState,"requestAccess()"),new Promise((function(I,P){a.sendMessageToCallMachine({action:"daily-method-request-access",access:f,name:j},(function(F){F.error&&P(F.error),F.access||P(new Error("unknown error in requestAccess()")),I({access:F.access,granted:F.granted})}))}))})),function(){return ge.apply(this,arguments)})},{key:"localAudio",value:function(){return this._participants.local?!["blocked","off"].includes(this._participants.local.tracks.audio.state):null}},{key:"localVideo",value:function(){return this._participants.local?!["blocked","off"].includes(this._participants.local.tracks.video.state):null}},{key:"setLocalAudio",value:function(a){var u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return"forceDiscardTrack"in u&&(Q()?(console.warn("forceDiscardTrack option not supported in React Native; ignoring"),u={}):a&&(console.warn("forceDiscardTrack option only supported when calling setLocalAudio(false); ignoring"),u={})),this.sendMessageToCallMachine({action:"local-audio",state:a,options:u}),this}},{key:"localScreenAudio",value:function(){return this._participants.local?!["blocked","off"].includes(this._participants.local.tracks.screenAudio.state):null}},{key:"localScreenVideo",value:function(){return this._participants.local?!["blocked","off"].includes(this._participants.local.tracks.screenVideo.state):null}},{key:"updateScreenShare",value:function(a){if(this._isScreenSharing)return this.sendMessageToCallMachine({action:"local-screen-update",options:a}),this;console.warn("There is no screen share in progress. Try calling startScreenShare first.")}},{key:"setLocalVideo",value:function(a){return this.sendMessageToCallMachine({action:"local-video",state:a}),this}},{key:"_setAllowLocalAudio",value:function(a){if(this._preloadCache.allowLocalAudio=a,this._callMachineInitialized)return this.sendMessageToCallMachine({action:"set-allow-local-audio",state:a}),this}},{key:"_setAllowLocalVideo",value:function(a){if(this._preloadCache.allowLocalVideo=a,this._callMachineInitialized)return this.sendMessageToCallMachine({action:"set-allow-local-video",state:a}),this}},{key:"getReceiveSettings",value:(pe=q((function*(a){var u=this,l=(arguments.length>1&&arguments[1]!==void 0?arguments[1]:{}).showInheritedValues,f=l!==void 0&&l;if(Te(this._callObjectMode,"getReceiveSettings()"),!this._callMachineInitialized)return this._receiveSettings;switch($(a)){case"string":return new Promise((function(y){u.sendMessageToCallMachine({action:"get-single-participant-receive-settings",id:a,showInheritedValues:f},(function(j){y(j.receiveSettings)}))}));case"undefined":return this._receiveSettings;default:throw new Error('first argument to getReceiveSettings() must be a participant id (or "base"), or there should be no arguments')}})),function(a){return pe.apply(this,arguments)})},{key:"updateReceiveSettings",value:(ie=q((function*(a){var u=this;if(Te(this._callObjectMode,"updateReceiveSettings()"),!Oo(a,{allowAllParticipantsKey:!0}))throw new Error(Po({allowAllParticipantsKey:!0}));return re(this._callState,"updateReceiveSettings()","To specify receive settings earlier, use the receiveSettings config property."),new Promise((function(l){u.sendMessageToCallMachine({action:"update-receive-settings",receiveSettings:a},(function(f){l({receiveSettings:f.receiveSettings})}))}))})),function(a){return ie.apply(this,arguments)})},{key:"_prepInputSettingsForSharing",value:function(a,u){if(a){var l={};if(a.audio){var f,y,j;a.audio.settings&&(!Object.keys(a.audio.settings).length&&u||(l.audio={settings:B({},a.audio.settings)})),u&&(f=l.audio)!==null&&f!==void 0&&(f=f.settings)!==null&&f!==void 0&&f.customTrack&&(l.audio.settings={customTrack:this._sharedTracks.audioTrack});var I=((y=a.audio.processor)===null||y===void 0?void 0:y.type)==="none"&&((j=a.audio.processor)===null||j===void 0?void 0:j._isDefaultWhenNone);if(a.audio.processor&&!I){var P=B({},a.audio.processor);delete P._isDefaultWhenNone,l.audio=B(B({},l.audio),{},{processor:P})}}if(a.video){var F,G,X;a.video.settings&&(!Object.keys(a.video.settings).length&&u||(l.video={settings:B({},a.video.settings)})),u&&(F=l.video)!==null&&F!==void 0&&(F=F.settings)!==null&&F!==void 0&&F.customTrack&&(l.video.settings={customTrack:this._sharedTracks.videoTrack});var Ie=((G=a.video.processor)===null||G===void 0?void 0:G.type)==="none"&&((X=a.video.processor)===null||X===void 0?void 0:X._isDefaultWhenNone);if(a.video.processor&&!Ie){var $e=B({},a.video.processor);delete $e._isDefaultWhenNone,l.video=B(B({},l.video),{},{processor:$e})}}return l}}},{key:"getInputSettings",value:function(){var a=this;return K(),new Promise((function(u){u(a._getInputSettings())}))}},{key:"_getInputSettings",value:function(){var a,u,l,f,y,j,I={processor:{type:"none",_isDefaultWhenNone:!0}};this._inputSettings?(a=((l=this._inputSettings)===null||l===void 0?void 0:l.video)||I,u=((f=this._inputSettings)===null||f===void 0?void 0:f.audio)||I):(a=((y=this._preloadCache)===null||y===void 0||(y=y.inputSettings)===null||y===void 0?void 0:y.video)||I,u=((j=this._preloadCache)===null||j===void 0||(j=j.inputSettings)===null||j===void 0?void 0:j.audio)||I);var P={audio:u,video:a};return this._prepInputSettingsForSharing(P,!0)}},{key:"_updatePreloadCacheInputSettings",value:function(a,u){var l=this._inputSettings||{},f={};if(a.video){var y,j,I;f.video={},a.video.settings?(f.video.settings={},u||a.video.settings.customTrack||(I=l.video)===null||I===void 0||!I.settings?f.video.settings=a.video.settings:f.video.settings=B(B({},l.video.settings),a.video.settings),Object.keys(f.video.settings).length||delete f.video.settings):(y=l.video)!==null&&y!==void 0&&y.settings&&(f.video.settings=l.video.settings),a.video.processor?f.video.processor=a.video.processor:(j=l.video)!==null&&j!==void 0&&j.processor&&(f.video.processor=l.video.processor)}else l.video&&(f.video=l.video);if(a.audio){var P,F,G;f.audio={},a.audio.settings?(f.audio.settings={},u||a.audio.settings.customTrack||(G=l.audio)===null||G===void 0||!G.settings?f.audio.settings=a.audio.settings:f.audio.settings=B(B({},l.audio.settings),a.audio.settings),Object.keys(f.audio.settings).length||delete f.audio.settings):(P=l.audio)!==null&&P!==void 0&&P.settings&&(f.audio.settings=l.audio.settings),a.audio.processor?f.audio.processor=a.audio.processor:(F=l.audio)!==null&&F!==void 0&&F.processor&&(f.audio.processor=l.audio.processor)}else l.audio&&(f.audio=l.audio);this._maybeUpdateInputSettings(f)}},{key:"_devicesFromInputSettings",value:function(a){var u,l,f=(a==null||(u=a.video)===null||u===void 0||(u=u.settings)===null||u===void 0?void 0:u.deviceId)||null,y=(a==null||(l=a.audio)===null||l===void 0||(l=l.settings)===null||l===void 0?void 0:l.deviceId)||null,j=this._preloadCache.outputDeviceId||null;return{camera:f?{deviceId:f}:{},mic:y?{deviceId:y}:{},speaker:j?{deviceId:j}:{}}}},{key:"updateInputSettings",value:(U=q((function*(a){var u=this;return K(),Mo(a)?a.video||a.audio?(Io(a,this.properties.dailyConfig,this._sharedTracks),this._callObjectMode&&!this._callMachineInitialized?(this._updatePreloadCacheInputSettings(a,!0),this._getInputSettings()):new Promise((function(l,f){u.sendMessageToCallMachine({action:"update-input-settings",inputSettings:a},(function(y){if(y.error)f(y.error);else{if(y.returnPreloadCache)return u._updatePreloadCacheInputSettings(a,!0),void l(u._getInputSettings());u._maybeUpdateInputSettings(y.inputSettings),l(u._prepInputSettingsForSharing(y.inputSettings,!0))}}))}))):this._getInputSettings():(console.error(Tn()),Promise.reject(Tn()))})),function(a){return U.apply(this,arguments)})},{key:"setBandwidth",value:function(a){var u=a.kbs,l=a.trackConstraints;if(K(),this._callMachineInitialized)return this.sendMessageToCallMachine({action:"set-bandwidth",kbs:u,trackConstraints:l}),this}},{key:"getDailyLang",value:function(){var a=this;if(K(),this._callMachineInitialized)return new Promise((function(u){a.sendMessageToCallMachine({action:"get-daily-lang"},(function(l){delete l.action,delete l.callbackStamp,u(l)}))}))}},{key:"setDailyLang",value:function(a){return K(),this.sendMessageToCallMachine({action:"set-daily-lang",lang:a}),this}},{key:"setProxyUrl",value:function(a){return this.sendMessageToCallMachine({action:"set-proxy-url",proxyUrl:a}),this}},{key:"setIceConfig",value:function(a){return this.sendMessageToCallMachine({action:"set-ice-config",iceConfig:a}),this}},{key:"meetingSessionSummary",value:function(){return[We,Be].includes(this._callState)?this._finalSummaryOfPrevSession:this._meetingSessionSummary}},{key:"getMeetingSession",value:(W=q((function*(){var a=this;return console.warn("getMeetingSession() is deprecated: use meetingSessionSummary(), which will return immediately"),re(this._callState,"getMeetingSession()"),new Promise((function(u){a.sendMessageToCallMachine({action:"get-meeting-session"},(function(l){delete l.action,delete l.callbackStamp,u(l)}))}))})),function(){return W.apply(this,arguments)})},{key:"meetingSessionState",value:function(){return re(this._callState,"meetingSessionState"),this._meetingSessionState}},{key:"setMeetingSessionData",value:function(a){var u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"replace";Te(this._callObjectMode,"setMeetingSessionData()"),re(this._callState,"setMeetingSessionData");try{(function(l,f){new nd({data:l,mergeStrategy:f})})(a,u)}catch(l){throw console.error(l),l}try{this.sendMessageToCallMachine({action:"set-session-data",data:a,mergeStrategy:u})}catch(l){throw new Error("Error setting meeting session data: ".concat(l))}}},{key:"setUserName",value:function(a,u){var l=this;return this.properties.userName=a,new Promise((function(f){l.sendMessageToCallMachine({action:"set-user-name",name:a??"",thisMeetingOnly:Q()||!!u&&!!u.thisMeetingOnly},(function(y){delete y.action,delete y.callbackStamp,f(y)}))}))}},{key:"setUserData",value:(z=q((function*(a){var u=this;try{jo(a)}catch(l){throw console.error(l),l}if(this.properties.userData=a,this._callMachineInitialized)return new Promise((function(l){try{u.sendMessageToCallMachine({action:"set-user-data",userData:a},(function(f){delete f.action,delete f.callbackStamp,l(f)}))}catch(f){throw new Error("Error setting user data: ".concat(f))}}))})),function(a){return z.apply(this,arguments)})},{key:"validateAudioLevelInterval",value:function(a){if(a&&(a<100||typeof a!="number"))throw new Error("The interval must be a number greater than or equal to 100 milliseconds.")}},{key:"startLocalAudioLevelObserver",value:function(a){var u=this;if(typeof AudioWorkletNode>"u"&&!Q())throw new Error("startLocalAudioLevelObserver() is not supported on this browser");if(this.validateAudioLevelInterval(a),this._callMachineInitialized)return this._isLocalAudioLevelObserverRunning=!0,new Promise((function(l,f){u.sendMessageToCallMachine({action:"start-local-audio-level-observer",interval:a},(function(y){u._isLocalAudioLevelObserverRunning=!y.error,y.error?f({error:y.error}):l()}))}));this._preloadCache.localAudioLevelObserver={enabled:!0,interval:a}}},{key:"isLocalAudioLevelObserverRunning",value:function(){return this._isLocalAudioLevelObserverRunning}},{key:"stopLocalAudioLevelObserver",value:function(){this._preloadCache.localAudioLevelObserver=null,this._localAudioLevel=0,this._isLocalAudioLevelObserverRunning=!1,this.sendMessageToCallMachine({action:"stop-local-audio-level-observer"})}},{key:"startRemoteParticipantsAudioLevelObserver",value:function(a){var u=this;if(this.validateAudioLevelInterval(a),this._callMachineInitialized)return this._isRemoteParticipantsAudioLevelObserverRunning=!0,new Promise((function(l,f){u.sendMessageToCallMachine({action:"start-remote-participants-audio-level-observer",interval:a},(function(y){u._isRemoteParticipantsAudioLevelObserverRunning=!y.error,y.error?f({error:y.error}):l()}))}));this._preloadCache.remoteParticipantsAudioLevelObserver={enabled:!0,interval:a}}},{key:"isRemoteParticipantsAudioLevelObserverRunning",value:function(){return this._isRemoteParticipantsAudioLevelObserverRunning}},{key:"stopRemoteParticipantsAudioLevelObserver",value:function(){this._preloadCache.remoteParticipantsAudioLevelObserver=null,this._remoteParticipantsAudioLevel={},this._isRemoteParticipantsAudioLevelObserverRunning=!1,this.sendMessageToCallMachine({action:"stop-remote-participants-audio-level-observer"})}},{key:"startCamera",value:(N=q((function*(){var a=this,u=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(Te(this._callObjectMode,"startCamera()"),Hr(this._callState,this._isPreparingToJoin,"startCamera()","Did you mean to use setLocalAudio() and/or setLocalVideo() instead?"),this.needsLoad())try{yield this.load(u)}catch(l){return Promise.reject(l)}else{if(this._didPreAuth){if(u.url&&u.url!==this.properties.url)return console.error("url in startCamera() is different than the one used in preAuth()"),Promise.reject();if(u.token&&u.token!==this.properties.token)return console.error("token in startCamera() is different than the one used in preAuth()"),Promise.reject()}this.validateProperties(u),this.properties=B(B({},this.properties),u)}return new Promise((function(l){a._preloadCache.inputSettings=a._prepInputSettingsForSharing(a._inputSettings,!1),a.sendMessageToCallMachine({action:"start-camera",properties:mt(a.properties,a.callClientId),preloadCache:mt(a._preloadCache,a.callClientId)},(function(f){l({camera:f.camera,mic:f.mic,speaker:f.speaker})}))}))})),function(){return N.apply(this,arguments)})},{key:"validateCustomTrack",value:function(a,u,l){if(l&&l.length>50)throw new Error("Custom track `trackName` must not be more than 50 characters");if(u&&u!=="music"&&u!=="speech"&&!(u instanceof Object))throw new Error("Custom track `mode` must be either `music` | `speech` | `DailyMicAudioModeSettings` or `undefined`");if(l&&["cam-audio","cam-video","screen-video","screen-audio","rmpAudio","rmpVideo","customVideoDefaults"].includes(l))throw new Error("Custom track `trackName` must not match a track name already used by daily: cam-audio, cam-video, customVideoDefaults, screen-video, screen-audio, rmpAudio, rmpVideo");if(!(a instanceof MediaStreamTrack))throw new Error("Custom tracks provided must be instances of MediaStreamTrack")}},{key:"startCustomTrack",value:function(){var a=this,u=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{track,mode,trackName,ignoreAudioLevel};return K(),re(this._callState,"startCustomTrack()"),this.validateCustomTrack(u.track,u.mode,u.trackName),new Promise((function(l,f){a._sharedTracks.customTrack=u.track,u.track=Je,a.sendMessageToCallMachine({action:"start-custom-track",properties:u},(function(y){y.error?f({error:y.error}):l(y.mediaTag)}))}))}},{key:"stopCustomTrack",value:function(a){var u=this;return K(),re(this._callState,"stopCustomTrack()"),new Promise((function(l){u.sendMessageToCallMachine({action:"stop-custom-track",mediaTag:a},(function(f){l(f.mediaTag)}))}))}},{key:"setCamera",value:function(a){var u=this;return It(),ir(this._callMachineInitialized,"setCamera()"),new Promise((function(l){u.sendMessageToCallMachine({action:"set-camera",cameraDeviceId:a},(function(f){l({device:f.device})}))}))}},{key:"setAudioDevice",value:(Z=q((function*(a){return It(),this.nativeUtils().setAudioDevice(a),{deviceId:yield this.nativeUtils().getAudioDevice()}})),function(a){return Z.apply(this,arguments)})},{key:"cycleCamera",value:function(){var a=this,u=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return new Promise((function(l){a.sendMessageToCallMachine({action:"cycle-camera",properties:u},(function(f){l({device:f.device})}))}))}},{key:"cycleMic",value:function(){var a=this;return K(),new Promise((function(u){a.sendMessageToCallMachine({action:"cycle-mic"},(function(l){u({device:l.device})}))}))}},{key:"getCameraFacingMode",value:function(){var a=this;return It(),new Promise((function(u){a.sendMessageToCallMachine({action:"get-camera-facing-mode"},(function(l){u(l.facingMode)}))}))}},{key:"setInputDevicesAsync",value:(V=q((function*(a){var u=this,l=a.audioDeviceId,f=a.videoDeviceId,y=a.audioSource,j=a.videoSource;if(K(),y!==void 0&&(l=y),j!==void 0&&(f=j),typeof l=="boolean"&&(this._setAllowLocalAudio(l),l=void 0),typeof f=="boolean"&&(this._setAllowLocalVideo(f),f=void 0),!l&&!f)return yield this.getInputDevices();var I={};return l&&(l instanceof MediaStreamTrack?(this._sharedTracks.audioTrack=l,l=Je,I.audio={settings:{customTrack:l}}):(delete this._sharedTracks.audioTrack,I.audio={settings:{deviceId:l}})),f&&(f instanceof MediaStreamTrack?(this._sharedTracks.videoTrack=f,f=Je,I.video={settings:{customTrack:f}}):(delete this._sharedTracks.videoTrack,I.video={settings:{deviceId:f}})),this._callObjectMode&&this.needsLoad()?(this._updatePreloadCacheInputSettings(I,!1),this._devicesFromInputSettings(this._inputSettings)):new Promise((function(P){u.sendMessageToCallMachine({action:"set-input-devices",audioDeviceId:l,videoDeviceId:f},(function(F){if(delete F.action,delete F.callbackStamp,F.returnPreloadCache)return u._updatePreloadCacheInputSettings(I,!1),void P(u._devicesFromInputSettings(u._inputSettings));P(F)}))}))})),function(a){return V.apply(this,arguments)})},{key:"setOutputDeviceAsync",value:(R=q((function*(a){var u=this,l=a.outputDeviceId;if(K(),!l||typeof l!="string")throw new Error("outputDeviceId must be provided and must be a valid device id");return this._preloadCache.outputDeviceId=l,this._callObjectMode&&this.needsLoad()?this._devicesFromInputSettings(this._inputSettings):new Promise((function(f,y){u.sendMessageToCallMachine({action:"set-output-device",outputDeviceId:l},(function(j){if(delete j.action,delete j.callbackStamp,j.error){var I=new Error(j.error.message);return I.type=j.error.type,void y(I)}j.returnPreloadCache?f(u._devicesFromInputSettings(u._inputSettings)):f(j)}))}))})),function(a){return R.apply(this,arguments)})},{key:"getInputDevices",value:(L=q((function*(){var a=this;return this._callObjectMode&&this.needsLoad()?this._devicesFromInputSettings(this._inputSettings):new Promise((function(u){a.sendMessageToCallMachine({action:"get-input-devices"},(function(l){l.returnPreloadCache?u(a._devicesFromInputSettings(a._inputSettings)):u({camera:l.camera,mic:l.mic,speaker:l.speaker})}))}))})),function(){return L.apply(this,arguments)})},{key:"nativeInCallAudioMode",value:function(){return It(),this._nativeInCallAudioMode}},{key:"setNativeInCallAudioMode",value:function(a){if(It(),[xs,_d].includes(a)){if(a!==this._nativeInCallAudioMode)return this._nativeInCallAudioMode=a,!this.disableReactNativeAutoDeviceManagement("audio")&&dr(this._callState,this._isPreparingToJoin)&&this.nativeUtils().setAudioMode(this._nativeInCallAudioMode),this}else console.error("invalid in-call audio mode specified: ",a)}},{key:"preAuth",value:(D=q((function*(){var a=this,u=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(Te(this._callObjectMode,"preAuth()"),Hr(this._callState,this._isPreparingToJoin,"preAuth()"),this.needsLoad()&&(yield this.load(u)),!u.url)throw new Error("preAuth() requires at least a url to be provided");return this.validateProperties(u),this.properties=B(B({},this.properties),u),new Promise((function(l,f){a._preloadCache.inputSettings=a._prepInputSettingsForSharing(a._inputSettings,!1),a.sendMessageToCallMachine({action:"daily-method-preauth",properties:mt(a.properties,a.callClientId),preloadCache:mt(a._preloadCache,a.callClientId)},(function(y){return y.error?f(y.error):y.access?(a._didPreAuth=!0,void l({access:y.access})):f(new Error("unknown error in preAuth()"))}))}))})),function(){return D.apply(this,arguments)})},{key:"load",value:(O=q((function*(a){var u=this;if(this.needsLoad()){if(this._destroyed&&(this._logUseAfterDestroy(),this.strictMode))throw new Error("Use after destroy");if(a&&(this.validateProperties(a),this.properties=B(B({},this.properties),a)),!this._callObjectMode&&!this.properties.url)throw new Error("can't load iframe meeting because url property isn't set");return this._updateCallState(ts),this.emitDailyJSEvent({action:wa}),this._callObjectMode?new Promise((function(l,f){u._callObjectLoader.cancel();var y=Date.now();u._callObjectLoader.load(u.properties.dailyConfig,(function(j){u._bundleLoadTime=j?"no-op":Date.now()-y,u._updateCallState(rs),j&&u.emitDailyJSEvent({action:gn}),l()}),(function(j,I){if(u.emitDailyJSEvent({action:Aa}),!I){u._updateCallState(Be),u.resetMeetingDependentVars();var P={action:An,errorMsg:j.msg,error:{type:"connection-error",msg:"Failed to load call object bundle.",details:{on:"load",sourceError:j,bundleUrl:hr(u.properties.dailyConfig)}}};u._maybeSendToSentry(P),u.emitDailyJSEvent(P),f(j.msg)}}))})):(this._iframe.src=Qs(this.assembleMeetingUrl(),this.properties.dailyConfig),new Promise((function(l,f){u._loadedCallback=function(y){u._callState!==Be?(u._updateCallState(rs),(u.properties.cssFile||u.properties.cssText)&&u.loadCss(u.properties),l()):f(y)}})))}})),function(a){return O.apply(this,arguments)})},{key:"join",value:(T=q((function*(){var a=this,u=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this._testCallInProgress&&this.stopTestCallQuality();var l=!1;if(this.needsLoad()){this.updateIsPreparingToJoin(!0);try{yield this.load(u)}catch(f){return this.updateIsPreparingToJoin(!1),Promise.reject(f)}}else{if(l=!(!this.properties.cssFile&&!this.properties.cssText),this._didPreAuth){if(u.url&&u.url!==this.properties.url)return console.error("url in join() is different than the one used in preAuth()"),this.updateIsPreparingToJoin(!1),Promise.reject();if(u.token&&u.token!==this.properties.token)return console.error("token in join() is different than the one used in preAuth()"),this.updateIsPreparingToJoin(!1),Promise.reject()}if(u.url&&!this._callObjectMode&&u.url&&u.url!==this.properties.url)return console.error("url in join() is different than the one used in load() (".concat(this.properties.url," -> ").concat(u.url,")")),this.updateIsPreparingToJoin(!1),Promise.reject();this.validateProperties(u),this.properties=B(B({},this.properties),u)}return u.showLocalVideo!==void 0&&(this._callObjectMode?console.error("showLocalVideo is not available in callObject mode"):this._showLocalVideo=!!u.showLocalVideo),u.showParticipantsBar!==void 0&&(this._callObjectMode?console.error("showParticipantsBar is not available in callObject mode"):this._showParticipantsBar=!!u.showParticipantsBar),this._callState===Ke||this._callState===br?(console.warn("already joined meeting, call leave() before joining again"),void this.updateIsPreparingToJoin(!1)):(this._updateCallState(br,!1),this.emitDailyJSEvent({action:Ea}),this._preloadCache.inputSettings=this._prepInputSettingsForSharing(this._inputSettings||{},!1),this.sendMessageToCallMachine({action:"join-meeting",properties:mt(this.properties,this.callClientId),preloadCache:mt(this._preloadCache,this.callClientId)}),new Promise((function(f,y){a._joinedCallback=function(j,I){if(a._callState!==Be){if(a._updateCallState(Ke),j)for(var P in j){if(a._callObjectMode){var F=a._callMachine().store;fs(j[P],F),ms(j[P],F),gs(j[P],a._participants[P],F)}a._participants[P]=B({},j[P]),a.toggleParticipantAudioBasedOnNativeAudioFocus()}l&&a.loadCss(a.properties),f(j)}else y(I)}})))})),function(){return T.apply(this,arguments)})},{key:"leave",value:(S=q((function*(){var a=this;return this._testCallInProgress&&this.stopTestCallQuality(),new Promise((function(u){a._callState===We||a._callState===Be?u():a._callObjectLoader&&!a._callObjectLoader.loaded?(a._callObjectLoader.cancel(),a._updateCallState(We),a.resetMeetingDependentVars(),a.emitDailyJSEvent({action:We}),u()):(a._resolveLeave=u,a.sendMessageToCallMachine({action:"leave-meeting"}))}))})),function(){return S.apply(this,arguments)})},{key:"startScreenShare",value:(w=q((function*(){var a=this,u=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(ir(this._callMachineInitialized,"startScreenShare()"),u.screenVideoSendSettings&&this._validateVideoSendSettings("screenVideo",u.screenVideoSendSettings),u.mediaStream&&(this._sharedTracks.screenMediaStream=u.mediaStream,u.mediaStream=Je),typeof DailyNativeUtils<"u"&&DailyNativeUtils.isIOS!==void 0&&DailyNativeUtils.isIOS){var l=this.nativeUtils();if(yield l.isScreenBeingCaptured())return void this.emitDailyJSEvent({action:wn,type:"screen-share-error",errorMsg:"Could not start the screen sharing. The screen is already been captured!"});l.setSystemScreenCaptureStartCallback((function(){l.setSystemScreenCaptureStartCallback(null),a.sendMessageToCallMachine({action:is,captureOptions:u})})),l.presentSystemScreenCapturePrompt()}else this.sendMessageToCallMachine({action:is,captureOptions:u})})),function(){return w.apply(this,arguments)})},{key:"stopScreenShare",value:function(){ir(this._callMachineInitialized,"stopScreenShare()"),this.sendMessageToCallMachine({action:"local-screen-stop"})}},{key:"startRecording",value:function(){var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},u=a.type;if(u&&u!=="cloud"&&u!=="raw-tracks"&&u!=="local")throw new Error("invalid type: ".concat(u,", allowed values 'cloud', 'raw-tracks', or 'local'"));this.sendMessageToCallMachine(B({action:"local-recording-start"},a))}},{key:"updateRecording",value:function(a){var u=a.layout,l=u===void 0?{preset:"default"}:u,f=a.instanceId;this.sendMessageToCallMachine({action:"daily-method-update-recording",layout:l,instanceId:f})}},{key:"stopRecording",value:function(){var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.sendMessageToCallMachine(B({action:"local-recording-stop"},a))}},{key:"startLiveStreaming",value:function(){var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.sendMessageToCallMachine(B({action:"daily-method-start-live-streaming"},a))}},{key:"updateLiveStreaming",value:function(a){var u=a.layout,l=u===void 0?{preset:"default"}:u,f=a.instanceId;this.sendMessageToCallMachine({action:"daily-method-update-live-streaming",layout:l,instanceId:f})}},{key:"addLiveStreamingEndpoints",value:function(a){var u=a.endpoints,l=a.instanceId;this.sendMessageToCallMachine({action:ss,endpointsOp:Ku,endpoints:u,instanceId:l})}},{key:"removeLiveStreamingEndpoints",value:function(a){var u=a.endpoints,l=a.instanceId;this.sendMessageToCallMachine({action:ss,endpointsOp:Qu,endpoints:u,instanceId:l})}},{key:"stopLiveStreaming",value:function(){var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.sendMessageToCallMachine(B({action:"daily-method-stop-live-streaming"},a))}},{key:"validateDailyConfig",value:function(a){a.camSimulcastEncodings&&(console.warn("camSimulcastEncodings is deprecated. Use sendSettings, found in DailyCallOptions, to provide camera simulcast settings."),this.validateSimulcastEncodings(a.camSimulcastEncodings)),a.screenSimulcastEncodings&&console.warn("screenSimulcastEncodings is deprecated. Use sendSettings, found in DailyCallOptions, to provide screen simulcast settings."),vo()&&a.noAutoDefaultDeviceChange&&console.warn("noAutoDefaultDeviceChange is not supported on Android, and will be ignored.")}},{key:"validateSimulcastEncodings",value:function(a){var u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,l=arguments.length>2&&arguments[2]!==void 0&&arguments[2];if(a){if(!(a instanceof Array||Array.isArray(a)))throw new Error("encodings must be an Array");if(!Ls(a.length,1,3))throw new Error("encodings must be an Array with between 1 to ".concat(3," layers"));for(var f=0;f<a.length;f++){var y=a[f];for(var j in this._validateEncodingLayerHasValidProperties(y),y)if(Wr.includes(j)){if(typeof y[j]!="number")throw new Error("".concat(j," must be a number"));if(u){var I=u[j],P=I.min,F=I.max;if(!Ls(y[j],P,F))throw new Error("".concat(j," value not in range. valid range: ").concat(P," to ").concat(F))}}else if(!["active","scalabilityMode"].includes(j))throw new Error("Invalid key ".concat(j,", valid keys are:")+Object.values(Wr));if(l&&!y.hasOwnProperty("maxBitrate"))throw new Error("maxBitrate is not specified")}}}},{key:"startRemoteMediaPlayer",value:(A=q((function*(a){var u=this,l=a.url,f=a.settings,y=f===void 0?{state:Sn.PLAY}:f;try{(function(j){if(typeof j!="string")throw new Error('url parameter must be "string" type')})(l),Ds(y),(function(j){for(var I in j)if(!js.includes(I))throw new Error("Invalid key ".concat(I,", valid keys are: ").concat(js));j.simulcastEncodings&&this.validateSimulcastEncodings(j.simulcastEncodings,To,!0)})(y)}catch(j){throw console.error("invalid argument Error: ".concat(j)),console.error(`startRemoteMediaPlayer arguments must be of the form:
  { url: "playback url",
  settings?:
  {state: "play"|"pause", simulcastEncodings?: [{}] } }`),j}return new Promise((function(j,I){u.sendMessageToCallMachine({action:"daily-method-start-remote-media-player",url:l,settings:y},(function(P){P.error?I({error:P.error,errorMsg:P.errorMsg}):j({session_id:P.session_id,remoteMediaPlayerState:{state:P.state,settings:P.settings}})}))}))})),function(a){return A.apply(this,arguments)})},{key:"stopRemoteMediaPlayer",value:(b=q((function*(a){var u=this;if(typeof a!="string")throw new Error(" remotePlayerID must be of type string");return new Promise((function(l,f){u.sendMessageToCallMachine({action:"daily-method-stop-remote-media-player",session_id:a},(function(y){y.error?f({error:y.error,errorMsg:y.errorMsg}):l()}))}))})),function(a){return b.apply(this,arguments)})},{key:"updateRemoteMediaPlayer",value:(_=q((function*(a){var u=this,l=a.session_id,f=a.settings;try{Ds(f)}catch(y){throw console.error("invalid argument Error: ".concat(y)),console.error(`updateRemoteMediaPlayer arguments must be of the form:
  session_id: "participant session",
  { settings?: {state: "play"|"pause"} }`),y}return new Promise((function(y,j){u.sendMessageToCallMachine({action:"daily-method-update-remote-media-player",session_id:l,settings:f},(function(I){I.error?j({error:I.error,errorMsg:I.errorMsg}):y({session_id:I.session_id,remoteMediaPlayerState:{state:I.state,settings:I.settings}})}))}))})),function(a){return _.apply(this,arguments)})},{key:"startTranscription",value:function(a){re(this._callState,"startTranscription()"),this.sendMessageToCallMachine(B({action:"daily-method-start-transcription"},a))}},{key:"updateTranscription",value:function(a){if(re(this._callState,"updateTranscription()"),!a)throw new Error("updateTranscription Error: options is mandatory");if($(a)!=="object")throw new Error("updateTranscription Error: options must be object type");if(a.participants&&!Array.isArray(a.participants))throw new Error("updateTranscription Error: participants must be an array");this.sendMessageToCallMachine(B({action:"daily-method-update-transcription"},a))}},{key:"stopTranscription",value:function(a){if(re(this._callState,"stopTranscription()"),a&&$(a)!=="object")throw new Error("stopTranscription Error: options must be object type");if(a&&!a.instanceId)throw new Error('"instanceId" not provided');this.sendMessageToCallMachine(B({action:"daily-method-stop-transcription"},a))}},{key:"startDialOut",value:(k=q((function*(a){var u=this;re(this._callState,"startDialOut()");var l=function(I){if(I){if(!Array.isArray(I))throw new Error("Error starting dial out: audio codec must be an array");if(I.length<=0)throw new Error("Error starting dial out: audio codec array specified but empty");I.forEach((function(P){if(typeof P!="string")throw new Error("Error starting dial out: audio codec must be a string");if(P!=="OPUS"&&P!=="PCMU"&&P!=="PCMA"&&P!=="G722")throw new Error("Error starting dial out: audio codec must be one of OPUS, PCMU, PCMA, G722")}))}};if(!a.sipUri&&!a.phoneNumber)throw new Error("Error starting dial out: either a sip uri or phone number must be provided");if(a.sipUri&&a.phoneNumber)throw new Error("Error starting dial out: only one of sip uri or phone number must be provided");if(a.sipUri){if(typeof a.sipUri!="string")throw new Error("Error starting dial out: sipUri must be a string");if(!a.sipUri.startsWith("sip:"))throw new Error("Error starting dial out: Invalid SIP URI, must start with 'sip:'");if(a.video&&typeof a.video!="boolean")throw new Error("Error starting dial out: video must be a boolean value");(function(I){if(I&&(l(I.audio),I.video)){if(!Array.isArray(I.video))throw new Error("Error starting dial out: video codec must be an array");if(I.video.length<=0)throw new Error("Error starting dial out: video codec array specified but empty");I.video.forEach((function(P){if(typeof P!="string")throw new Error("Error starting dial out: video codec must be a string");if(P!=="H264"&&P!=="VP8")throw new Error("Error starting dial out: video codec must be H264 or VP8")}))}})(a.codecs)}if(a.phoneNumber){if(typeof a.phoneNumber!="string")throw new Error("Error starting dial out: phoneNumber must be a string");if(!/^\+\d{1,}$/.test(a.phoneNumber))throw new Error("Error starting dial out: Invalid phone number, must be valid phone number as per E.164");a.codecs&&l(a.codecs.audio)}if(a.callerId){if(typeof a.callerId!="string")throw new Error("Error starting dial out: callerId must be a string");if(a.sipUri)throw new Error("Error starting dial out: callerId not allowed with sipUri")}if(a.displayName){if(typeof a.displayName!="string")throw new Error("Error starting dial out: displayName must be a string");if(a.displayName.length>=200)throw new Error("Error starting dial out: displayName length must be less than 200")}if(a.userId){if(typeof a.userId!="string")throw new Error("Error starting dial out: userId must be a string");if(a.userId.length>36)throw new Error("Error starting dial out: userId length must be less than or equal to 36")}if(Ms(a),a.permissions&&a.permissions.canReceive){var f=de(xo.validateJSONObject(a.permissions.canReceive),2),y=f[0],j=f[1];if(!y)throw new Error(j)}if(a.provider){if(a.provider!=="daily")throw new Error("Error: provider can be set only to 'daily', got: ".concat(a.provider));if(a.phoneNumber)throw new Error("Error starting dial out: provider valid only for sipUri, not phoneNumber");console.warn("(pre-beta) provider=daily is currently in pre-beta, things might break!")}return new Promise((function(I,P){u.sendMessageToCallMachine(B({action:"dialout-start"},a),(function(F){F.error?P(F.error):I(F)}))}))})),function(a){return k.apply(this,arguments)})},{key:"stopDialOut",value:function(a){var u=this;return re(this._callState,"stopDialOut()"),new Promise((function(l,f){u.sendMessageToCallMachine(B({action:"dialout-stop"},a),(function(y){y.error?f(y.error):l(y)}))}))}},{key:"sipCallTransfer",value:(m=q((function*(a){var u=this;if(re(this._callState,"sipCallTransfer()"),!a)throw new Error("sipCallTransfer() requires a sessionId and toEndPoint");return a.useSipRefer=!1,Ps(a,"sipCallTransfer"),Ms(a),new Promise((function(l,f){u.sendMessageToCallMachine(B({action:as},a),(function(y){y.error?f(y.error):l(y)}))}))})),function(a){return m.apply(this,arguments)})},{key:"sipRefer",value:(h=q((function*(a){var u=this;if(re(this._callState,"sipRefer()"),!a)throw new Error("sessionId and toEndPoint are mandatory parameter");return a.useSipRefer=!0,Ps(a,"sipRefer"),new Promise((function(l,f){u.sendMessageToCallMachine(B({action:as},a),(function(y){y.error?f(y.error):l(y)}))}))})),function(a){return h.apply(this,arguments)})},{key:"sendDTMF",value:(x=q((function*(a){var u=this;return re(this._callState,"sendDTMF()"),(function(l){var f=l.sessionId,y=l.tones;if(!f||!y)throw new Error("sessionId and tones are mandatory parameter");if(typeof f!="string"||typeof y!="string")throw new Error("sessionId and tones should be of string type");if(y.length>20)throw new Error("tones string must be upto 20 characters");var j=/[^0-9A-D*#]/g,I=y.match(j);if(I&&I[0])throw new Error("".concat(I[0]," is not valid DTMF tone"))})(a),new Promise((function(l,f){u.sendMessageToCallMachine(B({action:"send-dtmf"},a),(function(y){y.error?f(y.error):l(y)}))}))})),function(a){return x.apply(this,arguments)})},{key:"getNetworkStats",value:function(){var a=this;return this._callState!==Ke?Promise.resolve(B({stats:{latest:{}}},this._network)):new Promise((function(u){a.sendMessageToCallMachine({action:"get-calc-stats"},(function(l){u(B(B({},a._network),{},{stats:l.stats}))}))}))}},{key:"testWebsocketConnectivity",value:(C=q((function*(){var a=this;if(Kr(this._testCallInProgress,"testWebsocketConnectivity()"),this.needsLoad())try{yield this.load()}catch(u){return Promise.reject(u)}return new Promise((function(u,l){a.sendMessageToCallMachine({action:"test-websocket-connectivity"},(function(f){f.error?l(f.error):u(f.results)}))}))})),function(){return C.apply(this,arguments)})},{key:"abortTestWebsocketConnectivity",value:function(){this.sendMessageToCallMachine({action:"abort-test-websocket-connectivity"})}},{key:"_validateVideoTrackForNetworkTests",value:function(a){return a?a instanceof MediaStreamTrack?!!yd(a)||(console.error("Video track is not playable. This test needs a live video track."),!1):(console.error("Video track needs to be of type `MediaStreamTrack`."),!1):(console.error("Missing video track. You must provide a video track in order to run this test."),!1)}},{key:"testCallQuality",value:(E=q((function*(){var a=this;K(),Te(this._callObjectMode,"testCallQuality()"),ir(this._callMachineInitialized,"testCallQuality()",null,!0),Hr(this._callState,this._isPreparingToJoin,"testCallQuality()");var u=this._testCallAlreadyInProgress,l=function(y){u||(a._testCallInProgress=y)};if(l(!0),this.needsLoad())try{var f=this._callState;yield this.load(),this._callState=f}catch(y){return l(!1),Promise.reject(y)}return new Promise((function(y){a.sendMessageToCallMachine({action:"test-call-quality",dailyJsVersion:a.properties.dailyJsVersion},(function(j){var I=j.results,P=I.result,F=Qn(I,Ad);if(P==="failed"){var G,X=B({},F);(G=F.error)!==null&&G!==void 0&&G.details?(F.error.details=JSON.parse(F.error.details),X.error=B(B({},X.error),{},{details:B({},X.error.details)}),X.error.details.duringTest="testCallQuality"):(X.error=X.error?B({},X.error):{},X.error.details={duringTest:"testCallQuality"}),a._maybeSendToSentry(X)}l(!1),y(B({result:P},F))}))}))})),function(){return E.apply(this,arguments)})},{key:"stopTestCallQuality",value:function(){this.sendMessageToCallMachine({action:"stop-test-call-quality"})}},{key:"testConnectionQuality",value:(v=q((function*(a){var u;Q()?(console.warn("testConnectionQuality() is deprecated: use testPeerToPeerCallQuality() instead"),u=yield this.testPeerToPeerCallQuality(a)):(console.warn("testConnectionQuality() is deprecated: use testCallQuality() instead"),u=yield this.testCallQuality());var l={result:u.result,secondsElapsed:u.secondsElapsed};return u.data&&(l.data={maxRTT:u.data.maxRoundTripTime,packetLoss:u.data.avgRecvPacketLoss}),l})),function(a){return v.apply(this,arguments)})},{key:"testPeerToPeerCallQuality",value:(p=q((function*(a){var u=this;if(Kr(this._testCallInProgress,"testPeerToPeerCallQuality()"),this.needsLoad())try{yield this.load()}catch(y){return Promise.reject(y)}var l=a.videoTrack,f=a.duration;if(!this._validateVideoTrackForNetworkTests(l))throw new Error("Video track error");return this._sharedTracks.videoTrackForConnectionQualityTest=l,new Promise((function(y,j){u.sendMessageToCallMachine({action:"test-p2p-call-quality",duration:f},(function(I){I.error?j(I.error):y(I.results)}))}))})),function(a){return p.apply(this,arguments)})},{key:"stopTestConnectionQuality",value:function(){Q()?(console.warn("stopTestConnectionQuality() is deprecated: use testPeerToPeerCallQuality() and stopTestPeerToPeerCallQuality() instead"),this.stopTestPeerToPeerCallQuality()):(console.warn("stopTestConnectionQuality() is deprecated: use testCallQuality() and stopTestCallQuality() instead"),this.stopTestCallQuality())}},{key:"stopTestPeerToPeerCallQuality",value:function(){this.sendMessageToCallMachine({action:"stop-test-p2p-call-quality"})}},{key:"testNetworkConnectivity",value:(d=q((function*(a){var u=this;if(Kr(this._testCallInProgress,"testNetworkConnectivity()"),this.needsLoad())try{yield this.load()}catch(l){return Promise.reject(l)}if(!this._validateVideoTrackForNetworkTests(a))throw new Error("Video track error");return this._sharedTracks.videoTrackForNetworkConnectivityTest=a,new Promise((function(l,f){u.sendMessageToCallMachine({action:"test-network-connectivity"},(function(y){y.error?f(y.error):l(y.results)}))}))})),function(a){return d.apply(this,arguments)})},{key:"abortTestNetworkConnectivity",value:function(){this.sendMessageToCallMachine({action:"abort-test-network-connectivity"})}},{key:"getCpuLoadStats",value:function(){var a=this;return new Promise((function(u){a._callState===Ke?a.sendMessageToCallMachine({action:"get-cpu-load-stats"},(function(l){u(l.cpuStats)})):u({cpuLoadState:void 0,cpuLoadStateReason:void 0,stats:{}})}))}},{key:"_validateEncodingLayerHasValidProperties",value:function(a){var u;if(!(((u=Object.keys(a))===null||u===void 0?void 0:u.length)>0))throw new Error("Empty encoding is not allowed. At least one of these valid keys should be specified:"+Object.values(Wr))}},{key:"_validateVideoSendSettings",value:function(a,u){var l=a==="screenVideo"?["default-screen-video","detail-optimized","motion-optimized","motion-and-detail-balanced"]:["default-video","bandwidth-optimized","bandwidth-and-quality-balanced","quality-optimized","adaptive-2-layers","adaptive-3-layers"],f="Video send settings should be either an object or one of the supported presets: ".concat(l.join());if(typeof u=="string"){if(!l.includes(u))throw new Error(f)}else{if($(u)!=="object")throw new Error(f);if(!u.maxQuality&&!u.encodings&&u.allowAdaptiveLayers===void 0)throw new Error("Video send settings must contain at least maxQuality, allowAdaptiveLayers or encodings attribute");if(u.maxQuality&&["low","medium","high"].indexOf(u.maxQuality)===-1)throw new Error("maxQuality must be either low, medium or high");if(u.encodings){var y=!1;switch(Object.keys(u.encodings).length){case 1:y=!u.encodings.low;break;case 2:y=!u.encodings.low||!u.encodings.medium;break;case 3:y=!u.encodings.low||!u.encodings.medium||!u.encodings.high;break;default:y=!0}if(y)throw new Error("Encodings must be defined as: low, low and medium, or low, medium and high.");u.encodings.low&&this._validateEncodingLayerHasValidProperties(u.encodings.low),u.encodings.medium&&this._validateEncodingLayerHasValidProperties(u.encodings.medium),u.encodings.high&&this._validateEncodingLayerHasValidProperties(u.encodings.high)}}}},{key:"validateUpdateSendSettings",value:function(a){var u=this;if(!a||Object.keys(a).length===0)throw new Error("Send settings must contain at least information for one track!");Object.entries(a).forEach((function(l){var f=de(l,2),y=f[0],j=f[1];u._validateVideoSendSettings(y,j)}))}},{key:"updateSendSettings",value:function(a){var u=this;return this.validateUpdateSendSettings(a),this.needsLoad()?(this._preloadCache.sendSettings=a,{sendSettings:this._preloadCache.sendSettings}):new Promise((function(l,f){u.sendMessageToCallMachine({action:"update-send-settings",sendSettings:a},(function(y){y.error?f(y.error):l(y.sendSettings)}))}))}},{key:"getSendSettings",value:function(){return this._sendSettings||this._preloadCache.sendSettings}},{key:"getLocalAudioLevel",value:function(){return this._localAudioLevel}},{key:"getRemoteParticipantsAudioLevel",value:function(){return this._remoteParticipantsAudioLevel}},{key:"getActiveSpeaker",value:function(){return K(),this._activeSpeaker}},{key:"setActiveSpeakerMode",value:function(a){return K(),this.sendMessageToCallMachine({action:"set-active-speaker-mode",enabled:a}),this}},{key:"activeSpeakerMode",value:function(){return K(),this._activeSpeakerMode}},{key:"subscribeToTracksAutomatically",value:function(){return this._preloadCache.subscribeToTracksAutomatically}},{key:"setSubscribeToTracksAutomatically",value:function(a){return re(this._callState,"setSubscribeToTracksAutomatically()","Use the subscribeToTracksAutomatically configuration property."),this._preloadCache.subscribeToTracksAutomatically=a,this.sendMessageToCallMachine({action:"daily-method-subscribe-to-tracks-automatically",enabled:a}),this}},{key:"enumerateDevices",value:(c=q((function*(){var a=this;if(this._callObjectMode){var u=yield navigator.mediaDevices.enumerateDevices();return dt()==="Firefox"&&wr().major>115&&wr().major<123&&(u=u.filter((function(l){return l.kind!=="audiooutput"}))),{devices:u.map((function(l){var f=JSON.parse(JSON.stringify(l));if(!Q()&&l.kind==="videoinput"&&l.getCapabilities){var y,j=l.getCapabilities();f.facing=(j==null||(y=j.facingMode)===null||y===void 0?void 0:y.length)>=1?j.facingMode[0]:void 0}return f}))}}return new Promise((function(l){a.sendMessageToCallMachine({action:"enumerate-devices"},(function(f){l({devices:f.devices})}))}))})),function(){return c.apply(this,arguments)})},{key:"sendAppMessage",value:function(a){var u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"*";if(re(this._callState,"sendAppMessage()"),JSON.stringify(a).length>this._maxAppMessageSize)throw new Error("Message data too large. Max size is "+this._maxAppMessageSize);return this.sendMessageToCallMachine({action:"app-msg",data:a,to:u}),this}},{key:"addFakeParticipant",value:function(a){return K(),re(this._callState,"addFakeParticipant()"),this.sendMessageToCallMachine(B({action:"add-fake-participant"},a)),this}},{key:"setShowNamesMode",value:function(a){return ve(this._callObjectMode,"setShowNamesMode()"),K(),a&&a!=="always"&&a!=="never"?(console.error('setShowNamesMode argument should be "always", "never", or false'),this):(this.sendMessageToCallMachine({action:"set-show-names",mode:a}),this)}},{key:"setShowLocalVideo",value:function(){var a=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];return ve(this._callObjectMode,"setShowLocalVideo()"),K(),re(this._callState,"setShowLocalVideo()"),typeof a!="boolean"?(console.error("setShowLocalVideo only accepts a boolean value"),this):(this.sendMessageToCallMachine({action:"set-show-local-video",show:a}),this._showLocalVideo=a,this)}},{key:"showLocalVideo",value:function(){return ve(this._callObjectMode,"showLocalVideo()"),K(),this._showLocalVideo}},{key:"setShowParticipantsBar",value:function(){var a=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];return ve(this._callObjectMode,"setShowParticipantsBar()"),K(),re(this._callState,"setShowParticipantsBar()"),typeof a!="boolean"?(console.error("setShowParticipantsBar only accepts a boolean value"),this):(this.sendMessageToCallMachine({action:"set-show-participants-bar",show:a}),this._showParticipantsBar=a,this)}},{key:"showParticipantsBar",value:function(){return ve(this._callObjectMode,"showParticipantsBar()"),K(),this._showParticipantsBar}},{key:"customIntegrations",value:function(){return K(),ve(this._callObjectMode,"customIntegrations()"),this._customIntegrations}},{key:"setCustomIntegrations",value:function(a){return K(),ve(this._callObjectMode,"setCustomIntegrations()"),re(this._callState,"setCustomIntegrations()"),No(a)?(this.sendMessageToCallMachine({action:"set-custom-integrations",integrations:a}),this._customIntegrations=a,this):this}},{key:"startCustomIntegrations",value:function(a){var u=this;if(K(),ve(this._callObjectMode,"startCustomIntegrations()"),re(this._callState,"startCustomIntegrations()"),Array.isArray(a)&&a.some((function(y){return typeof y!="string"}))||!Array.isArray(a)&&typeof a!="string")return console.error("startCustomIntegrations() only accepts string | string[]"),this;var l=typeof a=="string"?[a]:a,f=l.filter((function(y){return!(y in u._customIntegrations)}));return f.length?(console.error(`Can't find custom integration(s): "`.concat(f.join(", "),'"')),this):(this.sendMessageToCallMachine({action:"start-custom-integrations",ids:l}),this)}},{key:"stopCustomIntegrations",value:function(a){var u=this;if(K(),ve(this._callObjectMode,"stopCustomIntegrations()"),re(this._callState,"stopCustomIntegrations()"),Array.isArray(a)&&a.some((function(y){return typeof y!="string"}))||!Array.isArray(a)&&typeof a!="string")return console.error("stopCustomIntegrations() only accepts string | string[]"),this;var l=typeof a=="string"?[a]:a,f=l.filter((function(y){return!(y in u._customIntegrations)}));return f.length?(console.error(`Can't find custom integration(s): "`.concat(f.join(", "),'"')),this):(this.sendMessageToCallMachine({action:"stop-custom-integrations",ids:l}),this)}},{key:"customTrayButtons",value:function(){return ve(this._callObjectMode,"customTrayButtons()"),K(),this._customTrayButtons}},{key:"updateCustomTrayButtons",value:function(a){return ve(this._callObjectMode,"updateCustomTrayButtons()"),K(),re(this._callState,"updateCustomTrayButtons()"),Lo(a)?(this.sendMessageToCallMachine({action:"update-custom-tray-buttons",btns:a}),this._customTrayButtons=a,this):(console.error("updateCustomTrayButtons only accepts a dictionary of the type ".concat(JSON.stringify(Sr))),this)}},{key:"theme",value:function(){return ve(this._callObjectMode,"theme()"),this.properties.theme}},{key:"setTheme",value:function(a){var u=this;return ve(this._callObjectMode,"setTheme()"),new Promise((function(l,f){try{u.validateProperties({theme:a}),u.properties.theme=B({},a),u.sendMessageToCallMachine({action:"set-theme",theme:u.properties.theme});try{u.emitDailyJSEvent({action:ba,theme:u.properties.theme})}catch(y){console.log("could not emit 'theme-updated'",y)}l(u.properties.theme)}catch(y){f(y)}}))}},{key:"requestFullscreen",value:(s=q((function*(){if(K(),this._iframe&&!document.fullscreenElement&&os())try{(yield this._iframe.requestFullscreen)?this._iframe.requestFullscreen():this._iframe.webkitRequestFullscreen()}catch(a){console.log("could not make video call fullscreen",a)}})),function(){return s.apply(this,arguments)})},{key:"exitFullscreen",value:function(){K(),document.fullscreenElement?document.exitFullscreen():document.webkitFullscreenElement&&document.webkitExitFullscreen()}},{key:"getSidebarView",value:(n=q((function*(){var a=this;return this._callObjectMode?(console.error("getSidebarView is not available in callObject mode"),Promise.resolve(null)):new Promise((function(u){a.sendMessageToCallMachine({action:"get-sidebar-view"},(function(l){u(l.view)}))}))})),function(){return n.apply(this,arguments)})},{key:"setSidebarView",value:function(a){return this._callObjectMode?(console.error("setSidebarView is not available in callObject mode"),this):(this.sendMessageToCallMachine({action:"set-sidebar-view",view:a}),this)}},{key:"room",value:(o=q((function*(){var a=this,u=(arguments.length>0&&arguments[0]!==void 0?arguments[0]:{}).includeRoomConfigDefaults,l=u===void 0||u;return this._accessState.access===lr||this.needsLoad()?this.properties.url?{roomUrlPendingJoin:this.properties.url}:null:new Promise((function(f){a.sendMessageToCallMachine({action:"lib-room-info",includeRoomConfigDefaults:l},(function(y){delete y.action,delete y.callbackStamp,f(y)}))}))})),function(){return o.apply(this,arguments)})},{key:"geo",value:(i=q((function*(){try{var a=yield fetch("https://gs.daily.co/_ks_/x-swsl/:");return{current:(yield a.json()).geo}}catch(u){return console.error("geo lookup failed",u),{current:""}}})),function(){return i.apply(this,arguments)})},{key:"setNetworkTopology",value:(r=q((function*(a){var u=this;return K(),re(this._callState,"setNetworkTopology()"),new Promise((function(l,f){u.sendMessageToCallMachine({action:"set-network-topology",opts:a},(function(y){y.error?f({error:y.error}):l({workerId:y.workerId})}))}))})),function(a){return r.apply(this,arguments)})},{key:"getNetworkTopology",value:(e=q((function*(){var a=this;return new Promise((function(u,l){a.needsLoad()&&u({topology:"none"}),a.sendMessageToCallMachine({action:"get-network-topology"},(function(f){f.error?l({error:f.error}):u({topology:f.topology})}))}))})),function(){return e.apply(this,arguments)})},{key:"setPlayNewParticipantSound",value:function(a){if(K(),typeof a!="number"&&a!==!0&&a!==!1)throw new Error("argument to setShouldPlayNewParticipantSound should be true, false, or a number, but is ".concat(a));this.sendMessageToCallMachine({action:"daily-method-set-play-ding",arg:a})}},{key:"on",value:function(a,u){return Wt.prototype.on.call(this,a,u)}},{key:"once",value:function(a,u){return Wt.prototype.once.call(this,a,u)}},{key:"off",value:function(a,u){return Wt.prototype.off.call(this,a,u)}},{key:"validateProperties",value:function(a){var u,l;if(a!=null&&(u=a.dailyConfig)!==null&&u!==void 0&&u.userMediaAudioConstraints){var f,y;Q()||console.warn("userMediaAudioConstraints is deprecated. You can override constraints with inputSettings.audio.settings, found in DailyCallOptions.");var j=a.inputSettings||{};j.audio=((f=a.inputSettings)===null||f===void 0?void 0:f.audio)||{},j.audio.settings=((y=a.inputSettings)===null||y===void 0||(y=y.audio)===null||y===void 0?void 0:y.settings)||{},j.audio.settings=B(B({},j.audio.settings),a.dailyConfig.userMediaAudioConstraints),a.inputSettings=j,delete a.dailyConfig.userMediaAudioConstraints}if(a!=null&&(l=a.dailyConfig)!==null&&l!==void 0&&l.userMediaVideoConstraints){var I,P;Q()||console.warn("userMediaVideoConstraints is deprecated. You can override constraints with inputSettings.video.settings, found in DailyCallOptions.");var F=a.inputSettings||{};F.video=((I=a.inputSettings)===null||I===void 0?void 0:I.video)||{},F.video.settings=((P=a.inputSettings)===null||P===void 0||(P=P.video)===null||P===void 0?void 0:P.settings)||{},F.video.settings=B(B({},F.video.settings),a.dailyConfig.userMediaVideoConstraints),a.inputSettings=F,delete a.dailyConfig.userMediaVideoConstraints}for(var G in a)if(rt[G]){if(rt[G].validate&&!rt[G].validate(a[G],this))throw new Error("property '".concat(G,"': ").concat(rt[G].help))}else console.warn("Ignoring unrecognized property '".concat(G,"'")),delete a[G]}},{key:"assembleMeetingUrl",value:function(){var a,u,l=B(B({},this.properties),{},{emb:this.callClientId,embHref:encodeURIComponent(window.location.href),proxy:(a=this.properties.dailyConfig)!==null&&a!==void 0&&a.proxyUrl?encodeURIComponent((u=this.properties.dailyConfig)===null||u===void 0?void 0:u.proxyUrl):void 0}),f=l.url.match(/\?/)?"&":"?";return l.url+f+Object.keys(rt).filter((function(y){return rt[y].queryString&&l[y]!==void 0})).map((function(y){return"".concat(rt[y].queryString,"=").concat(l[y])})).join("&")}},{key:"needsLoad",value:function(){return[fn,ts,We,Be].includes(this._callState)}},{key:"sendMessageToCallMachine",value:function(a,u){if(this._destroyed&&(this._logUseAfterDestroy(),this.strictMode))throw new Error("Use after destroy");this._messageChannel.sendMessageToCallMachine(a,u,this.callClientId,this._iframe)}},{key:"forwardPackagedMessageToCallMachine",value:function(a){this._messageChannel.forwardPackagedMessageToCallMachine(a,this._iframe,this.callClientId)}},{key:"addListenerForPackagedMessagesFromCallMachine",value:function(a){return this._messageChannel.addListenerForPackagedMessagesFromCallMachine(a,this.callClientId)}},{key:"removeListenerForPackagedMessagesFromCallMachine",value:function(a){this._messageChannel.removeListenerForPackagedMessagesFromCallMachine(a)}},{key:"handleMessageFromCallMachine",value:function(a){switch(a.action){case va:this.sendMessageToCallMachine(B({action:ya},this.properties));break;case"call-machine-initialized":this._callMachineInitialized=!0;var u={action:tr,level:"log",code:1011,stats:{event:"bundle load",time:this._bundleLoadTime==="no-op"?0:this._bundleLoadTime,preLoaded:this._bundleLoadTime==="no-op",url:hr(this.properties.dailyConfig)}};this.sendMessageToCallMachine(u),this._delayDuplicateInstanceLog&&this._logDuplicateInstanceAttempt();break;case gn:this._loadedCallback&&(this._loadedCallback(),this._loadedCallback=null),this.emitDailyJSEvent(a);break;case ka:var l,f=B({},a);delete f.internal,this._maxAppMessageSize=((l=a.internal)===null||l===void 0?void 0:l._maxAppMessageSize)||Vr,this._joinedCallback&&(this._joinedCallback(a.participants),this._joinedCallback=null),this.emitDailyJSEvent(f);break;case Ca:case Ta:if(this._callState===We)return;if(a.participant&&a.participant.session_id){var y=a.participant.local?"local":a.participant.session_id;if(this._callObjectMode){var j=this._callMachine().store;fs(a.participant,j),ms(a.participant,j),gs(a.participant,this._participants[y],j)}try{this.maybeParticipantTracksStopped(this._participants[y],a.participant),this.maybeParticipantTracksStarted(this._participants[y],a.participant),this.maybeEventRecordingStopped(this._participants[y],a.participant),this.maybeEventRecordingStarted(this._participants[y],a.participant)}catch(Bo){console.error("track events error",Bo)}this.compareEqualForParticipantUpdateEvent(a.participant,this._participants[y])||(this._participants[y]=B({},a.participant),this.toggleParticipantAudioBasedOnNativeAudioFocus(),this.emitDailyJSEvent(a))}break;case ja:if(a.participant&&a.participant.session_id){var I=this._participants[a.participant.session_id];I&&this.maybeParticipantTracksStopped(I,null),delete this._participants[a.participant.session_id],this.emitDailyJSEvent(a)}break;case Oa:fe(this._participantCounts,a.participantCounts)||(this._participantCounts=a.participantCounts,this.emitDailyJSEvent(a));break;case Ma:var P={access:a.access};a.awaitingAccess&&(P.awaitingAccess=a.awaitingAccess),fe(this._accessState,P)||(this._accessState=P,this.emitDailyJSEvent(a));break;case Ia:if(a.meetingSession){this._meetingSessionSummary=a.meetingSession,this.emitDailyJSEvent(a);var F=B(B({},a),{},{action:"meeting-session-updated"});this.emitDailyJSEvent(F)}break;case An:var G;this._iframe&&!a.preserveIframe&&(this._iframe.src=""),this._updateCallState(Be),this.resetMeetingDependentVars(),this._loadedCallback&&(this._loadedCallback(a.errorMsg),this._loadedCallback=null),a.preserveIframe;var X=Qn(a,Sd);X!=null&&(G=X.error)!==null&&G!==void 0&&G.details&&(X.error.details=JSON.parse(X.error.details)),this._maybeSendToSentry(a),this._joinedCallback&&(this._joinedCallback(null,X),this._joinedCallback=null),this.emitDailyJSEvent(X);break;case xa:this._callState!==Be&&this._updateCallState(We),this.resetMeetingDependentVars(),this._resolveLeave&&(this._resolveLeave(),this._resolveLeave=null),this.emitDailyJSEvent(a);break;case"selected-devices-updated":a.devices&&this.emitDailyJSEvent(a);break;case ro:var Ie=a.state,$e=a.threshold,xt=a.quality,oe=Ie.state,Se=Ie.reasons;oe===this._network.networkState&&fe(Se,this._network.networkStateReasons)&&$e===this._network.threshold&&xt===this._network.quality||(this._network.networkState=oe,this._network.networkStateReasons=Se,this._network.quality=xt,this._network.threshold=$e,a.networkState=oe,Se.length&&(a.networkStateReasons=Se),delete a.state,this.emitDailyJSEvent(a));break;case io:a&&a.cpuLoadState&&this.emitDailyJSEvent(a);break;case so:a&&a.faceCounts!==void 0&&this.emitDailyJSEvent(a);break;case eo:var Ze=a.activeSpeaker;this._activeSpeaker.peerId!==Ze.peerId&&(this._activeSpeaker.peerId=Ze.peerId,this.emitDailyJSEvent({action:a.action,activeSpeaker:this._activeSpeaker}));break;case"show-local-video-changed":if(this._callObjectMode)return;var Ct=a.show;this._showLocalVideo=Ct,this.emitDailyJSEvent({action:a.action,show:Ct});break;case to:var zt=a.enabled;this._activeSpeakerMode!==zt&&(this._activeSpeakerMode=zt,this.emitDailyJSEvent({action:a.action,enabled:this._activeSpeakerMode}));break;case Da:case La:case Na:this._waitingParticipants=a.allWaitingParticipants,this.emitDailyJSEvent({action:a.action,participant:a.participant});break;case po:fe(this._receiveSettings,a.receiveSettings)||(this._receiveSettings=a.receiveSettings,this.emitDailyJSEvent({action:a.action,receiveSettings:a.receiveSettings}));break;case bn:this._maybeUpdateInputSettings(a.inputSettings);break;case"send-settings-updated":fe(this._sendSettings,a.sendSettings)||(this._sendSettings=a.sendSettings,this._preloadCache.sendSettings=null,this.emitDailyJSEvent({action:a.action,sendSettings:a.sendSettings}));break;case"local-audio-level":this._localAudioLevel=a.audioLevel,this._preloadCache.localAudioLevelObserver=null,this.emitDailyJSEvent(a);break;case"remote-participants-audio-level":this._remoteParticipantsAudioLevel=a.participantsAudioLevel,this._preloadCache.remoteParticipantsAudioLevelObserver=null,this.emitDailyJSEvent(a);break;case Ha:var Tt=a.session_id;this._rmpPlayerState[Tt]=a.playerState,this.emitDailyJSEvent(a);break;case Qa:delete this._rmpPlayerState[a.session_id],this.emitDailyJSEvent(a);break;case Ka:var jt=a.session_id,Yn=this._rmpPlayerState[jt];Yn&&this.compareEqualForRMPUpdateEvent(Yn,a.remoteMediaPlayerState)||(this._rmpPlayerState[jt]=a.remoteMediaPlayerState,this.emitDailyJSEvent(a));break;case"custom-button-click":case"sidebar-view-changed":case"pip-started":case"pip-stopped":this.emitDailyJSEvent(a);break;case Pa:var Fo=this._meetingSessionState.topology!==(a.meetingSessionState&&a.meetingSessionState.topology);this._meetingSessionState=Qr(a.meetingSessionState,this._callObjectMode),(this._callObjectMode||Fo)&&this.emitDailyJSEvent(a);break;case Xa:this._isScreenSharing=!0,this.emitDailyJSEvent(a);break;case $a:case Za:this._isScreenSharing=!1,this.emitDailyJSEvent(a);break;case vn:case yn:case qa:case Ja:case Ya:case Ba:case Ua:case Va:case Sa:case _a:case Ga:case Wa:case"test-completed":case no:case za:case ao:case oo:case co:case lo:case wn:case uo:case"dialin-ready":case"dialin-connected":case"dialin-error":case"dialin-stopped":case"dialin-warning":case"dialout-connected":case"dialout-answered":case"dialout-error":case"dialout-stopped":case"dialout-warning":this.emitDailyJSEvent(a);break;case"request-fullscreen":this.requestFullscreen();break;case"request-exit-fullscreen":this.exitFullscreen()}}},{key:"maybeEventRecordingStopped",value:function(a,u){var l="record";a&&(u.local||u[l]!==!1||a[l]===u[l]||this.emitDailyJSEvent({action:yn}))}},{key:"maybeEventRecordingStarted",value:function(a,u){var l="record";a&&(u.local||u[l]!==!0||a[l]===u[l]||this.emitDailyJSEvent({action:vn}))}},{key:"_trackStatePlayable",value:function(a){return!(!a||a.state!==pa)}},{key:"_trackChanged",value:function(a,u){return(a==null?void 0:a.id)!==(u==null?void 0:u.id)}},{key:"maybeEventTrackStopped",value:function(a,u,l){var f,y,j=(f=u==null?void 0:u.tracks[a])!==null&&f!==void 0?f:null,I=(y=l==null?void 0:l.tracks[a])!==null&&y!==void 0?y:null,P=j==null?void 0:j.track;if(P){var F=this._trackStatePlayable(j),G=this._trackStatePlayable(I),X=this._trackChanged(P,I==null?void 0:I.track);F&&(G&&!X||this.emitDailyJSEvent({action:Fa,track:P,participant:l??u,type:a}))}}},{key:"maybeEventTrackStarted",value:function(a,u,l){var f,y,j=(f=u==null?void 0:u.tracks[a])!==null&&f!==void 0?f:null,I=(y=l==null?void 0:l.tracks[a])!==null&&y!==void 0?y:null,P=I==null?void 0:I.track;if(P){var F=this._trackStatePlayable(j),G=this._trackStatePlayable(I),X=this._trackChanged(j==null?void 0:j.track,P);G&&(F&&!X||this.emitDailyJSEvent({action:Ra,track:P,participant:l,type:a}))}}},{key:"maybeParticipantTracksStopped",value:function(a,u){if(a)for(var l in a.tracks)this.maybeEventTrackStopped(l,a,u)}},{key:"maybeParticipantTracksStarted",value:function(a,u){if(u)for(var l in u.tracks)this.maybeEventTrackStarted(l,a,u)}},{key:"compareEqualForRMPUpdateEvent",value:function(a,u){var l,f;return a.state===u.state&&((l=a.settings)===null||l===void 0?void 0:l.volume)===((f=u.settings)===null||f===void 0?void 0:f.volume)}},{key:"emitDailyJSEvent",value:function(a){try{a.callClientId=this.callClientId,this.emit(a.action,a)}catch(u){console.log("could not emit",a,u)}}},{key:"compareEqualForParticipantUpdateEvent",value:function(a,u){return!!fe(a,u)&&(!a.videoTrack||!u.videoTrack||a.videoTrack.id===u.videoTrack.id&&a.videoTrack.muted===u.videoTrack.muted&&a.videoTrack.enabled===u.videoTrack.enabled)&&(!a.audioTrack||!u.audioTrack||a.audioTrack.id===u.audioTrack.id&&a.audioTrack.muted===u.audioTrack.muted&&a.audioTrack.enabled===u.audioTrack.enabled)}},{key:"nativeUtils",value:function(){return Q()?typeof DailyNativeUtils>"u"?(console.warn("in React Native, DailyNativeUtils is expected to be available"),null):DailyNativeUtils:null}},{key:"updateIsPreparingToJoin",value:function(a){this._updateCallState(this._callState,a)}},{key:"_updateCallState",value:function(a){var u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this._isPreparingToJoin;if(a!==this._callState||u!==this._isPreparingToJoin){var l=this._callState,f=this._isPreparingToJoin;this._callState=a,this._isPreparingToJoin=u;var y=this._callState===Ke;this.updateShowAndroidOngoingMeetingNotification(y);var j=dr(l,f),I=dr(this._callState,this._isPreparingToJoin);j!==I&&(this.updateKeepDeviceAwake(I),this.updateDeviceAudioMode(I),this.updateNoOpRecordingEnsuringBackgroundContinuity(I))}}},{key:"resetMeetingDependentVars",value:function(){this._participants={},this._participantCounts=Ts,this._waitingParticipants={},this._activeSpeaker={},this._activeSpeakerMode=!1,this._didPreAuth=!1,this._accessState={access:lr},this._finalSummaryOfPrevSession=this._meetingSessionSummary,this._meetingSessionSummary={},this._meetingSessionState=Qr(Cs,this._callObjectMode),this._isScreenSharing=!1,this._receiveSettings={},this._inputSettings=void 0,this._sendSettings={},this._localAudioLevel=0,this._isLocalAudioLevelObserverRunning=!1,this._remoteParticipantsAudioLevel={},this._isRemoteParticipantsAudioLevelObserverRunning=!1,this._maxAppMessageSize=Vr,this._callMachineInitialized=!1,this._bundleLoadTime=void 0,this._preloadCache}},{key:"updateKeepDeviceAwake",value:function(a){Q()&&this.nativeUtils().setKeepDeviceAwake(a,this.callClientId)}},{key:"updateDeviceAudioMode",value:function(a){if(Q()&&!this.disableReactNativeAutoDeviceManagement("audio")){var u=a?this._nativeInCallAudioMode:"idle";this.nativeUtils().setAudioMode(u)}}},{key:"updateShowAndroidOngoingMeetingNotification",value:function(a){if(Q()&&this.nativeUtils().setShowOngoingMeetingNotification){var u,l,f,y;if(this.properties.reactNativeConfig&&this.properties.reactNativeConfig.androidInCallNotification){var j=this.properties.reactNativeConfig.androidInCallNotification;u=j.title,l=j.subtitle,f=j.iconName,y=j.disableForCustomOverride}y&&(a=!1),this.nativeUtils().setShowOngoingMeetingNotification(a,u,l,f,this.callClientId)}}},{key:"updateNoOpRecordingEnsuringBackgroundContinuity",value:function(a){Q()&&this.nativeUtils().enableNoOpRecordingEnsuringBackgroundContinuity&&this.nativeUtils().enableNoOpRecordingEnsuringBackgroundContinuity(a)}},{key:"toggleParticipantAudioBasedOnNativeAudioFocus",value:function(){var a;if(Q()){var u=(a=this._callMachine())===null||a===void 0||(a=a.store)===null||a===void 0?void 0:a.getState();for(var l in u==null?void 0:u.streams){var f=u.streams[l];f&&f.pendingTrack&&f.pendingTrack.kind==="audio"&&(f.pendingTrack.enabled=this._hasNativeAudioFocus)}}}},{key:"disableReactNativeAutoDeviceManagement",value:function(a){return this.properties.reactNativeConfig&&this.properties.reactNativeConfig.disableAutoDeviceManagement&&this.properties.reactNativeConfig.disableAutoDeviceManagement[a]}},{key:"absoluteUrl",value:function(a){if(a!==void 0){var u=document.createElement("a");return u.href=a,u.href}}},{key:"sayHello",value:function(){var a="hello, world.";return console.log(a),a}},{key:"_logUseAfterDestroy",value:function(){var a=Object.values(tt)[0];if(this.needsLoad())if(a&&!a.needsLoad()){var u={action:tr,level:"error",code:this.strictMode?9995:9997};a.sendMessageToCallMachine(u)}else this.strictMode||console.error("You are are attempting to use a call instance that was previously destroyed, which is unsupported. Please remove `strictMode: false` from your constructor properties to enable strict mode to track down and fix this unsupported usage.");else{var l={action:tr,level:"error",code:this.strictMode?9995:9997};this._messageChannel.sendMessageToCallMachine(l,null,this.callClientId,this._iframe)}}},{key:"_logDuplicateInstanceAttempt",value:function(){for(var a=0,u=Object.values(tt);a<u.length;a++){var l=u[a];l._callMachineInitialized?(l.sendMessageToCallMachine({action:tr,level:"warn",code:this.allowMultipleCallInstances?9993:9992}),l._delayDuplicateInstanceLog=!1):l._delayDuplicateInstanceLog=!0}}},{key:"_maybeSendToSentry",value:function(a){var u,l,f,y;if(!((u=a.error)!==null&&u!==void 0&&u.type&&(![ga,ma,mn].includes(a.error.type)||a.error.type===mn&&a.error.msg.includes("deleted")))){var j=(l=this.properties)!==null&&l!==void 0&&l.url?new URL(this.properties.url):void 0,I="production";j&&j.host.includes(".staging.daily")&&(I="staging");var P,F,G,X,Ie,$e=(function(Tt){const jt=[zl(),Jl(),vu(),mu(),Su(),Eu(),Kl(),_u()];return Tt.autoSessionTracking!==!1&&jt.push(Au()),jt})({}).filter((function(Tt){return!["BrowserApiErrors","Breadcrumbs","GlobalHandlers"].includes(Tt.name)})),xt=new nu({dsn:"https://f10f1c81e5d44a4098416c0867a8b740@o77906.ingest.sentry.io/168844",transport:cu,stackParser:fu,integrations:$e,environment:I}),oe=new Xe;if(oe.setClient(xt),xt.init(),this.session_id&&oe.setExtra("sessionId",this.session_id),this.properties){var Se=B({},this.properties);Se.userName=Se.userName?"[Filtered]":void 0,Se.userData=Se.userData?"[Filtered]":void 0,Se.token=Se.token?"[Filtered]":void 0,oe.setExtra("properties",Se)}if(j){var Ze=j.searchParams.get("domain");if(!Ze){var Ct=j.host.match(/(.*?)\./);Ze=Ct&&Ct[1]||""}Ze&&oe.setTag("domain",Ze)}a.error&&(oe.setTag("fatalErrorType",a.error.type),oe.setExtra("errorDetails",a.error.details),!((P=a.error.details)===null||P===void 0)&&P.uri&&oe.setTag("serverAddress",a.error.details.uri),!((F=a.error.details)===null||F===void 0)&&F.workerGroup&&oe.setTag("workerGroup",a.error.details.workerGroup),!((G=a.error.details)===null||G===void 0)&&G.geoGroup&&oe.setTag("geoGroup",a.error.details.geoGroup),!((X=a.error.details)===null||X===void 0)&&X.on&&oe.setTag("connectionAttempt",a.error.details.on),(Ie=a.error.details)!==null&&Ie!==void 0&&Ie.bundleUrl&&(oe.setTag("bundleUrl",a.error.details.bundleUrl),oe.setTag("bundleError",a.error.details.sourceError.type))),oe.setTags({callMode:this._callObjectMode?Q()?"reactNative":(f=this.properties)!==null&&f!==void 0&&(f=f.dailyConfig)!==null&&f!==void 0&&(f=f.callMode)!==null&&f!==void 0&&f.includes("prebuilt")?this.properties.dailyConfig.callMode:"custom":"prebuilt-frame",version:t.version()});var zt=((y=a.error)===null||y===void 0?void 0:y.msg)||a.errorMsg;oe.captureException(new Error(zt))}}},{key:"_callMachine",value:function(){var a;return(a=window._daily)===null||a===void 0||(a=a.instances)===null||a===void 0||(a=a[this.callClientId])===null||a===void 0?void 0:a.callMachine}},{key:"_maybeUpdateInputSettings",value:function(a){if(!fe(this._inputSettings,a)){var u=this._getInputSettings();this._inputSettings=a;var l=this._getInputSettings();fe(u,l)||this.emitDailyJSEvent({action:bn,inputSettings:l})}}}],[{key:"supportedBrowser",value:function(){if(Q())return{supported:!0,mobile:!0,name:"React Native",version:null,supportsScreenShare:!0,supportsSfu:!0,supportsVideoProcessing:!1,supportsAudioProcessing:!1};var a=dl.getParser(Ce());return{supported:!!Yr(),mobile:a.getPlatformType()==="mobile",name:a.getBrowserName(),version:a.getBrowserVersion(),supportsFullscreen:!!os(),supportsScreenShare:!!Xu(),supportsSfu:!!Yr(),supportsVideoProcessing:mo(),supportsAudioProcessing:go()}}},{key:"version",value:function(){return"0.85.0"}},{key:"createCallObject",value:function(){var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return a.layout="none",new t(null,a)}},{key:"wrap",value:function(a){var u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(K(),!a||!a.contentWindow||typeof a.src!="string")throw new Error("DailyIframe::Wrap needs an iframe-like first argument");return u.layout||(u.customLayout?u.layout="custom-v1":u.layout="browser"),new t(a,u)}},{key:"createFrame",value:function(a,u){var l,f;K(),a&&u?(l=a,f=u):a&&a.append?(l=a,f={}):(l=document.body,f=a||{});var y=f.iframeStyle;y||(y=l===document.body?{position:"fixed",border:"1px solid black",backgroundColor:"white",width:"375px",height:"450px",right:"1em",bottom:"1em"}:{border:0,width:"100%",height:"100%"});var j=document.createElement("iframe");window.navigator&&window.navigator.userAgent.match(/Chrome\/61\./)?j.allow="microphone, camera":j.allow="microphone; camera; autoplay; display-capture; screen-wake-lock",j.style.visibility="hidden",l.appendChild(j),j.style.visibility=null,Object.keys(y).forEach((function(I){return j.style[I]=y[I]})),f.layout||(f.customLayout?f.layout="custom-v1":f.layout="browser");try{return new t(j,f)}catch(I){throw l.removeChild(j),I}}},{key:"createTransparentFrame",value:function(){var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};K();var u=document.createElement("iframe");return u.allow="microphone; camera; autoplay",u.style.cssText=`
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      border: 0;
      pointer-events: none;
    `,document.body.appendChild(u),a.layout||(a.layout="custom-v1"),t.wrap(u,a)}},{key:"getCallInstance",value:function(){var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:void 0;return a?tt[a]:Object.values(tt)[0]}}]);var e,r,i,o,n,s,c,d,p,v,E,C,x,h,m,k,_,b,A,w,S,T,O,D,L,R,V,Z,N,z,W,U,ie,pe,ge,Ae,ae,Ne})();function Ms(t){if(t.extension){if(typeof t.extension!="string")throw new Error("Error starting dial out: extension must be a string");if(t.extension.length>20)throw new Error("Error starting dial out: extension length must be less than or equal to 20")}if(t.waitBeforeExtensionDialSec){if(typeof t.waitBeforeExtensionDialSec!="number")throw new Error("Error starting dial out: waitBeforeExtensionDialSec must be a number");if(t.waitBeforeExtensionDialSec>60)throw new Error("Error starting dial out: waitBeforeExtensionDialSec must be less than or equal to 60");if(!t.extension)throw new Error("Error starting dial out: waitBeforeExtensionDialSec requires a phoneNumber and extension")}}function mt(t,e){var r={};for(var i in t)if(t[i]instanceof MediaStreamTrack)console.warn("MediaStreamTrack found in props or cache.",i),r[i]=Je;else if(i==="dailyConfig"){if(t[i].modifyLocalSdpHook){var o=window._daily.instances[e].customCallbacks||{};o.modifyLocalSdpHook=t[i].modifyLocalSdpHook,window._daily.instances[e].customCallbacks=o,delete t[i].modifyLocalSdpHook}if(t[i].modifyRemoteSdpHook){var n=window._daily.instances[e].customCallbacks||{};n.modifyRemoteSdpHook=t[i].modifyRemoteSdpHook,window._daily.instances[e].customCallbacks=n,delete t[i].modifyRemoteSdpHook}r[i]=t[i]}else r[i]=t[i];return r}function re(t){var e=arguments.length>2?arguments[2]:void 0;if(t!==Ke){var r="".concat(arguments.length>1&&arguments[1]!==void 0?arguments[1]:"This daily-js method"," only supported after join.");throw e&&(r+=" ".concat(e)),console.error(r),new Error(r)}}function dr(t,e){return[br,Ke].includes(t)||e}function Hr(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"This daily-js method",i=arguments.length>3?arguments[3]:void 0;if(dr(t,e)){var o="".concat(r," not supported after joining a meeting.");throw i&&(o+=" ".concat(i)),console.error(o),new Error(o)}}function ir(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"This daily-js method",r=arguments.length>2?arguments[2]:void 0;if(!t){var i="".concat(e,arguments.length>3&&arguments[3]!==void 0&&arguments[3]?" requires preAuth() or startCamera() to initialize call state.":" requires preAuth(), startCamera(), or join() to initialize call state.");throw r&&(i+=" ".concat(r)),console.error(i),new Error(i)}}function Kr(t){if(t){var e="A pre-call quality test is in progress. Please try ".concat(arguments.length>1&&arguments[1]!==void 0?arguments[1]:"This daily-js method"," again once testing has completed. Use stopTestCallQuality() to end it early.");throw console.error(e),new Error(e)}}function Te(t){if(!t){var e="".concat(arguments.length>1&&arguments[1]!==void 0?arguments[1]:"This daily-js method"," is only supported on custom callObject instances");throw console.error(e),new Error(e)}}function ve(t){if(t){var e="".concat(arguments.length>1&&arguments[1]!==void 0?arguments[1]:"This daily-js method"," is only supported as part of Daily's Prebuilt");throw console.error(e),new Error(e)}}function K(){if(Q())throw new Error("This daily-js method is not currently supported in React Native")}function It(){if(!Q())throw new Error("This daily-js method is only supported in React Native")}function jo(t){if(t===void 0)return!0;var e;if(typeof t=="string")e=t;else try{e=JSON.stringify(t),fe(JSON.parse(e),t)||console.warn("The userData provided will be modified when serialized.")}catch(r){throw Error("userData must be serializable to JSON: ".concat(r))}if(e.length>4096)throw Error("userData is too large (".concat(e.length," characters). Maximum size suppported is ").concat(4096,"."));return!0}function Oo(t,e){for(var r=e.allowAllParticipantsKey,i=function(E){var C=["local"];return r||C.push("*"),E&&!C.includes(E)},o=function(E){return!!(E.layer===void 0||Number.isInteger(E.layer)&&E.layer>=0||E.layer==="inherit")},n=function(E){return!!E&&!(E.video&&!o(E.video))&&!(E.screenVideo&&!o(E.screenVideo))},s=0,c=Object.entries(t);s<c.length;s++){var d=de(c[s],2),p=d[0],v=d[1];if(!i(p)||!n(v))return!1}return!0}function Mo(t){if($(t)!=="object")return!1;for(var e=0,r=Object.entries(t);e<r.length;e++){var i=de(r[e],2),o=i[0],n=i[1];switch(o){case"video":if($(n)!=="object")return!1;for(var s=0,c=Object.entries(n);s<c.length;s++){var d=de(c[s],2),p=d[0],v=d[1];switch(p){case"processor":if(!xd(v))return!1;break;case"settings":if(!Is(v))return!1;break;default:return!1}}break;case"audio":if($(n)!=="object")return!1;for(var E=0,C=Object.entries(n);E<C.length;E++){var x=de(C[E],2),h=x[0],m=x[1];switch(h){case"processor":if(!kd(m))return!1;break;case"settings":if(!Is(m))return!1;break;default:return!1}}break;default:return!1}}return!0}function Io(t,e,r){var i,o=[];t.video&&t.video.processor&&(mo((i=e==null?void 0:e.useLegacyVideoProcessor)!==null&&i!==void 0&&i)||(t.video.settings?delete t.video.processor:delete t.video,o.push("video"))),t.audio&&t.audio.processor&&(go()||(t.audio.settings?delete t.audio.processor:delete t.audio,o.push("audio"))),o.length>0&&console.error("Ignoring settings for browser- or platform-unsupported input processor(s): ".concat(o.join(", "))),t.audio&&t.audio.settings&&(t.audio.settings.customTrack?(r.audioTrack=t.audio.settings.customTrack,t.audio.settings={customTrack:Je}):delete r.audioTrack),t.video&&t.video.settings&&(t.video.settings.customTrack?(r.videoTrack=t.video.settings.customTrack,t.video.settings={customTrack:Je}):delete r.videoTrack)}function kd(t){if(Q())return console.warn("Video processing is not yet supported in React Native"),!1;var e=["type"];return!!t&&$(t)==="object"&&(Object.keys(t).filter((function(r){return!e.includes(r)})).forEach((function(r){console.warn("invalid key inputSettings -> audio -> processor : ".concat(r)),delete t[r]})),!!(function(r){return typeof r!="string"?!1:Object.values(ho).includes(r)?!0:(console.error("inputSettings audio processor type invalid"),!1)})(t.type))}function xd(t){if(Q())return console.warn("Video processing is not yet supported in React Native"),!1;var e=["type","config"];return!t||$(t)!=="object"||!(function(r){return typeof r!="string"?!1:Object.values(ur).includes(r)?!0:(console.error("inputSettings video processor type invalid"),!1)})(t.type)||t.config&&($(t.config)!=="object"||!(function(r,i){var o=Object.keys(i);if(o.length===0)return!0;var n="invalid object in inputSettings -> video -> processor -> config";switch(r){case ur.BGBLUR:return o.length>1||o[0]!=="strength"?(console.error(n),!1):!(typeof i.strength!="number"||i.strength<=0||i.strength>1||isNaN(i.strength))||(console.error("".concat(n,"; expected: {0 < strength <= 1}, got: ").concat(i.strength)),!1);case ur.BGIMAGE:return!(i.source!==void 0&&!(function(s){if(s.source==="default")return s.type="default",!0;if(s.source instanceof ArrayBuffer)return!0;if(fr(s.source))return s.type="url",!!(function(p){var v=new URL(p),E=v.pathname;if(v.protocol==="data:")try{var C=E.substring(E.indexOf(":")+1,E.indexOf(";")).split("/")[1];return Jr.includes(C)}catch(h){return console.error("failed to deduce blob content type",h),!1}var x=E.split(".").at(-1).toLowerCase().trim();return Jr.includes(x)})(s.source)||(console.error("invalid image type; supported types: [".concat(Jr.join(", "),"]")),!1);return c=s.source,d=Number(c),isNaN(d)||!Number.isInteger(d)||d<=0||d>10?(console.error("invalid image selection; must be an int, > 0, <= ".concat(10)),!1):(s.type="daily-preselect",!0);var c,d})(i));default:return!0}})(t.type,t.config))?!1:(Object.keys(t).filter((function(r){return!e.includes(r)})).forEach((function(r){console.warn("invalid key inputSettings -> video -> processor : ".concat(r)),delete t[r]})),!0)}function Is(t){return $(t)==="object"&&(!t.customTrack||t.customTrack instanceof MediaStreamTrack)}function Tn(){var t=Object.values(ur).join(" | "),e=Object.values(ho).join(" | ");return"inputSettings must be of the form: { video?: { processor?: { type: [ ".concat(t," ], config?: {} } }, audio?: { processor: {type: [ ").concat(e," ] } } }")}function Po(t){var e=t.allowAllParticipantsKey;return"receiveSettings must be of the form { [<remote participant id> | ".concat(fa).concat(e?' | "'.concat("*",'"'):"","]: ")+'{ [video: [{ layer: [<non-negative integer> | "inherit"] } | "inherit"]], [screenVideo: [{ layer: [<non-negative integer> | "inherit"] } | "inherit"]] }}}'}function Do(){return"customIntegrations should be an object of type ".concat(JSON.stringify(Cn),".")}function Lo(t){if(t&&$(t)!=="object"||Array.isArray(t))return console.error("customTrayButtons should be an Object of the type ".concat(JSON.stringify(Sr),".")),!1;if(t)for(var e=0,r=Object.entries(t);e<r.length;e++)for(var i=de(r[e],1)[0],o=0,n=Object.entries(t[i]);o<n.length;o++){var s=de(n[o],2),c=s[0],d=s[1],p=Sr.id[c];if(!p)return console.error("customTrayButton does not support key ".concat(c)),!1;switch(c){case"iconPath":case"iconPathDarkMode":if(!fr(d))return console.error("customTrayButton ".concat(c," should be a url.")),!1;break;case"visualState":if(!["default","sidebar-open","active"].includes(d))return console.error("customTrayButton ".concat(c," should be ").concat(p,". Got: ").concat(d)),!1;break;default:if($(d)!==p)return console.error("customTrayButton ".concat(c," should be a ").concat(p,".")),!1}}return!0}function No(t){if(!t||t&&$(t)!=="object"||Array.isArray(t))return console.error(Do()),!1;for(var e=function(E){return"".concat(E," should be ").concat(Cn.id[E])},r=function(E,C){return console.error("customIntegration ".concat(E,": ").concat(C))},i=0,o=Object.entries(t);i<o.length;i++){var n=de(o[i],1)[0];if(!("label"in t[n]))return r(n,"label is required"),!1;if(!("location"in t[n]))return r(n,"location is required"),!1;if(!("src"in t[n])&&!("srcdoc"in t[n]))return r(n,"src or srcdoc is required"),!1;for(var s=0,c=Object.entries(t[n]);s<c.length;s++){var d=de(c[s],2),p=d[0],v=d[1];switch(p){case"allow":case"csp":case"name":case"referrerPolicy":case"sandbox":if(typeof v!="string")return r(n,e(p)),!1;break;case"iconURL":if(!fr(v))return r(n,"".concat(p," should be a url")),!1;break;case"src":if("srcdoc"in t[n])return r(n,"cannot have both src and srcdoc"),!1;if(!fr(v))return r(n,'src "'.concat(v,'" is not a valid URL')),!1;break;case"srcdoc":if("src"in t[n])return r(n,"cannot have both src and srcdoc"),!1;if(typeof v!="string")return r(n,e(p)),!1;break;case"location":if(!["main","sidebar"].includes(v))return r(n,e(p)),!1;break;case"controlledBy":if(v!=="*"&&v!=="owners"&&(!Array.isArray(v)||v.some((function(E){return typeof E!="string"}))))return r(n,e(p)),!1;break;case"shared":if((!Array.isArray(v)||v.some((function(E){return typeof E!="string"})))&&v!=="owners"&&typeof v!="boolean")return r(n,e(p)),!1;break;default:if(!Cn.id[p])return console.error("customIntegration does not support key ".concat(p)),!1}}}return!0}function Ro(t,e){if(e===void 0)return!1;switch($(e)){case"string":return $(t)===e;case"object":if($(t)!=="object")return!1;for(var r in t)if(!Ro(t[r],e[r]))return!1;return!0;default:return!1}}function Ps(t,e){var r=t.sessionId,i=t.toEndPoint,o=t.callerId,n=t.useSipRefer;if(!r||!i)throw new Error("".concat(e,"() requires a sessionId and toEndPoint"));if(typeof r!="string"||typeof i!="string")throw new Error("Invalid paramater: sessionId and toEndPoint must be of type string");if(n&&!i.startsWith("sip:"))throw new Error('"toEndPoint" must be a "sip" address');if(!i.startsWith("sip:")&&!i.startsWith("+"))throw new Error("toEndPoint: ".concat(i,' must starts with either "sip:" or "+"'));if(o&&typeof o!="string")throw new Error("callerId must be of type string");if(o&&!i.startsWith("+"))throw new Error("callerId is only valid when transferring to a PSTN number")}function Ds(t){if($(t)!=="object")throw new Error('RemoteMediaPlayerSettings: must be "object" type');if(t.state&&!Object.values(Sn).includes(t.state))throw new Error("Invalid value for RemoteMediaPlayerSettings.state, valid values are: "+JSON.stringify(Sn));if(t.volume){if(typeof t.volume!="number")throw new Error('RemoteMediaPlayerSettings.volume: must be "number" type');if(t.volume<0||t.volume>2)throw new Error("RemoteMediaPlayerSettings.volume: must be between 0.0 - 2.0")}}function Ls(t,e,r){return!(typeof t!="number"||t<e||t>r)}function Qr(t,e){return t&&!e&&delete t.data,t}const Cd=Object.freeze(Object.defineProperty({__proto__:null,DAILY_ACCESS_LEVEL_FULL:ha,DAILY_ACCESS_LEVEL_LOBBY:Ou,DAILY_ACCESS_LEVEL_NONE:Mu,DAILY_ACCESS_UNKNOWN:lr,DAILY_CAMERA_ERROR_CAM_AND_MIC_IN_USE:qu,DAILY_CAMERA_ERROR_CAM_IN_USE:Uu,DAILY_CAMERA_ERROR_CONSTRAINTS:Gu,DAILY_CAMERA_ERROR_MIC_IN_USE:Vu,DAILY_CAMERA_ERROR_NOT_FOUND:zu,DAILY_CAMERA_ERROR_PERMISSIONS:Ju,DAILY_CAMERA_ERROR_UNDEF_MEDIADEVICES:Yu,DAILY_CAMERA_ERROR_UNKNOWN:Wu,DAILY_EVENT_ACCESS_STATE_UPDATED:Ma,DAILY_EVENT_ACTIVE_SPEAKER_CHANGE:eo,DAILY_EVENT_ACTIVE_SPEAKER_MODE_CHANGE:to,DAILY_EVENT_APP_MSG:Ga,DAILY_EVENT_CAMERA_ERROR:_a,DAILY_EVENT_CPU_LOAD_CHANGE:io,DAILY_EVENT_ERROR:An,DAILY_EVENT_EXIT_FULLSCREEN:Nt,DAILY_EVENT_FACE_COUNTS_UPDATED:so,DAILY_EVENT_FULLSCREEN:Lt,DAILY_EVENT_IFRAME_LAUNCH_CONFIG:ya,DAILY_EVENT_IFRAME_READY_FOR_LAUNCH_CONFIG:va,DAILY_EVENT_INPUT_SETTINGS_UPDATED:bn,DAILY_EVENT_JOINED_MEETING:ka,DAILY_EVENT_JOINING_MEETING:Ea,DAILY_EVENT_LANG_UPDATED:uo,DAILY_EVENT_LEFT_MEETING:xa,DAILY_EVENT_LIVE_STREAMING_ERROR:lo,DAILY_EVENT_LIVE_STREAMING_STARTED:ao,DAILY_EVENT_LIVE_STREAMING_STOPPED:co,DAILY_EVENT_LIVE_STREAMING_UPDATED:oo,DAILY_EVENT_LOADED:gn,DAILY_EVENT_LOADING:wa,DAILY_EVENT_LOAD_ATTEMPT_FAILED:Aa,DAILY_EVENT_LOCAL_SCREEN_SHARE_CANCELED:Za,DAILY_EVENT_LOCAL_SCREEN_SHARE_STARTED:Xa,DAILY_EVENT_LOCAL_SCREEN_SHARE_STOPPED:$a,DAILY_EVENT_MEETING_SESSION_DATA_ERROR:Hu,DAILY_EVENT_MEETING_SESSION_STATE_UPDATED:Pa,DAILY_EVENT_MEETING_SESSION_SUMMARY_UPDATED:Ia,DAILY_EVENT_NETWORK_CONNECTION:no,DAILY_EVENT_NETWORK_QUALITY_CHANGE:ro,DAILY_EVENT_NONFATAL_ERROR:wn,DAILY_EVENT_PARTICIPANT_COUNTS_UPDATED:Oa,DAILY_EVENT_PARTICIPANT_JOINED:Ca,DAILY_EVENT_PARTICIPANT_LEFT:ja,DAILY_EVENT_PARTICIPANT_UPDATED:Ta,DAILY_EVENT_RECEIVE_SETTINGS_UPDATED:po,DAILY_EVENT_RECORDING_DATA:za,DAILY_EVENT_RECORDING_ERROR:Ja,DAILY_EVENT_RECORDING_STARTED:vn,DAILY_EVENT_RECORDING_STATS:qa,DAILY_EVENT_RECORDING_STOPPED:yn,DAILY_EVENT_RECORDING_UPLOAD_COMPLETED:Ya,DAILY_EVENT_REMOTE_MEDIA_PLAYER_STARTED:Ha,DAILY_EVENT_REMOTE_MEDIA_PLAYER_STOPPED:Qa,DAILY_EVENT_REMOTE_MEDIA_PLAYER_UPDATED:Ka,DAILY_EVENT_STARTED_CAMERA:Sa,DAILY_EVENT_THEME_UPDATED:ba,DAILY_EVENT_TRACK_STARTED:Ra,DAILY_EVENT_TRACK_STOPPED:Fa,DAILY_EVENT_TRANSCRIPTION_ERROR:Va,DAILY_EVENT_TRANSCRIPTION_MSG:Wa,DAILY_EVENT_TRANSCRIPTION_STARTED:Ba,DAILY_EVENT_TRANSCRIPTION_STOPPED:Ua,DAILY_EVENT_WAITING_PARTICIPANT_ADDED:Da,DAILY_EVENT_WAITING_PARTICIPANT_REMOVED:Na,DAILY_EVENT_WAITING_PARTICIPANT_UPDATED:La,DAILY_FATAL_ERROR_CONNECTION:ga,DAILY_FATAL_ERROR_EJECTED:Pu,DAILY_FATAL_ERROR_EOL:ma,DAILY_FATAL_ERROR_EXP_ROOM:Nu,DAILY_FATAL_ERROR_EXP_TOKEN:Ru,DAILY_FATAL_ERROR_MEETING_FULL:Fu,DAILY_FATAL_ERROR_NBF_ROOM:Du,DAILY_FATAL_ERROR_NBF_TOKEN:Lu,DAILY_FATAL_ERROR_NOT_ALLOWED:Bu,DAILY_FATAL_ERROR_NO_ROOM:mn,DAILY_RECEIVE_SETTINGS_ALL_PARTICIPANTS_KEY:Iu,DAILY_RECEIVE_SETTINGS_BASE_KEY:fa,DAILY_STATE_ERROR:Be,DAILY_STATE_JOINED:Ke,DAILY_STATE_JOINING:br,DAILY_STATE_LEFT:We,DAILY_STATE_NEW:fn,DAILY_TRACK_STATE_BLOCKED:ku,DAILY_TRACK_STATE_INTERRUPTED:ju,DAILY_TRACK_STATE_LOADING:Tu,DAILY_TRACK_STATE_OFF:xu,DAILY_TRACK_STATE_PLAYABLE:pa,DAILY_TRACK_STATE_SENDABLE:Cu,default:Ed},Symbol.toStringTag,{value:"Module"})),Td=rc(Cd);var sr={exports:{}},Ns;function jd(){if(Ns)return sr.exports;Ns=1;var t=typeof Reflect=="object"?Reflect:null,e=t&&typeof t.apply=="function"?t.apply:function(S,T,O){return Function.prototype.apply.call(S,T,O)},r;t&&typeof t.ownKeys=="function"?r=t.ownKeys:Object.getOwnPropertySymbols?r=function(S){return Object.getOwnPropertyNames(S).concat(Object.getOwnPropertySymbols(S))}:r=function(S){return Object.getOwnPropertyNames(S)};function i(w){console&&console.warn&&console.warn(w)}var o=Number.isNaN||function(S){return S!==S};function n(){n.init.call(this)}sr.exports=n,sr.exports.once=_,n.EventEmitter=n,n.prototype._events=void 0,n.prototype._eventsCount=0,n.prototype._maxListeners=void 0;var s=10;function c(w){if(typeof w!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof w)}Object.defineProperty(n,"defaultMaxListeners",{enumerable:!0,get:function(){return s},set:function(w){if(typeof w!="number"||w<0||o(w))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+w+".");s=w}}),n.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},n.prototype.setMaxListeners=function(S){if(typeof S!="number"||S<0||o(S))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+S+".");return this._maxListeners=S,this};function d(w){return w._maxListeners===void 0?n.defaultMaxListeners:w._maxListeners}n.prototype.getMaxListeners=function(){return d(this)},n.prototype.emit=function(S){for(var T=[],O=1;O<arguments.length;O++)T.push(arguments[O]);var D=S==="error",L=this._events;if(L!==void 0)D=D&&L.error===void 0;else if(!D)return!1;if(D){var R;if(T.length>0&&(R=T[0]),R instanceof Error)throw R;var V=new Error("Unhandled error."+(R?" ("+R.message+")":""));throw V.context=R,V}var Z=L[S];if(Z===void 0)return!1;if(typeof Z=="function")e(Z,this,T);else for(var N=Z.length,z=h(Z,N),O=0;O<N;++O)e(z[O],this,T);return!0};function p(w,S,T,O){var D,L,R;if(c(T),L=w._events,L===void 0?(L=w._events=Object.create(null),w._eventsCount=0):(L.newListener!==void 0&&(w.emit("newListener",S,T.listener?T.listener:T),L=w._events),R=L[S]),R===void 0)R=L[S]=T,++w._eventsCount;else if(typeof R=="function"?R=L[S]=O?[T,R]:[R,T]:O?R.unshift(T):R.push(T),D=d(w),D>0&&R.length>D&&!R.warned){R.warned=!0;var V=new Error("Possible EventEmitter memory leak detected. "+R.length+" "+String(S)+" listeners added. Use emitter.setMaxListeners() to increase limit");V.name="MaxListenersExceededWarning",V.emitter=w,V.type=S,V.count=R.length,i(V)}return w}n.prototype.addListener=function(S,T){return p(this,S,T,!1)},n.prototype.on=n.prototype.addListener,n.prototype.prependListener=function(S,T){return p(this,S,T,!0)};function v(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function E(w,S,T){var O={fired:!1,wrapFn:void 0,target:w,type:S,listener:T},D=v.bind(O);return D.listener=T,O.wrapFn=D,D}n.prototype.once=function(S,T){return c(T),this.on(S,E(this,S,T)),this},n.prototype.prependOnceListener=function(S,T){return c(T),this.prependListener(S,E(this,S,T)),this},n.prototype.removeListener=function(S,T){var O,D,L,R,V;if(c(T),D=this._events,D===void 0)return this;if(O=D[S],O===void 0)return this;if(O===T||O.listener===T)--this._eventsCount===0?this._events=Object.create(null):(delete D[S],D.removeListener&&this.emit("removeListener",S,O.listener||T));else if(typeof O!="function"){for(L=-1,R=O.length-1;R>=0;R--)if(O[R]===T||O[R].listener===T){V=O[R].listener,L=R;break}if(L<0)return this;L===0?O.shift():m(O,L),O.length===1&&(D[S]=O[0]),D.removeListener!==void 0&&this.emit("removeListener",S,V||T)}return this},n.prototype.off=n.prototype.removeListener,n.prototype.removeAllListeners=function(S){var T,O,D;if(O=this._events,O===void 0)return this;if(O.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):O[S]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete O[S]),this;if(arguments.length===0){var L=Object.keys(O),R;for(D=0;D<L.length;++D)R=L[D],R!=="removeListener"&&this.removeAllListeners(R);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(T=O[S],typeof T=="function")this.removeListener(S,T);else if(T!==void 0)for(D=T.length-1;D>=0;D--)this.removeListener(S,T[D]);return this};function C(w,S,T){var O=w._events;if(O===void 0)return[];var D=O[S];return D===void 0?[]:typeof D=="function"?T?[D.listener||D]:[D]:T?k(D):h(D,D.length)}n.prototype.listeners=function(S){return C(this,S,!0)},n.prototype.rawListeners=function(S){return C(this,S,!1)},n.listenerCount=function(w,S){return typeof w.listenerCount=="function"?w.listenerCount(S):x.call(w,S)},n.prototype.listenerCount=x;function x(w){var S=this._events;if(S!==void 0){var T=S[w];if(typeof T=="function")return 1;if(T!==void 0)return T.length}return 0}n.prototype.eventNames=function(){return this._eventsCount>0?r(this._events):[]};function h(w,S){for(var T=new Array(S),O=0;O<S;++O)T[O]=w[O];return T}function m(w,S){for(;S+1<w.length;S++)w[S]=w[S+1];w.pop()}function k(w){for(var S=new Array(w.length),T=0;T<S.length;++T)S[T]=w[T].listener||w[T];return S}function _(w,S){return new Promise(function(T,O){function D(R){w.removeListener(S,L),O(R)}function L(){typeof w.removeListener=="function"&&w.removeListener("error",D),T([].slice.call(arguments))}A(w,S,L,{once:!0}),S!=="error"&&b(w,D,{once:!0})})}function b(w,S,T){typeof w.on=="function"&&A(w,"error",S,T)}function A(w,S,T,O){if(typeof w.on=="function")O.once?w.once(S,T):w.on(S,T);else if(typeof w.addEventListener=="function")w.addEventListener(S,function D(L){O.once&&w.removeEventListener(S,D),T(L)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof w)}return sr.exports}var Pt={},Fe={},Rs;function Od(){if(Rs)return Fe;Rs=1,Object.defineProperty(Fe,"__esModule",{value:!0}),Fe.Api=Fe.HttpClient=Fe.ContentType=void 0;var t;(function(i){i.Json="application/json",i.JsonApi="application/vnd.api+json",i.FormData="multipart/form-data",i.UrlEncoded="application/x-www-form-urlencoded",i.Text="text/plain"})(t||(Fe.ContentType=t={}));class e{constructor(o={}){Y(this,"baseUrl","https://api.vapi.ai");Y(this,"securityData",null);Y(this,"securityWorker");Y(this,"abortControllers",new Map);Y(this,"customFetch",(...o)=>fetch(...o));Y(this,"baseApiParams",{credentials:"same-origin",headers:{},redirect:"follow",referrerPolicy:"no-referrer"});Y(this,"setSecurityData",o=>{this.securityData=o});Y(this,"contentFormatters",{[t.Json]:o=>o!==null&&(typeof o=="object"||typeof o=="string")?JSON.stringify(o):o,[t.JsonApi]:o=>o!==null&&(typeof o=="object"||typeof o=="string")?JSON.stringify(o):o,[t.Text]:o=>o!==null&&typeof o!="string"?JSON.stringify(o):o,[t.FormData]:o=>o instanceof FormData?o:Object.keys(o||{}).reduce((n,s)=>{const c=o[s];return n.append(s,c instanceof Blob?c:typeof c=="object"&&c!==null?JSON.stringify(c):`${c}`),n},new FormData),[t.UrlEncoded]:o=>this.toQueryString(o)});Y(this,"createAbortSignal",o=>{if(this.abortControllers.has(o)){const s=this.abortControllers.get(o);return s?s.signal:void 0}const n=new AbortController;return this.abortControllers.set(o,n),n.signal});Y(this,"abortRequest",o=>{const n=this.abortControllers.get(o);n&&(n.abort(),this.abortControllers.delete(o))});Y(this,"request",async({body:o,secure:n,path:s,type:c,query:d,format:p,baseUrl:v,cancelToken:E,...C})=>{const x=(typeof n=="boolean"?n:this.baseApiParams.secure)&&this.securityWorker&&await this.securityWorker(this.securityData)||{},h=this.mergeRequestParams(C,x),m=d&&this.toQueryString(d),k=this.contentFormatters[c||t.Json],_=p||h.format;return this.customFetch(`${v||this.baseUrl||""}${s}${m?`?${m}`:""}`,{...h,headers:{...h.headers||{},...c&&c!==t.FormData?{"Content-Type":c}:{}},signal:(E?this.createAbortSignal(E):h.signal)||null,body:typeof o>"u"||o===null?null:k(o)}).then(async b=>{const A=b;A.data=null,A.error=null;const w=_?b.clone():b,S=_?await w[_]().then(T=>(A.ok?A.data=T:A.error=T,A)).catch(T=>(A.error=T,A)):A;if(E&&this.abortControllers.delete(E),!b.ok)throw S;return S})});Object.assign(this,o)}encodeQueryParam(o,n){return`${encodeURIComponent(o)}=${encodeURIComponent(typeof n=="number"?n:`${n}`)}`}addQueryParam(o,n){return this.encodeQueryParam(n,o[n])}addArrayQueryParam(o,n){return o[n].map(c=>this.encodeQueryParam(n,c)).join("&")}toQueryString(o){const n=o||{};return Object.keys(n).filter(c=>typeof n[c]<"u").map(c=>Array.isArray(n[c])?this.addArrayQueryParam(n,c):this.addQueryParam(n,c)).join("&")}addQueryParams(o){const n=this.toQueryString(o);return n?`?${n}`:""}mergeRequestParams(o,n){return{...this.baseApiParams,...o,...n||{},headers:{...this.baseApiParams.headers||{},...o.headers||{},...n&&n.headers||{}}}}}Fe.HttpClient=e;class r extends e{constructor(){super(...arguments);Y(this,"assistant",{assistantControllerCreate:(n,s={})=>this.request({path:"/assistant",method:"POST",body:n,secure:!0,type:t.Json,format:"json",...s}),assistantControllerFindAll:(n,s={})=>this.request({path:"/assistant",method:"GET",query:n,secure:!0,format:"json",...s}),assistantControllerFindOne:(n,s={})=>this.request({path:`/assistant/${n}`,method:"GET",secure:!0,format:"json",...s}),assistantControllerUpdate:(n,s,c={})=>this.request({path:`/assistant/${n}`,method:"PATCH",body:s,secure:!0,type:t.Json,format:"json",...c}),assistantControllerReplace:(n,s,c={})=>this.request({path:`/assistant/${n}`,method:"PUT",body:s,secure:!0,type:t.Json,format:"json",...c}),assistantControllerRemove:(n,s={})=>this.request({path:`/assistant/${n}`,method:"DELETE",secure:!0,format:"json",...s}),assistantControllerFindVersions:(n,s,c={})=>this.request({path:`/assistant/${n}/version`,method:"GET",query:s,secure:!0,format:"json",...c})});Y(this,"v2",{assistantControllerFindAllPaginated:(n,s={})=>this.request({path:"/v2/assistant",method:"GET",query:n,secure:!0,format:"json",...s}),callControllerCallsExport:(n,s={})=>this.request({path:"/v2/call/export",method:"GET",query:n,secure:!0,...s}),callControllerFindAllPaginated:(n,s={})=>this.request({path:"/v2/call",method:"GET",query:n,secure:!0,format:"json",...s}),callControllerFindAllMetadataPaginated:(n,s={})=>this.request({path:"/v2/call/metadata",method:"GET",query:n,secure:!0,format:"json",...s}),phoneNumberControllerFindAllPaginated:(n,s={})=>this.request({path:"/v2/phone-number",method:"GET",query:n,secure:!0,format:"json",...s})});Y(this,"squad",{squadControllerCreate:(n,s={})=>this.request({path:"/squad",method:"POST",body:n,secure:!0,type:t.Json,format:"json",...s}),squadControllerFindAll:(n,s={})=>this.request({path:"/squad",method:"GET",query:n,secure:!0,format:"json",...s}),squadControllerFindOne:(n,s={})=>this.request({path:`/squad/${n}`,method:"GET",secure:!0,format:"json",...s}),squadControllerUpdate:(n,s,c={})=>this.request({path:`/squad/${n}`,method:"PATCH",body:s,secure:!0,type:t.Json,format:"json",...c}),squadControllerRemove:(n,s={})=>this.request({path:`/squad/${n}`,method:"DELETE",secure:!0,format:"json",...s})});Y(this,"workflow",{workflowControllerFindAll:(n={})=>this.request({path:"/workflow",method:"GET",secure:!0,format:"json",...n}),workflowControllerCreate:(n,s={})=>this.request({path:"/workflow",method:"POST",body:n,secure:!0,type:t.Json,format:"json",...s}),workflowControllerFindOne:(n,s={})=>this.request({path:`/workflow/${n}`,method:"GET",secure:!0,format:"json",...s}),workflowControllerDelete:(n,s={})=>this.request({path:`/workflow/${n}`,method:"DELETE",secure:!0,format:"json",...s}),workflowControllerUpdate:(n,s,c={})=>this.request({path:`/workflow/${n}`,method:"PATCH",body:s,secure:!0,type:t.Json,format:"json",...c})});Y(this,"call",{callControllerCreate:(n,s={})=>this.request({path:"/call",method:"POST",body:n,secure:!0,type:t.Json,format:"json",...s}),callControllerFindAll:(n,s={})=>this.request({path:"/call",method:"GET",query:n,secure:!0,format:"json",...s}),callControllerFindOne:(n,s={})=>this.request({path:`/call/${n}`,method:"GET",secure:!0,format:"json",...s}),callControllerUpdate:(n,s,c={})=>this.request({path:`/call/${n}`,method:"PATCH",body:s,secure:!0,type:t.Json,format:"json",...c}),callControllerDeleteCallData:(n,s,c={})=>this.request({path:`/call/${n}`,method:"DELETE",body:s,secure:!0,type:t.Json,format:"json",...c}),callControllerCreatePhoneCall:(n,s={})=>this.request({path:"/call/phone",method:"POST",body:n,secure:!0,type:t.Json,format:"json",...s}),callControllerCreateWebCall:(n,s={})=>this.request({path:"/call/web",method:"POST",body:n,secure:!0,type:t.Json,format:"json",...s})});Y(this,"chat",{chatControllerListChats:(n,s={})=>this.request({path:"/chat",method:"GET",query:n,secure:!0,format:"json",...s}),chatControllerCreateChat:(n,s={})=>this.request({path:"/chat",method:"POST",body:n,secure:!0,type:t.Json,format:"json",...s}),chatControllerGetChat:(n,s={})=>this.request({path:`/chat/${n}`,method:"GET",secure:!0,format:"json",...s}),chatControllerDeleteChat:(n,s={})=>this.request({path:`/chat/${n}`,method:"DELETE",secure:!0,format:"json",...s}),chatControllerCreateOpenAiChat:(n,s={})=>this.request({path:"/chat/responses",method:"POST",body:n,secure:!0,type:t.Json,format:"json",...s}),chatControllerCreateWebChat:(n,s={})=>this.request({path:"/chat/web",method:"POST",body:n,secure:!0,type:t.Json,format:"json",...s}),chatControllerCreateOpenAiWebChat:(n,s={})=>this.request({path:"/chat/web/responses",method:"POST",body:n,secure:!0,type:t.Json,format:"json",...s})});Y(this,"campaign",{campaignControllerCreate:(n,s={})=>this.request({path:"/campaign",method:"POST",body:n,secure:!0,type:t.Json,format:"json",...s}),campaignControllerFindAll:(n,s={})=>this.request({path:"/campaign",method:"GET",query:n,secure:!0,format:"json",...s}),campaignControllerFindOne:(n,s={})=>this.request({path:`/campaign/${n}`,method:"GET",secure:!0,format:"json",...s}),campaignControllerUpdate:(n,s,c={})=>this.request({path:`/campaign/${n}`,method:"PATCH",body:s,secure:!0,type:t.Json,format:"json",...c}),campaignControllerRemove:(n,s={})=>this.request({path:`/campaign/${n}`,method:"DELETE",secure:!0,format:"json",...s})});Y(this,"session",{sessionControllerCreate:(n,s={})=>this.request({path:"/session",method:"POST",body:n,secure:!0,type:t.Json,format:"json",...s}),sessionControllerFindAllPaginated:(n,s={})=>this.request({path:"/session",method:"GET",query:n,secure:!0,format:"json",...s}),sessionControllerFindOne:(n,s={})=>this.request({path:`/session/${n}`,method:"GET",secure:!0,format:"json",...s}),sessionControllerUpdate:(n,s,c={})=>this.request({path:`/session/${n}`,method:"PATCH",body:s,secure:!0,type:t.Json,format:"json",...c}),sessionControllerRemove:(n,s={})=>this.request({path:`/session/${n}`,method:"DELETE",secure:!0,format:"json",...s})});Y(this,"phoneNumber",{phoneNumberControllerImportTwilio:(n,s={})=>this.request({path:"/phone-number/import/twilio",method:"POST",body:n,secure:!0,type:t.Json,format:"json",...s}),phoneNumberControllerImportVonage:(n,s={})=>this.request({path:"/phone-number/import/vonage",method:"POST",body:n,secure:!0,type:t.Json,format:"json",...s}),phoneNumberControllerCreate:(n,s={})=>this.request({path:"/phone-number",method:"POST",body:n,secure:!0,type:t.Json,format:"json",...s}),phoneNumberControllerFindAll:(n,s={})=>this.request({path:"/phone-number",method:"GET",query:n,secure:!0,format:"json",...s}),phoneNumberControllerFindOne:(n,s={})=>this.request({path:`/phone-number/${n}`,method:"GET",secure:!0,format:"json",...s}),phoneNumberControllerUpdate:(n,s,c={})=>this.request({path:`/phone-number/${n}`,method:"PATCH",body:s,secure:!0,type:t.Json,format:"json",...c}),phoneNumberControllerRemove:(n,s={})=>this.request({path:`/phone-number/${n}`,method:"DELETE",secure:!0,format:"json",...s})});Y(this,"tool",{toolControllerCreate:(n,s={})=>this.request({path:"/tool",method:"POST",body:n,secure:!0,type:t.Json,format:"json",...s}),toolControllerFindAll:(n,s={})=>this.request({path:"/tool",method:"GET",query:n,secure:!0,format:"json",...s}),toolControllerFindOne:(n,s={})=>this.request({path:`/tool/${n}`,method:"GET",secure:!0,format:"json",...s}),toolControllerUpdate:(n,s,c={})=>this.request({path:`/tool/${n}`,method:"PATCH",body:s,secure:!0,type:t.Json,format:"json",...c}),toolControllerRemove:(n,s={})=>this.request({path:`/tool/${n}`,method:"DELETE",secure:!0,format:"json",...s})});Y(this,"file",{fileControllerCreateDeprecated:(n,s={})=>this.request({path:"/file/upload",method:"POST",body:n,secure:!0,type:t.FormData,format:"json",...s}),fileControllerCreate:(n,s={})=>this.request({path:"/file",method:"POST",body:n,secure:!0,type:t.FormData,format:"json",...s}),fileControllerFindAll:(n={})=>this.request({path:"/file",method:"GET",secure:!0,format:"json",...n}),fileControllerFindOne:(n,s={})=>this.request({path:`/file/${n}`,method:"GET",secure:!0,format:"json",...s}),fileControllerUpdate:(n,s,c={})=>this.request({path:`/file/${n}`,method:"PATCH",body:s,secure:!0,type:t.Json,format:"json",...c}),fileControllerRemove:(n,s={})=>this.request({path:`/file/${n}`,method:"DELETE",secure:!0,format:"json",...s})});Y(this,"knowledgeBase",{knowledgeBaseControllerCreate:(n,s={})=>this.request({path:"/knowledge-base",method:"POST",body:n,secure:!0,type:t.Json,format:"json",...s}),knowledgeBaseControllerFindAll:(n,s={})=>this.request({path:"/knowledge-base",method:"GET",query:n,secure:!0,format:"json",...s}),knowledgeBaseControllerFindOne:(n,s={})=>this.request({path:`/knowledge-base/${n}`,method:"GET",secure:!0,format:"json",...s}),knowledgeBaseControllerUpdate:(n,s,c={})=>this.request({path:`/knowledge-base/${n}`,method:"PATCH",body:s,secure:!0,type:t.Json,format:"json",...c}),knowledgeBaseControllerRemove:(n,s={})=>this.request({path:`/knowledge-base/${n}`,method:"DELETE",secure:!0,format:"json",...s})});Y(this,"structuredOutput",{structuredOutputControllerFindAll:(n,s={})=>this.request({path:"/structured-output",method:"GET",query:n,secure:!0,format:"json",...s}),structuredOutputControllerCreate:(n,s={})=>this.request({path:"/structured-output",method:"POST",body:n,secure:!0,type:t.Json,format:"json",...s}),structuredOutputControllerFindOne:(n,s={})=>this.request({path:`/structured-output/${n}`,method:"GET",secure:!0,format:"json",...s}),structuredOutputControllerUpdate:(n,s,c,d={})=>this.request({path:`/structured-output/${n}`,method:"PATCH",query:s,body:c,secure:!0,type:t.Json,format:"json",...d}),structuredOutputControllerRemove:(n,s={})=>this.request({path:`/structured-output/${n}`,method:"DELETE",secure:!0,format:"json",...s}),structuredOutputControllerRun:(n,s={})=>this.request({path:"/structured-output/run",method:"POST",body:n,secure:!0,type:t.Json,format:"json",...s})});Y(this,"testSuite",{testSuiteControllerFindAllPaginated:(n,s={})=>this.request({path:"/test-suite",method:"GET",query:n,secure:!0,format:"json",...s}),testSuiteControllerCreate:(n,s={})=>this.request({path:"/test-suite",method:"POST",body:n,secure:!0,type:t.Json,format:"json",...s}),testSuiteControllerFindOne:(n,s={})=>this.request({path:`/test-suite/${n}`,method:"GET",secure:!0,format:"json",...s}),testSuiteControllerUpdate:(n,s,c={})=>this.request({path:`/test-suite/${n}`,method:"PATCH",body:s,secure:!0,type:t.Json,format:"json",...c}),testSuiteControllerRemove:(n,s={})=>this.request({path:`/test-suite/${n}`,method:"DELETE",secure:!0,format:"json",...s}),testSuiteTestControllerFindAllPaginated:(n,s,c={})=>this.request({path:`/test-suite/${n}/test`,method:"GET",query:s,secure:!0,format:"json",...c}),testSuiteTestControllerCreate:(n,s,c={})=>this.request({path:`/test-suite/${n}/test`,method:"POST",body:s,secure:!0,type:t.Json,format:"json",...c}),testSuiteTestControllerFindOne:(n,s,c={})=>this.request({path:`/test-suite/${n}/test/${s}`,method:"GET",secure:!0,format:"json",...c}),testSuiteTestControllerUpdate:(n,s,c,d={})=>this.request({path:`/test-suite/${n}/test/${s}`,method:"PATCH",body:c,secure:!0,type:t.Json,format:"json",...d}),testSuiteTestControllerRemove:(n,s,c={})=>this.request({path:`/test-suite/${n}/test/${s}`,method:"DELETE",secure:!0,format:"json",...c}),testSuiteRunControllerFindAllPaginated:(n,s,c={})=>this.request({path:`/test-suite/${n}/run`,method:"GET",query:s,secure:!0,format:"json",...c}),testSuiteRunControllerCreate:(n,s,c={})=>this.request({path:`/test-suite/${n}/run`,method:"POST",body:s,secure:!0,type:t.Json,format:"json",...c}),testSuiteRunControllerFindOne:(n,s,c={})=>this.request({path:`/test-suite/${n}/run/${s}`,method:"GET",secure:!0,format:"json",...c}),testSuiteRunControllerUpdate:(n,s,c,d={})=>this.request({path:`/test-suite/${n}/run/${s}`,method:"PATCH",body:c,secure:!0,type:t.Json,format:"json",...d}),testSuiteRunControllerRemove:(n,s,c={})=>this.request({path:`/test-suite/${n}/run/${s}`,method:"DELETE",secure:!0,format:"json",...c})});Y(this,"reporting",{insightControllerCreate:(n,s={})=>this.request({path:"/reporting/insight",method:"POST",body:n,secure:!0,type:t.Json,format:"json",...s}),insightControllerFindAll:(n,s={})=>this.request({path:"/reporting/insight",method:"GET",query:n,secure:!0,format:"json",...s}),insightControllerUpdate:(n,s,c={})=>this.request({path:`/reporting/insight/${n}`,method:"PATCH",body:s,secure:!0,type:t.Json,format:"json",...c}),insightControllerFindOne:(n,s={})=>this.request({path:`/reporting/insight/${n}`,method:"GET",secure:!0,format:"json",...s}),insightControllerRemove:(n,s={})=>this.request({path:`/reporting/insight/${n}`,method:"DELETE",secure:!0,format:"json",...s}),insightControllerRun:(n,s,c={})=>this.request({path:`/reporting/insight/${n}/run`,method:"POST",body:s,secure:!0,type:t.Json,format:"json",...c}),insightControllerPreview:(n,s={})=>this.request({path:"/reporting/insight/preview",method:"POST",body:n,secure:!0,type:t.Json,format:"json",...s})});Y(this,"eval",{evalControllerCreate:(n,s={})=>this.request({path:"/eval",method:"POST",body:n,secure:!0,type:t.Json,format:"json",...s}),evalControllerGetPaginated:(n,s={})=>this.request({path:"/eval",method:"GET",query:n,secure:!0,format:"json",...s}),evalControllerUpdate:(n,s,c={})=>this.request({path:`/eval/${n}`,method:"PATCH",body:s,secure:!0,type:t.Json,format:"json",...c}),evalControllerRemove:(n,s={})=>this.request({path:`/eval/${n}`,method:"DELETE",secure:!0,format:"json",...s}),evalControllerGet:(n,s={})=>this.request({path:`/eval/${n}`,method:"GET",secure:!0,format:"json",...s}),evalControllerRemoveRun:(n,s={})=>this.request({path:`/eval/run/${n}`,method:"DELETE",secure:!0,format:"json",...s}),evalControllerGetRun:(n,s={})=>this.request({path:`/eval/run/${n}`,method:"GET",secure:!0,format:"json",...s}),evalControllerRun:(n,s={})=>this.request({path:"/eval/run",method:"POST",body:n,secure:!0,type:t.Json,...s}),evalControllerGetRunsPaginated:(n,s={})=>this.request({path:"/eval/run",method:"GET",query:n,secure:!0,format:"json",...s})});Y(this,"observability",{scorecardControllerGet:(n,s={})=>this.request({path:`/observability/scorecard/${n}`,method:"GET",secure:!0,format:"json",...s}),scorecardControllerUpdate:(n,s,c={})=>this.request({path:`/observability/scorecard/${n}`,method:"PATCH",body:s,secure:!0,type:t.Json,format:"json",...c}),scorecardControllerRemove:(n,s={})=>this.request({path:`/observability/scorecard/${n}`,method:"DELETE",secure:!0,format:"json",...s}),scorecardControllerGetPaginated:(n,s={})=>this.request({path:"/observability/scorecard",method:"GET",query:n,secure:!0,format:"json",...s}),scorecardControllerCreate:(n,s={})=>this.request({path:"/observability/scorecard",method:"POST",body:n,secure:!0,type:t.Json,format:"json",...s})});Y(this,"org",{orgControllerCreate:(n,s={})=>this.request({path:"/org",method:"POST",body:n,secure:!0,type:t.Json,format:"json",...s}),orgControllerFindAll:(n={})=>this.request({path:"/org",method:"GET",secure:!0,format:"json",...n}),orgControllerFeatureFlagEnabled:(n,s={})=>this.request({path:"/org/feature-flag",method:"GET",query:n,secure:!0,format:"json",...s}),orgControllerFindOne:(n,s={})=>this.request({path:`/org/${n}`,method:"GET",secure:!0,format:"json",...s}),orgControllerUpdate:(n,s,c={})=>this.request({path:`/org/${n}`,method:"PATCH",body:s,secure:!0,type:t.Json,format:"json",...c}),orgControllerDeleteOrg:(n,s={})=>this.request({path:`/org/${n}`,method:"DELETE",secure:!0,...s}),orgControllerFindAllUsers:(n,s={})=>this.request({path:`/org/${n}/user`,method:"GET",secure:!0,format:"json",...s}),orgControllerOrgLeave:(n,s={})=>this.request({path:`/org/${n}/leave`,method:"DELETE",secure:!0,...s}),orgControllerOrgRemoveUser:(n,s,c={})=>this.request({path:`/org/${n}/member/${s}/leave`,method:"DELETE",secure:!0,...c}),orgControllerUsersInvite:(n,s,c={})=>this.request({path:`/org/${n}/invite`,method:"POST",body:s,secure:!0,type:t.Json,...c}),orgControllerUserUpdate:(n,s,c={})=>this.request({path:`/org/${n}/role`,method:"PATCH",body:s,secure:!0,type:t.Json,...c}),orgControllerOrgToken:(n,s={})=>this.request({path:`/org/${n}/auth`,method:"GET",secure:!0,format:"json",...s})});Y(this,"token",{tokenControllerCreate:(n,s={})=>this.request({path:"/token",method:"POST",body:n,secure:!0,type:t.Json,format:"json",...s}),tokenControllerFindAll:(n,s={})=>this.request({path:"/token",method:"GET",query:n,secure:!0,format:"json",...s}),tokenControllerFindOne:(n,s={})=>this.request({path:`/token/${n}`,method:"GET",secure:!0,format:"json",...s}),tokenControllerUpdate:(n,s,c={})=>this.request({path:`/token/${n}`,method:"PATCH",body:s,secure:!0,type:t.Json,format:"json",...c}),tokenControllerRemove:(n,s={})=>this.request({path:`/token/${n}`,method:"DELETE",secure:!0,format:"json",...s})});Y(this,"credential",{credentialControllerCreate:(n,s={})=>this.request({path:"/credential",method:"POST",body:n,secure:!0,type:t.Json,format:"json",...s}),credentialControllerFindAll:(n,s={})=>this.request({path:"/credential",method:"GET",query:n,secure:!0,format:"json",...s}),credentialControllerFindOne:(n,s={})=>this.request({path:`/credential/${n}`,method:"GET",secure:!0,format:"json",...s}),credentialControllerUpdate:(n,s,c={})=>this.request({path:`/credential/${n}`,method:"PATCH",body:s,secure:!0,type:t.Json,format:"json",...c}),credentialControllerRemove:(n,s={})=>this.request({path:`/credential/${n}`,method:"DELETE",secure:!0,format:"json",...s})});Y(this,"template",{templateControllerCreate:(n,s={})=>this.request({path:"/template",method:"POST",body:n,secure:!0,type:t.Json,format:"json",...s}),templateControllerFindAll:(n,s={})=>this.request({path:"/template",method:"GET",query:n,secure:!0,format:"json",...s}),templateControllerFindAllPinned:(n={})=>this.request({path:"/template/pinned",method:"GET",secure:!0,format:"json",...n}),templateControllerFindOne:(n,s={})=>this.request({path:`/template/${n}`,method:"GET",secure:!0,format:"json",...s}),templateControllerUpdate:(n,s,c={})=>this.request({path:`/template/${n}`,method:"PATCH",body:s,secure:!0,type:t.Json,format:"json",...c}),templateControllerRemove:(n,s={})=>this.request({path:`/template/${n}`,method:"DELETE",secure:!0,format:"json",...s})});Y(this,"voiceLibrary",{voiceLibraryControllerVoiceGetByProvider:(n,s,c={})=>this.request({path:`/voice-library/${n}`,method:"GET",query:s,secure:!0,format:"json",...c}),voiceLibraryControllerVoiceGetAccentsByProvider:(n,s={})=>this.request({path:`/voice-library/${n}/accents`,method:"GET",secure:!0,format:"json",...s}),voiceLibraryControllerVoiceLibrarySyncByProvider:(n,s={})=>this.request({path:`/voice-library/sync/${n}`,method:"POST",secure:!0,format:"json",...s}),voiceLibraryControllerVoiceLibrarySyncDefaultVoices:(n,s={})=>this.request({path:"/voice-library/sync",method:"POST",body:n,secure:!0,type:t.Json,format:"json",...s}),voiceLibraryControllerVoiceLibraryCreateSesameVoice:(n,s={})=>this.request({path:"/voice-library/create-sesame-voice",method:"POST",body:n,secure:!0,type:t.Json,...s})});Y(this,"provider",{providerResourceControllerCreateProviderResource:(n,s,c={})=>this.request({path:`/provider/${n}/${s}`,method:"POST",secure:!0,format:"json",...c}),providerResourceControllerGetProviderResourcesPaginated:(n,s,c,d={})=>this.request({path:`/provider/${n}/${s}`,method:"GET",query:c,secure:!0,format:"json",...d}),providerResourceControllerGetProviderResource:(n,s,c,d={})=>this.request({path:`/provider/${n}/${s}/${c}`,method:"GET",secure:!0,format:"json",...d}),providerResourceControllerDeleteProviderResource:(n,s,c,d={})=>this.request({path:`/provider/${n}/${s}/${c}`,method:"DELETE",secure:!0,format:"json",...d}),providerResourceControllerUpdateProviderResource:(n,s,c,d={})=>this.request({path:`/provider/${n}/${s}/${c}`,method:"PATCH",secure:!0,format:"json",...d}),providerControllerGetWorkflows:(n,s,c={})=>this.request({path:`/${n}/workflows`,method:"GET",query:s,secure:!0,format:"json",...c}),providerControllerGetWorkflowTriggerHook:(n,s,c={})=>this.request({path:`/${n}/workflows/${s}/hooks`,method:"GET",secure:!0,format:"json",...c}),providerControllerGetLocations:(n,s={})=>this.request({path:`/${n}/locations`,method:"GET",secure:!0,format:"json",...s}),voiceProviderControllerSearchVoices:(n,s,c={})=>this.request({path:`/${n}/voices/search`,method:"GET",query:s,secure:!0,format:"json",...c}),voiceProviderControllerSearchVoice:(n,s,c={})=>this.request({path:`/${n}/voice/search`,method:"GET",query:s,secure:!0,format:"json",...c}),voiceProviderControllerAddVoices:(n,s,c={})=>this.request({path:`/${n}/voices/add`,method:"POST",body:s,secure:!0,type:t.Json,format:"json",...c}),voiceProviderControllerAddVoice:(n,s,c={})=>this.request({path:`/${n}/voice/add`,method:"POST",body:s,secure:!0,type:t.Json,format:"json",...c})});Y(this,"v11Labs",{voiceProviderControllerCloneVoices:(n,s={})=>this.request({path:"/11labs/voice/clone",method:"POST",body:n,secure:!0,type:t.FormData,...s})});Y(this,"analytics",{analyticsControllerQuery:(n,s={})=>this.request({path:"/analytics",method:"POST",body:n,secure:!0,type:t.Json,format:"json",...s})})}}return Fe.Api=r,Fe}var Fs;function Md(){if(Fs)return Pt;Fs=1,Object.defineProperty(Pt,"__esModule",{value:!0}),Pt.client=void 0;const t=Od(),e=new t.Api({baseUrl:"https://api.vapi.ai",baseApiParams:{secure:!0},securityWorker:async r=>{if(r)return{headers:{Authorization:`Bearer ${r}`}}}});return Pt.client=e,Pt}var nt={},Bs;function Id(){if(Bs)return nt;Bs=1,Object.defineProperty(nt,"__esModule",{value:!0}),nt.createSafeDailyConfig=t,nt.safeSetLocalAudio=e,nt.safeSetInputDevicesAsync=r,nt.createSafeDailyFactoryOptions=i;function t(o){if(!o)return{};const{alwaysIncludeMicInPermissionPrompt:n,...s}=o;return n===!1?(console.warn("[Vapi] alwaysIncludeMicInPermissionPrompt:false detected. This can cause Chrome 140+ issues. Removing the property."),s):o}function e(o,n){if(!o)throw new Error("Call object is not available.");o.setLocalAudio(n)}async function r(o,n){if(!o)throw new Error("Call object is not available.");if("audioSource"in n&&n.audioSource===!1){console.warn("[Vapi] setInputDevicesAsync with audioSource:false detected. This can cause Chrome 140+ issues. Using default device instead.");const{audioSource:s,...c}=n;await o.setInputDevicesAsync(c);return}await o.setInputDevicesAsync(n)}function i(o){return o?o.audioSource===!1?(console.warn("[Vapi] audioSource:false detected in factory options. This can cause Chrome 140+ issues. Defaulting to true."),{...o,audioSource:!0}):o:{}}return nt}var Us;function Pd(){if(Us)return ft;Us=1;var t=ft&&ft.__importDefault||function(C){return C&&C.__esModule?C:{default:C}};Object.defineProperty(ft,"__esModule",{value:!0});const e=t(Td),r=t(jd()),i=Md(),o=Id();function n(C){if(C==null)return{message:"Unknown error (null or undefined)"};if(C instanceof Error){const x={message:C.message,name:C.name,stack:C.stack},h=C;return h.code!==void 0&&(x.code=h.code),h.cause!==void 0&&(x.cause=String(h.cause)),h.reason!==void 0&&(x.reason=h.reason),h.details!==void 0&&(x.details=h.details),h.errorMsg!==void 0&&(x.errorMsg=h.errorMsg),h.error!==void 0&&typeof h.error=="string"&&(x.errorDetail=h.error),x}if(typeof C=="string")return{message:C};if(typeof C=="object"){const x=C;return{message:x.message||x.error||JSON.stringify(C),...x}}return{message:String(C)}}async function s(C,x){C.muted=!1,C.autoplay=!0,x!=null&&(C.srcObject=new MediaStream([x]),await C.play())}async function c(C,x){const h=document.createElement("audio");return h.dataset.participantId=x,document.body.appendChild(h),await s(h,C),h}function d(C){const x=document.querySelector(`audio[data-participant-id="${C}"]`);x==null||x.remove()}function p(C,x,h,m){C.participant.local||x.updateParticipant(C.participant.session_id,{setSubscribedTracks:{audio:!0,video:h||m}})}class v extends r.default{on(x,h){return super.on(x,h),this}once(x,h){return super.once(x,h),this}emit(x,...h){return super.emit(x,...h)}removeListener(x,h){return super.removeListener(x,h),this}removeAllListeners(x){return super.removeAllListeners(x),this}}class E extends v{constructor(h,m,k,_){super();Y(this,"started",!1);Y(this,"call",null);Y(this,"speakingTimeout",null);Y(this,"dailyCallConfig",{});Y(this,"dailyCallObject",{});Y(this,"hasEmittedCallEndedStatus",!1);i.client.baseUrl=m??"https://api.vapi.ai",i.client.setSecurityData(h),this.dailyCallConfig=(0,o.createSafeDailyConfig)(k),this.dailyCallObject=(0,o.createSafeDailyFactoryOptions)(_)}async cleanup(){this.started=!1,this.hasEmittedCallEndedStatus=!1,this.call&&(await this.call.destroy(),this.call=null),this.speakingTimeout=null}isMobileDevice(){if(typeof navigator>"u")return!1;const h=navigator.userAgent;return/android|iphone|ipad|ipod|iemobile|blackberry|bada/i.test(h.toLowerCase())}async sleep(h){return new Promise(m=>setTimeout(m,h))}async start(h,m,k,_,b,A){var S,T,O,D,L,R,V;const w=Date.now();if(!h&&!k&&!_){const Z=new Error("Assistant or Squad or Workflow must be provided.");throw this.emit("error",{type:"validation-error",stage:"input-validation",error:n(Z),timestamp:new Date().toISOString()}),Z}if(this.started)return this.emit("call-start-progress",{stage:"validation",status:"failed",timestamp:new Date().toISOString(),metadata:{reason:"already-started"}}),null;this.emit("call-start-progress",{stage:"initialization",status:"started",timestamp:new Date().toISOString(),metadata:{hasAssistant:!!h,hasSquad:!!k,hasWorkflow:!!_}}),this.started=!0;try{this.emit("call-start-progress",{stage:"web-call-creation",status:"started",timestamp:new Date().toISOString()});const Z=Date.now(),N=(await i.client.call.callControllerCreateWebCall({assistant:typeof h=="string"?void 0:h,assistantId:typeof h=="string"?h:void 0,assistantOverrides:m,squad:typeof k=="string"?void 0:k,squadId:typeof k=="string"?k:void 0,workflow:typeof _=="string"?void 0:_,workflowId:typeof _=="string"?_:void 0,workflowOverrides:b,roomDeleteOnUserLeaveEnabled:A==null?void 0:A.roomDeleteOnUserLeaveEnabled})).data,z=Date.now()-Z;this.emit("call-start-progress",{stage:"web-call-creation",status:"completed",duration:z,timestamp:new Date().toISOString(),metadata:{callId:(N==null?void 0:N.id)||"unknown",videoRecordingEnabled:((S=N==null?void 0:N.artifactPlan)==null?void 0:S.videoRecordingEnabled)??!1,voiceProvider:((O=(T=N==null?void 0:N.assistant)==null?void 0:T.voice)==null?void 0:O.provider)||"unknown"}}),this.call&&(this.emit("call-start-progress",{stage:"daily-call-object-creation",status:"started",timestamp:new Date().toISOString(),metadata:{action:"cleanup-existing"}}),await this.cleanup());const W=((D=N==null?void 0:N.artifactPlan)==null?void 0:D.videoRecordingEnabled)??!1,U=((R=(L=N==null?void 0:N.assistant)==null?void 0:L.voice)==null?void 0:R.provider)==="tavus";this.emit("call-start-progress",{stage:"daily-call-object-creation",status:"started",timestamp:new Date().toISOString(),metadata:{audioSource:this.dailyCallObject.audioSource??!0,videoSource:this.dailyCallObject.videoSource??W,isVideoRecordingEnabled:W,isVideoEnabled:U}});const ie=Date.now();try{this.call=e.default.createCallObject({audioSource:this.dailyCallObject.audioSource??!0,videoSource:this.dailyCallObject.videoSource??W,dailyConfig:this.dailyCallConfig});const a=Date.now()-ie;this.emit("call-start-progress",{stage:"daily-call-object-creation",status:"completed",duration:a,timestamp:new Date().toISOString()})}catch(a){const u=Date.now()-ie,l=n(a);throw this.emit("call-start-progress",{stage:"daily-call-object-creation",status:"failed",duration:u,timestamp:new Date().toISOString(),metadata:{error:l.message}}),this.emit("error",{type:"daily-call-object-creation-error",stage:"daily-call-object-creation",error:l,timestamp:new Date().toISOString()}),a}(V=this.call.iframe())==null||V.style.setProperty("display","none"),this.call.on("left-meeting",()=>{var a;this.emit("call-end"),this.hasEmittedCallEndedStatus||(this.emit("message",{type:"status-update",status:"ended",endedReason:"customer-ended-call"}),this.hasEmittedCallEndedStatus=!0),W&&((a=this.call)==null||a.stopRecording()),this.cleanup().catch(console.error)}),this.call.on("error",a=>{var u;this.emit("error",{type:"daily-error",error:n(a),timestamp:new Date().toISOString()}),W&&((u=this.call)==null||u.stopRecording())}),this.call.on("camera-error",a=>{this.emit("camera-error",{type:"camera-error",error:n(a),timestamp:new Date().toISOString()})}),this.call.on("network-quality-change",a=>{this.emit("network-quality-change",a)}),this.call.on("network-connection",a=>{this.emit("network-connection",a)}),this.call.on("track-started",async a=>{var u,l,f;!a||!a.participant||(u=a.participant)!=null&&u.local||((l=a.participant)==null?void 0:l.user_name)==="Vapi Speaker"&&(a.track.kind==="video"&&this.emit("video",a.track),a.track.kind==="audio"&&await c(a.track,a.participant.session_id),(f=this.call)==null||f.sendAppMessage("playable"))}),this.call.on("participant-joined",a=>{!a||!this.call||p(a,this.call,W,U)}),this.call.on("participant-updated",a=>{a&&this.emit("daily-participant-updated",a.participant)}),this.call.on("participant-left",a=>{a&&d(a.participant.session_id)});const pe=this.isMobileDevice();if(this.emit("call-start-progress",{stage:"mobile-permissions",status:"started",timestamp:new Date().toISOString(),metadata:{isMobile:pe}}),pe){const a=Date.now();await this.sleep(1e3);const u=Date.now()-a;this.emit("call-start-progress",{stage:"mobile-permissions",status:"completed",duration:u,timestamp:new Date().toISOString(),metadata:{action:"permissions-wait"}})}else this.emit("call-start-progress",{stage:"mobile-permissions",status:"completed",timestamp:new Date().toISOString(),metadata:{action:"skipped-not-mobile"}});this.emit("call-start-progress",{stage:"daily-call-join",status:"started",timestamp:new Date().toISOString()});const ge=Date.now();try{await this.call.join({url:N.webCallUrl,subscribeToTracksAutomatically:!1});const a=Date.now()-ge;this.emit("call-start-progress",{stage:"daily-call-join",status:"completed",duration:a,timestamp:new Date().toISOString()})}catch(a){const u=Date.now()-ge,l=n(a);throw this.emit("call-start-progress",{stage:"daily-call-join",status:"failed",duration:u,timestamp:new Date().toISOString(),metadata:{error:l.message}}),this.emit("error",{type:"daily-call-join-error",stage:"daily-call-join",error:l,duration:u,timestamp:new Date().toISOString()}),a}if(W){this.emit("call-start-progress",{stage:"video-recording-setup",status:"started",timestamp:new Date().toISOString()});const a=new Date().getTime(),u=Date.now();try{this.call.startRecording({width:1280,height:720,backgroundColor:"#FF1F2D3D",layout:{preset:"default"}});const l=Date.now()-u;this.emit("call-start-progress",{stage:"video-recording-setup",status:"completed",duration:l,timestamp:new Date().toISOString()}),this.call.on("recording-started",()=>{const f=(new Date().getTime()-a)/1e3;this.emit("call-start-progress",{stage:"video-recording-started",status:"completed",timestamp:new Date().toISOString(),metadata:{delaySeconds:f}}),this.send({type:"control",control:"say-first-message",videoRecordingStartDelaySeconds:f})})}catch(l){const f=Date.now()-u,y=n(l);this.emit("call-start-progress",{stage:"video-recording-setup",status:"failed",duration:f,timestamp:new Date().toISOString(),metadata:{error:y.message}}),this.emit("error",{type:"video-recording-setup-error",stage:"video-recording-setup",error:y,timestamp:new Date().toISOString()})}}else this.emit("call-start-progress",{stage:"video-recording-setup",status:"completed",timestamp:new Date().toISOString(),metadata:{action:"skipped-not-enabled"}});this.emit("call-start-progress",{stage:"audio-observer-setup",status:"started",timestamp:new Date().toISOString()});const Ae=Date.now();try{this.call.startRemoteParticipantsAudioLevelObserver(100);const a=Date.now()-Ae;this.emit("call-start-progress",{stage:"audio-observer-setup",status:"completed",duration:a,timestamp:new Date().toISOString()})}catch(a){const u=Date.now()-Ae,l=n(a);this.emit("call-start-progress",{stage:"audio-observer-setup",status:"failed",duration:u,timestamp:new Date().toISOString(),metadata:{error:l.message}}),this.emit("error",{type:"audio-observer-setup-error",stage:"audio-observer-setup",error:l,timestamp:new Date().toISOString()})}this.call.on("remote-participants-audio-level",a=>{a&&this.handleRemoteParticipantsAudioLevel(a)}),this.call.on("app-message",a=>this.onAppMessage(a)),this.call.on("nonfatal-error",a=>{var u;(a==null?void 0:a.type)==="audio-processor-error"&&((u=this.call)==null||u.updateInputSettings({audio:{processor:{type:"none"}}}).then(()=>{(0,o.safeSetLocalAudio)(this.call,!0)}))}),this.emit("call-start-progress",{stage:"audio-processing-setup",status:"started",timestamp:new Date().toISOString()});const ae=Date.now();try{this.call.updateInputSettings({audio:{processor:{type:"noise-cancellation"}}});const a=Date.now()-ae;this.emit("call-start-progress",{stage:"audio-processing-setup",status:"completed",duration:a,timestamp:new Date().toISOString()})}catch(a){const u=Date.now()-ae,l=n(a);this.emit("call-start-progress",{stage:"audio-processing-setup",status:"failed",duration:u,timestamp:new Date().toISOString(),metadata:{error:l.message}}),this.emit("error",{type:"audio-processing-setup-error",stage:"audio-processing-setup",error:l,timestamp:new Date().toISOString()})}const Ne=Date.now()-w;return this.emit("call-start-success",{totalDuration:Ne,callId:(N==null?void 0:N.id)||"unknown",timestamp:new Date().toISOString()}),N}catch(Z){const N=Date.now()-w,z=n(Z);return this.emit("call-start-failed",{stage:"unknown",totalDuration:N,error:z.message,errorStack:z.stack||"No stack trace available",timestamp:new Date().toISOString(),context:{hasAssistant:!!h,hasSquad:!!k,hasWorkflow:!!_,isMobile:this.isMobileDevice()}}),this.emit("error",{type:"start-method-error",stage:"unknown",error:z,totalDuration:N,timestamp:new Date().toISOString(),context:{hasAssistant:!!h,hasSquad:!!k,hasWorkflow:!!_,isMobile:this.isMobileDevice()}}),await this.cleanup(),null}}onAppMessage(h){if(h)try{if(h.data==="listening")return this.emit("call-start");try{const m=JSON.parse(h.data);this.emit("message",m),m&&"type"in m&&"status"in m&&m.type==="status-update"&&m.status==="ended"&&(this.hasEmittedCallEndedStatus=!0)}catch(m){console.log("Error parsing message data: ",m)}}catch(m){console.error(m)}}handleRemoteParticipantsAudioLevel(h){const m=Object.values(h.participantsAudioLevel).reduce((_,b)=>_+b,0);this.emit("volume-level",Math.min(1,m/.15)),m>.01&&(this.speakingTimeout?(clearTimeout(this.speakingTimeout),this.speakingTimeout=null):this.emit("speech-start"),this.speakingTimeout=setTimeout(()=>{this.emit("speech-end"),this.speakingTimeout=null},1e3))}async stop(){this.started=!1,this.call&&(await this.call.destroy(),this.call=null),this.speakingTimeout=null}send(h){var m;(m=this.call)==null||m.sendAppMessage(JSON.stringify(h))}setMuted(h){(0,o.safeSetLocalAudio)(this.call,!h)}isMuted(){return this.call?this.call.localAudio()===!1:!1}say(h,m,k,_){this.send({type:"say",message:h,endCallAfterSpoken:m,interruptionsEnabled:k??!1,interruptAssistantEnabled:_??!1})}end(){this.send({type:"end-call"}),this.stop()}setInputDevicesAsync(h){return(0,o.safeSetInputDevicesAsync)(this.call,h)}async increaseMicLevel(h){if(!this.call)throw new Error("Call object is not available.");try{const m=await navigator.mediaDevices.getUserMedia({audio:!0}),k=new AudioContext,_=k.createMediaStreamSource(m),b=k.createGain();b.gain.value=h,_.connect(b);const A=k.createMediaStreamDestination();b.connect(A);const[w]=A.stream.getAudioTracks();await(0,o.safeSetInputDevicesAsync)(this.call,{audioSource:w})}catch(m){console.error("Error adjusting microphone level:",m)}}setOutputDeviceAsync(h){var m;(m=this.call)==null||m.setOutputDeviceAsync(h)}getDailyCallObject(){return this.call}startScreenSharing(h,m){var k;(k=this.call)==null||k.startScreenShare({displayMediaOptions:h,screenVideoSendSettings:m})}stopScreenSharing(){var h;(h=this.call)==null||h.stopScreenShare()}async reconnect(h){var k,_,b,A,w,S,T,O,D,L,R,V,Z;const m=Date.now();if(this.started)throw new Error("Cannot reconnect while a call is already in progress. Call stop() first.");if(!h.webCallUrl)throw new Error("webCallUrl is required for reconnection.");this.emit("call-start-progress",{stage:"reconnect-initialization",status:"started",timestamp:new Date().toISOString(),metadata:{callId:h.id||"unknown",hasVideoRecording:!!((k=h==null?void 0:h.artifactPlan)!=null&&k.videoRecordingEnabled),voiceProvider:((b=(_=h==null?void 0:h.assistant)==null?void 0:_.voice)==null?void 0:b.provider)||"unknown"}}),this.started=!0;try{this.call&&(this.emit("call-start-progress",{stage:"cleanup-existing-call",status:"started",timestamp:new Date().toISOString()}),await this.cleanup(),this.emit("call-start-progress",{stage:"cleanup-existing-call",status:"completed",timestamp:new Date().toISOString()}));const N=((A=h==null?void 0:h.artifactPlan)==null?void 0:A.videoRecordingEnabled)??!1,z=((S=(w=h==null?void 0:h.assistant)==null?void 0:w.voice)==null?void 0:S.provider)==="tavus";this.emit("call-start-progress",{stage:"daily-call-object-creation",status:"started",timestamp:new Date().toISOString(),metadata:{audioSource:this.dailyCallObject.audioSource??!0,videoSource:this.dailyCallObject.videoSource??N,isVideoRecordingEnabled:N,isVideoEnabled:z}});const W=Date.now();this.call=e.default.createCallObject({audioSource:this.dailyCallObject.audioSource??!0,videoSource:this.dailyCallObject.videoSource??N,dailyConfig:this.dailyCallConfig});const U=Date.now()-W;this.emit("call-start-progress",{stage:"daily-call-object-creation",status:"completed",duration:U,timestamp:new Date().toISOString()}),(T=this.call.iframe())==null||T.style.setProperty("display","none"),this.call.on("left-meeting",()=>{var a;this.emit("call-end"),this.hasEmittedCallEndedStatus||(this.emit("message",{type:"status-update",status:"ended",endedReason:"customer-ended-call"}),this.hasEmittedCallEndedStatus=!0),N&&((a=this.call)==null||a.stopRecording()),this.cleanup().catch(console.error)}),this.call.on("error",a=>{var u;this.emit("error",{type:"daily-error",error:n(a),timestamp:new Date().toISOString()}),N&&((u=this.call)==null||u.stopRecording())}),this.call.on("camera-error",a=>{this.emit("camera-error",{type:"camera-error",error:n(a),timestamp:new Date().toISOString()})}),this.call.on("network-quality-change",a=>{this.emit("network-quality-change",a)}),this.call.on("network-connection",a=>{this.emit("network-connection",a)}),this.call.on("track-started",async a=>{var u,l,f;!a||!a.participant||(u=a.participant)!=null&&u.local||((l=a.participant)==null?void 0:l.user_name)==="Vapi Speaker"&&(a.track.kind==="video"&&this.emit("video",a.track),a.track.kind==="audio"&&await c(a.track,a.participant.session_id),(f=this.call)==null||f.sendAppMessage("playable"))}),this.call.on("participant-joined",a=>{!a||!this.call||p(a,this.call,N,z)}),this.call.on("participant-updated",a=>{a&&this.emit("daily-participant-updated",a.participant)}),this.call.on("participant-left",a=>{a&&d(a.participant.session_id)}),this.call.on("remote-participants-audio-level",a=>{a&&this.handleRemoteParticipantsAudioLevel(a)}),this.call.on("app-message",a=>this.onAppMessage(a)),this.call.on("nonfatal-error",a=>{var u;(a==null?void 0:a.type)==="audio-processor-error"&&((u=this.call)==null||u.updateInputSettings({audio:{processor:{type:"none"}}}).then(()=>{(0,o.safeSetLocalAudio)(this.call,!0)}))});const ie=this.isMobileDevice();if(this.emit("call-start-progress",{stage:"mobile-permissions",status:"started",timestamp:new Date().toISOString(),metadata:{isMobile:ie}}),ie){const a=Date.now();await this.sleep(1e3);const u=Date.now()-a;this.emit("call-start-progress",{stage:"mobile-permissions",status:"completed",duration:u,timestamp:new Date().toISOString(),metadata:{action:"permissions-wait"}})}else this.emit("call-start-progress",{stage:"mobile-permissions",status:"completed",timestamp:new Date().toISOString(),metadata:{action:"skipped-not-mobile"}});this.emit("call-start-progress",{stage:"daily-call-join",status:"started",timestamp:new Date().toISOString()});const pe=Date.now();await this.call.join({url:h.webCallUrl,subscribeToTracksAutomatically:!1});const ge=Date.now()-pe;if(this.emit("call-start-progress",{stage:"daily-call-join",status:"completed",duration:ge,timestamp:new Date().toISOString()}),N){this.emit("call-start-progress",{stage:"video-recording-setup",status:"started",timestamp:new Date().toISOString()});const a=Date.now(),u=new Date().getTime();try{this.call.startRecording({width:1280,height:720,backgroundColor:"#FF1F2D3D",layout:{preset:"default"}});const l=Date.now()-a;this.emit("call-start-progress",{stage:"video-recording-setup",status:"completed",duration:l,timestamp:new Date().toISOString()}),this.call.on("recording-started",()=>{const f=(new Date().getTime()-u)/1e3;this.emit("call-start-progress",{stage:"video-recording-started",status:"completed",timestamp:new Date().toISOString(),metadata:{delaySeconds:f}}),this.send({type:"control",control:"say-first-message",videoRecordingStartDelaySeconds:f})})}catch(l){const f=Date.now()-a,y=n(l);this.emit("call-start-progress",{stage:"video-recording-setup",status:"failed",duration:f,timestamp:new Date().toISOString(),metadata:{error:y.message}})}}else this.emit("call-start-progress",{stage:"video-recording-setup",status:"completed",timestamp:new Date().toISOString(),metadata:{action:"skipped-not-enabled"}});this.emit("call-start-progress",{stage:"audio-observer-setup",status:"started",timestamp:new Date().toISOString()});const Ae=Date.now();try{this.call.startRemoteParticipantsAudioLevelObserver(100);const a=Date.now()-Ae;this.emit("call-start-progress",{stage:"audio-observer-setup",status:"completed",duration:a,timestamp:new Date().toISOString()})}catch(a){const u=Date.now()-Ae,l=n(a);this.emit("call-start-progress",{stage:"audio-observer-setup",status:"failed",duration:u,timestamp:new Date().toISOString(),metadata:{error:l.message}})}this.emit("call-start-progress",{stage:"audio-processing-setup",status:"started",timestamp:new Date().toISOString()});const ae=Date.now();try{this.call.updateInputSettings({audio:{processor:{type:"noise-cancellation"}}});const a=Date.now()-ae;this.emit("call-start-progress",{stage:"audio-processing-setup",status:"completed",duration:a,timestamp:new Date().toISOString()})}catch(a){const u=Date.now()-ae,l=n(a);this.emit("call-start-progress",{stage:"audio-processing-setup",status:"failed",duration:u,timestamp:new Date().toISOString(),metadata:{error:l.message}})}const Ne=Date.now()-m;this.emit("call-start-success",{totalDuration:Ne,callId:(h==null?void 0:h.id)||"unknown",timestamp:new Date().toISOString()}),this.emit("call-start")}catch(N){const z=Date.now()-m,W=n(N);throw this.emit("call-start-failed",{stage:"reconnect",totalDuration:z,error:W.message,errorStack:W.stack||"No stack trace available",timestamp:new Date().toISOString(),context:{isReconnect:!0,callId:(h==null?void 0:h.id)||"unknown",hasVideoRecording:!!((O=h==null?void 0:h.artifactPlan)!=null&&O.videoRecordingEnabled),voiceProvider:((L=(D=h==null?void 0:h.assistant)==null?void 0:D.voice)==null?void 0:L.provider)||"unknown",isMobile:this.isMobileDevice()}}),this.emit("error",{type:"reconnect-error",error:W,totalDuration:z,timestamp:new Date().toISOString(),context:{isReconnect:!0,callId:(h==null?void 0:h.id)||"unknown",hasVideoRecording:!!((R=h==null?void 0:h.artifactPlan)!=null&&R.videoRecordingEnabled),voiceProvider:((Z=(V=h==null?void 0:h.assistant)==null?void 0:V.voice)==null?void 0:Z.provider)||"unknown",isMobile:this.isMobileDevice()}}),await this.cleanup(),N}}static async runNetworkTestsStandalone(){console.log("Starting standalone network connectivity tests...");const h={};let m=null;try{console.log("Creating temporary call object for testing..."),m=e.default.createCallObject({audioSource:!0,videoSource:!0}),console.log(`
1. Testing network connectivity (TURN server)...`);let k=null;try{k=(await navigator.mediaDevices.getUserMedia({video:!0})).getVideoTracks()[0];const b=await m.testNetworkConnectivity(k);h.networkConnectivity=b,console.log("Network connectivity test result:",b)}catch(_){h.networkConnectivity={result:"error",error:_==null?void 0:_.toString()},console.error("Network connectivity test error:",_)}finally{k&&k.stop()}console.log(`
2. Testing websocket connectivity...`);try{const _=await m.testWebsocketConnectivity();h.websocketConnectivity=_,console.log("Websocket connectivity test result:",_)}catch(_){h.websocketConnectivity={result:"error",error:_==null?void 0:_.toString()},console.error("Websocket connectivity test error:",_)}console.log(`
3. Testing call quality...`);try{if(typeof m.testCallQuality=="function")try{console.log("Initializing call state with startCamera..."),await m.startCamera();const _=await m.testCallQuality();h.callQuality=_,console.log("Call quality test result:",_)}catch(_){console.error("Failed to start camera for call quality test:",_),h.callQuality={result:"error",error:_==null?void 0:_.toString(),message:"Failed to initialize camera for call quality test. Check camera permissions."}}else h.callQuality={result:"not-available",message:"testCallQuality method not available"},console.log("Call quality test not available in current Daily.co version")}catch(_){h.callQuality={result:"error",error:_==null?void 0:_.toString()},console.error("Call quality test error:",_)}}catch(k){console.error("Failed to create temporary call object:",k),h.error=k==null?void 0:k.toString()}finally{if(m)try{console.log("Cleaning up temporary call object..."),await m.destroy()}catch(k){console.error("Error destroying temporary call object:",k)}}return console.log(`
=== Network Test Summary ===`),console.log("Results:",JSON.stringify(h,null,2)),h}}return ft.default=E,ft}var Dd=Pd();const Ld=nc(Dd),Nd=({isSpeaking:t})=>{const e=H.useRef(null);return H.useEffect(()=>{const r=e.current,i=r.getContext("2d");let o,n=0;const s=250,c=130,d=55;let p=1;const v=[],E=Math.PI*(3-Math.sqrt(5));for(let x=0;x<s;x++){const h=1-x/(s-1)*2,m=Math.sqrt(1-h*h),k=E*x,_=Math.cos(k)*m,b=Math.sin(k)*m;v.push({x:_*c,y:h*c,z:b*c,originalX:_*c,originalY:h*c,originalZ:b*c,projected:{x:0,y:0,scale:1}})}const C=()=>{i.clearRect(0,0,r.width,r.height);const x=r.width/2,h=r.height/2,m=t?.025:.005,k=t?1.1:1,_=t?12:3;p+=(k-p)*.08,n+=m,v.forEach(w=>{const S=Math.cos(n),T=Math.sin(n);let O=w.originalX*S-w.originalZ*T,D=w.originalX*T+w.originalZ*S,L=w.originalY;const R=Math.cos(n*.8+L*.03)*_;O+=R;const V=.2;let Z=L*Math.cos(V)-D*Math.sin(V),N=L*Math.sin(V)+D*Math.cos(V);L=Z,D=N,O*=p,L*=p,D*=p;const z=400,W=z/(z+D);w.projected.x=x+O*W,w.projected.y=h+L*W,w.projected.scale=W,w.projected.z=D});const b=t?"168, 85, 247":"107, 33, 168",A=t?"#d8b4fe":"#7e22ce";i.lineWidth=t?1.5:.5;for(let w=0;w<s;w++){const T=Math.max(0,w-30);for(let O=T;O<w;O++){const D=v[w],L=v[O],R=D.projected.x-L.projected.x,V=D.projected.y-L.projected.y,Z=R*R+V*V;if(Z<d*d){const N=(1-Math.sqrt(Z)/d)*.6,z=(D.projected.scale+L.projected.scale)/2;N>0&&(i.beginPath(),i.strokeStyle=`rgba(${b}, ${N*z})`,i.moveTo(D.projected.x,D.projected.y),i.lineTo(L.projected.x,L.projected.y),i.stroke())}}}v.forEach(w=>{const S=(t?3:2)*w.projected.scale;if(S<.5)return;const T=Math.min(1,Math.max(.1,w.projected.scale*1.5));i.beginPath(),i.arc(w.projected.x,w.projected.y,S,0,Math.PI*2);const O=i.createRadialGradient(w.projected.x,w.projected.y,0,w.projected.x,w.projected.y,S*2);O.addColorStop(0,A),O.addColorStop(1,"rgba(255,255,255,0)"),i.fillStyle=O,i.globalAlpha=T,i.fill(),i.globalAlpha=1}),o=requestAnimationFrame(C)};return r.width=500,r.height=500,C(),()=>{cancelAnimationFrame(o)}},[t]),g.jsx("canvas",{ref:e,style:{width:"100%",height:"auto",maxWidth:"400px",aspectRatio:"1/1"}})},Vs="16018716-ebb1-4148-a6f5-70cb3a6bf952",qs="5a97a57e-d69d-4b1b-9ed8-5a51ddcc96c2";function Rd({onClose:t}){const e=H.useRef(null),[r,i]=H.useState(!1),[o,n]=H.useState("Tap to Speak");H.useEffect(()=>{const p=new Ld(Vs);return e.current=p,p.on("call-start",()=>{n("Listening..."),i(!0)}),p.on("call-end",()=>{n("Tap to Speak"),i(!1)}),p.on("speech-start",()=>{n("AI Speaking...")}),p.on("speech-end",()=>{n("Listening...")}),p.on("error",v=>{console.error(v),n("Tap to Speak"),i(!1)}),()=>{p.stop()}},[]);const s=()=>{r?e.current.stop():(n("AI Initializing..."),e.current.start(qs),console.log("Vapi call started"),console.log("assistant id:",qs),console.log("public key:",Vs))},c=()=>{var p;(p=e.current)==null||p.stop(),t()},d=o==="AI Speaking...";return g.jsxs(jn.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},style:_e.container,className:"absolute inset-0 z-[50]",children:[g.jsxs("div",{style:_e.header,children:[g.jsx("button",{style:_e.glassButton,onClick:c,children:g.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"#333",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:g.jsx("path",{d:"M15 18l-6-6 6-6"})})}),g.jsx("div",{style:_e.headerTitleContainer,children:g.jsx("span",{style:_e.headerTitle,children:"Xobia Voice"})}),g.jsx("div",{style:{width:"36px",height:"36px"}})]}),g.jsxs("div",{style:_e.mainContent,children:[g.jsx("div",{style:_e.globeWrapper,children:g.jsx(Nd,{isSpeaking:d})}),g.jsx("p",{className:`text-sm mt-4 font-medium tracking-wide animate-pulse ${r||o==="AI Initializing..."?"text-purple-600":"text-gray-400"}`,children:o})]}),g.jsx("div",{style:_e.footer,children:g.jsx("button",{onClick:s,disabled:o==="AI Initializing...",style:{..._e.micButton,...r||o==="AI Initializing..."?_e.micActiveScale:{}},children:g.jsx("div",{style:{..._e.micIconContainer,...d?_e.micSpeakingPulse:{}},children:g.jsxs("svg",{width:"28",height:"28",viewBox:"0 0 24 24",fill:"none",stroke:"white",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round",children:[g.jsx("path",{d:"M12 1a3 3 0 0 0-3 3v8a3 3 0 0 0 6 0V4a3 3 0 0 0-3-3z"}),g.jsx("path",{d:"M19 10v2a7 7 0 0 1-14 0v-2"}),g.jsx("line",{x1:"12",y1:"19",x2:"12",y2:"23"}),g.jsx("line",{x1:"8",y1:"23",x2:"16",y2:"23"})]})})})})]})}const _e={container:{width:"100%",height:"100%",backgroundColor:"#ffffff",color:"#333",fontFamily:"'Inter', sans-serif",display:"flex",flexDirection:"column",overflow:"hidden",borderRadius:"16px"},header:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"16px",zIndex:10},headerTitleContainer:{background:"rgba(0, 0, 0, 0.05)",padding:"6px 16px",borderRadius:"30px",border:"1px solid rgba(0, 0, 0, 0.05)"},headerTitle:{fontSize:"14px",fontWeight:"700",color:"#333",letterSpacing:"0.5px"},glassButton:{background:"transparent",border:"1px solid rgba(0, 0, 0, 0.1)",borderRadius:"50%",width:"36px",height:"36px",display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer"},mainContent:{flex:1,display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",position:"relative",zIndex:5,marginTop:"-20px"},globeWrapper:{display:"flex",justifyContent:"center",alignItems:"center",transform:"scale(0.9)",filter:"drop-shadow(0 0 30px rgba(147, 51, 234, 0.2))"},footer:{display:"flex",justifyContent:"center",alignItems:"center",paddingBottom:"30px",zIndex:10},micButton:{width:"64px",height:"64px",borderRadius:"50%",border:"none",background:"linear-gradient(180deg, #a855f7 0%, #7e22ce 100%)",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",boxShadow:"0 10px 25px rgba(126, 34, 206, 0.3)",transition:"all 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)"},micActiveScale:{transform:"scale(1.1)",boxShadow:"0 0 50px rgba(126, 34, 206, 0.6)",border:"3px solid #f3e8ff"},micIconContainer:{display:"flex",alignItems:"center",justifyContent:"center"},micSpeakingPulse:{animation:"micPulseAnimation 1s infinite alternate ease-in-out"}},Js="https://xoto.ae";function Fd(){const[t,e]=H.useState([]),[r,i]=H.useState(""),[o,n]=H.useState(!1),[s,c]=H.useState(!1),[d,p]=H.useState(!1),[v,E]=H.useState(!1),[C,x]=H.useState(!1),[h,m]=H.useState(!1),[k,_]=H.useState(null),[b,A]=H.useState(!1),[w,S]=H.useState(0),T=H.useRef(null);H.useRef(null),H.useRef([]);const O=H.useRef(typeof Audio<"u"?new Audio:null);H.useRef(null),H.useRef(null);const D=H.useRef(null);H.useRef(null),H.useRef(!1);const L=()=>{O.current||(O.current=new Audio);const U=O.current;U.src="data:audio/wav;base64,UklGRigAAABXQVZFZm10IBIAAAABAAEARKwAAIhYAQACABAGZGF0YQAAAAA=",U.play().catch(()=>{})};H.useEffect(()=>{const U=D.current;U&&(U.style.height="auto",U.style.height=Math.min(U.scrollHeight,100)+"px")},[r]);const R=()=>{O.current&&(O.current.pause(),O.current.currentTime=0,m(!1),_(null))},V=()=>{R(),c(!1),p(!1)};H.useEffect(()=>{s&&(async()=>{try{const ie=Kn(),Ae=(await(await fetch(`${Js}/api/ai/chat/get-all-messages?session_id=${ie}`)).json()).map(ae=>({id:ae._id,role:ae.sender==="user"?"user":"bot",text:ae.text||"",audioUrl:ae.audioUrl||null,type:ae.audioUrl?"audio":"text",autoPlay:!1,timestamp:new Date(ae.createdAt).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})}));e(Ae)}catch(ie){console.error("Failed to load messages",ie)}})()},[s]),H.useEffect(()=>{var U;(U=T.current)==null||U.scrollIntoView({behavior:"smooth",block:"end"})},[t,o,v,C]);const Z=(U,ie)=>{O.current||(O.current=new Audio);const pe=O.current;pe.pause(),pe.src=U,pe.currentTime=0,m(!0),_(ie),pe.play().catch(()=>{m(!1),_(null)}),pe.onended=()=>{m(!1),_(null)}},N=async()=>{if(!r.trim())return;L();const U={id:Date.now(),role:"user",type:"text",text:r,timestamp:new Date().toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})};e(ie=>[...ie,U]),i(""),n(!0);try{const ie=new FormData;ie.append("message",U.text),ie.append("session_id",Kn());const ge=await(await fetch(`${Js}/api/ai/chat`,{method:"POST",body:ie})).json();e(Ae=>{var ae,Ne,a;return[...Ae,{id:Date.now()+Math.random(),role:"bot",text:((ae=ge.ai)==null?void 0:ae.text)||ge.text||"",audioUrl:((Ne=ge.ai)==null?void 0:Ne.audioUrl)||null,type:(a=ge.ai)!=null&&a.audioUrl?"audio":"text",autoPlay:!0,timestamp:new Date().toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})}]})}catch{e(ie=>[...ie,{id:Date.now(),role:"bot",type:"text",text:"Error connecting to AI.",timestamp:""}])}finally{n(!1)}},z=U=>{U.key==="Enter"&&!U.shiftKey&&(U.preventDefault(),N())},W=()=>g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx("span",{className:"text-sm font-medium text-purple-600",children:"Xobia is speaking"}),g.jsxs("div",{className:"flex gap-1",children:[g.jsx("span",{className:"w-1.5 h-1.5 bg-purple-500 rounded-full animate-bounce"}),g.jsx("span",{className:"w-1.5 h-1.5 bg-purple-500 rounded-full animate-bounce [animation-delay:0.2s]"}),g.jsx("span",{className:"w-1.5 h-1.5 bg-purple-500 rounded-full animate-bounce [animation-delay:0.4s]"})]})]});return g.jsxs(g.Fragment,{children:[g.jsx(ic,{children:!s&&g.jsxs(jn.button,{initial:{y:-100,opacity:0},animate:{y:0,opacity:1},transition:{type:"spring",stiffness:60,damping:15,delay:.5},whileHover:{scale:1.05,boxShadow:"0px 10px 30px rgba(139, 92, 246, 0.3)"},whileTap:{scale:.95},onClick:()=>c(!0),className:"fixed bottom-6 right-6 md:bottom-10 md:right-10 z-[9999] flex items-center gap-4 bg-white border border-slate-100 py-2 pl-6 pr-2 rounded-full shadow-2xl",children:[g.jsxs("div",{className:"flex flex-col text-left",children:[g.jsx("span",{className:"text-[10px] uppercase tracking-widest text-purple-500 font-bold",children:"AI Expert"}),g.jsxs("span",{className:"text-slate-900 font-extrabold text-sm",children:["Talk with ",g.jsx("span",{className:"text-transparent bg-clip-text bg-gradient-to-r from-purple-600 to-blue-600",children:"Xobia"})]})]}),g.jsxs("div",{className:"relative w-12 h-12 bg-gradient-to-tr from-purple-600 via-fuchsia-500 to-blue-500 rounded-full p-[1px]",children:[g.jsx("img",{src:sc,alt:"Xobia",className:"w-full h-full object-cover rounded-full"}),g.jsx("span",{className:"absolute bottom-0 right-0 w-3 h-3 bg-green-500 border-2 border-white rounded-full"})]})]})}),s&&g.jsxs("div",{className:"fixed inset-0 z-[9999] flex items-center justify-center pointer-events-none",children:[g.jsx("div",{className:"absolute inset-0 bg-black/60 md:bg-transparent pointer-events-auto",onClick:V}),g.jsx("div",{className:"pointer-events-auto relative w-[95%] max-w-[400px] md:max-w-md h-[85vh] md:h-[600px] bg-white rounded-2xl shadow-2xl overflow-hidden flex flex-col md:absolute md:bottom-8 md:right-8 animate-in fade-in zoom-in duration-300",children:d?g.jsx(Rd,{onClose:()=>p(!1)}):g.jsxs(g.Fragment,{children:[g.jsxs("div",{className:"flex items-center justify-between p-4 bg-gradient-to-r from-blue-600 to-purple-600 text-white shrink-0",children:[g.jsxs("div",{className:"flex items-center gap-3",children:[g.jsx("div",{className:"w-10 h-10 bg-white/20 rounded-full flex items-center justify-center",children:g.jsx(Wn,{className:"w-6 h-6"})}),g.jsxs("div",{children:[g.jsx("h2",{className:"font-bold text-lg",children:"Talk with Xobia"}),g.jsx("p",{className:"text-xs text-white/80",children:"AI Property Assistant"})]})]}),g.jsx("button",{onClick:V,className:"p-2 hover:bg-white/10 rounded-lg transition-colors",children:g.jsx(ac,{className:"w-5 h-5"})})]}),g.jsx("div",{className:"flex-1 overflow-y-auto p-4 bg-gray-50 scroll-smooth",children:t.length===0?g.jsxs("div",{className:"h-full flex flex-col items-center justify-center text-center p-4",children:[g.jsx("div",{className:"w-16 h-16 bg-blue-50 rounded-full flex items-center justify-center mb-4",children:g.jsx(Wn,{className:"w-8 h-8 text-blue-600"})}),g.jsx("h3",{className:"font-bold text-gray-800 text-lg",children:"Hi, I'm Xobia! 👋"}),g.jsx("p",{className:"text-sm text-gray-600 mb-6",children:"Ask me anything about properties or design."})]}):g.jsxs("div",{className:"space-y-4",children:[t.map(U=>g.jsx("div",{className:`flex ${U.role==="user"?"justify-end":"justify-start"}`,children:g.jsxs("div",{className:`max-w-[85%] rounded-2xl px-4 py-3 ${U.role==="user"?"bg-gradient-to-r from-blue-500 to-purple-500 text-white rounded-br-none":"bg-white text-gray-800 rounded-bl-none shadow-sm border border-gray-100"}`,children:[U.role==="user"&&U.type==="voice-sent"&&g.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[g.jsx(Hn,{className:"w-3 h-3 text-white/80"}),g.jsx("span",{className:"text-xs font-medium text-white/90",children:"Voice Note"})]}),U.role==="bot"&&U.type==="audio"&&(h&&k===U.id?g.jsx(W,{}):g.jsx("button",{onClick:()=>Z(U.audioUrl,U.id),className:"text-sm font-medium flex items-center gap-2",children:g.jsx("span",{children:"🔊 Play Response"})})),U.type==="text"&&g.jsx("p",{className:"text-sm leading-relaxed",children:U.text}),g.jsx("div",{className:`text-[10px] text-right mt-1 ${U.role==="user"?"text-blue-100":"text-gray-400"}`,children:U.timestamp})]})},U.id)),o&&g.jsx("div",{className:"text-xs text-gray-400 ml-2 animate-pulse",children:"Thinking..."}),g.jsx("div",{ref:T})]})}),g.jsx("div",{className:"p-3 bg-white border-t border-gray-100 shrink-0",children:g.jsxs("div",{className:"flex items-end gap-2 h-full min-h-[50px]",children:[g.jsx("button",{onClick:()=>p(!0),disabled:o||h,className:"flex-shrink-0 w-12 h-12 rounded-full flex items-center justify-center bg-gray-100 text-gray-500 hover:bg-blue-50 hover:text-blue-600 transition-all duration-200",children:g.jsx(Hn,{className:"w-5 h-5"})}),g.jsx("div",{className:"flex-1 relative h-12 flex items-center",children:g.jsxs("div",{className:"w-full h-full bg-gray-100 rounded-2xl flex items-center pr-2",children:[g.jsx("textarea",{ref:D,value:r,onChange:U=>i(U.target.value),onKeyDown:z,placeholder:"Type a message...",disabled:o,rows:1,className:"w-full px-4 py-3 bg-transparent border-none focus:ring-0 resize-none text-sm max-h-32 text-gray-800 placeholder-gray-400"}),r.trim()&&g.jsx("button",{onClick:N,className:"p-2 bg-blue-600 text-white rounded-full hover:bg-blue-700 transition-colors shadow-sm",children:g.jsx(oc,{className:"w-3 h-3"})})]})})]})})]})})]})]})}const Vd=()=>{const[t,e]=H.useState(!1);return g.jsxs(g.Fragment,{children:[g.jsx(bc,{}),g.jsx(Pc,{}),g.jsx(Hc,{}),g.jsx(el,{}),g.jsx(kc,{}),g.jsx(zc,{}),g.jsx(Fd,{}),t&&g.jsxs(g.Fragment,{children:[g.jsx("div",{className:"fixed inset-0 bg-black/40 backdrop-blur-sm z-40",onClick:()=>e(!1)}),g.jsx("div",{className:"fixed inset-0 flex items-center justify-center z-50 px-4",children:g.jsxs(jn.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},transition:{type:"spring",damping:20},className:"relative w-full max-w-3xl bg-gradient-to-br from-slate-900/90 to-slate-800/90 rounded-3xl p-6 shadow-2xl border border-white/10",children:[g.jsx("button",{onClick:()=>e(!1),className:"absolute top-4 right-4 text-white text-3xl font-bold hover:scale-110 transition",children:"×"}),g.jsx(rl,{})]})})]})]})};export{Vd as default};
